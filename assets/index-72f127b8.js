var PR=Object.defineProperty;var IR=(t,e,n)=>e in t?PR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var I=(t,e,n)=>(IR(t,typeof e!="symbol"?e+"":e,n),n);function MR(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var RR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mC={exports:{}},Bh={},gC={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc=Symbol.for("react.element"),AR=Symbol.for("react.portal"),OR=Symbol.for("react.fragment"),NR=Symbol.for("react.strict_mode"),LR=Symbol.for("react.profiler"),FR=Symbol.for("react.provider"),VR=Symbol.for("react.context"),BR=Symbol.for("react.forward_ref"),jR=Symbol.for("react.suspense"),WR=Symbol.for("react.memo"),zR=Symbol.for("react.lazy"),_0=Symbol.iterator;function UR(t){return t===null||typeof t!="object"?null:(t=_0&&t[_0]||t["@@iterator"],typeof t=="function"?t:null)}var yC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vC=Object.assign,_C={};function aa(t,e,n){this.props=t,this.context=e,this.refs=_C,this.updater=n||yC}aa.prototype.isReactComponent={};aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wC(){}wC.prototype=aa.prototype;function hy(t,e,n){this.props=t,this.context=e,this.refs=_C,this.updater=n||yC}var fy=hy.prototype=new wC;fy.constructor=hy;vC(fy,aa.prototype);fy.isPureReactComponent=!0;var w0=Array.isArray,bC=Object.prototype.hasOwnProperty,py={current:null},xC={key:!0,ref:!0,__self:!0,__source:!0};function SC(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)bC.call(e,i)&&!xC.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:gc,type:t,key:s,ref:o,props:r,_owner:py.current}}function HR(t,e){return{$$typeof:gc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function my(t){return typeof t=="object"&&t!==null&&t.$$typeof===gc}function YR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var b0=/\/+/g;function jf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YR(""+t.key):e.toString(36)}function Fu(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gc:case AR:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+jf(o,0):i,w0(r)?(n="",t!=null&&(n=t.replace(b0,"$&/")+"/"),Fu(r,e,n,"",function(c){return c})):r!=null&&(my(r)&&(r=HR(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(b0,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",w0(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+jf(s,a);o+=Fu(s,e,n,l,r)}else if(l=UR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+jf(s,a++),o+=Fu(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hc(t,e,n){if(t==null)return t;var i=[],r=0;return Fu(t,i,"","",function(s){return e.call(n,s,r++)}),i}function $R(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Et={current:null},Vu={transition:null},KR={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:Vu,ReactCurrentOwner:py};function kC(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Hc,forEach:function(t,e,n){Hc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hc(t,function(){e++}),e},toArray:function(t){return Hc(t,function(e){return e})||[]},only:function(t){if(!my(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=aa;ee.Fragment=OR;ee.Profiler=LR;ee.PureComponent=hy;ee.StrictMode=NR;ee.Suspense=jR;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KR;ee.act=kC;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=vC({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=py.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)bC.call(e,l)&&!xC.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:gc,type:t.type,key:r,ref:s,props:i,_owner:o}};ee.createContext=function(t){return t={$$typeof:VR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FR,_context:t},t.Consumer=t};ee.createElement=SC;ee.createFactory=function(t){var e=SC.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:BR,render:t}};ee.isValidElement=my;ee.lazy=function(t){return{$$typeof:zR,_payload:{_status:-1,_result:t},_init:$R}};ee.memo=function(t,e){return{$$typeof:WR,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=Vu.transition;Vu.transition={};try{t()}finally{Vu.transition=e}};ee.unstable_act=kC;ee.useCallback=function(t,e){return Et.current.useCallback(t,e)};ee.useContext=function(t){return Et.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return Et.current.useDeferredValue(t)};ee.useEffect=function(t,e){return Et.current.useEffect(t,e)};ee.useId=function(){return Et.current.useId()};ee.useImperativeHandle=function(t,e,n){return Et.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return Et.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return Et.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return Et.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return Et.current.useReducer(t,e,n)};ee.useRef=function(t){return Et.current.useRef(t)};ee.useState=function(t){return Et.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return Et.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return Et.current.useTransition()};ee.version="18.3.1";gC.exports=ee;var k=gC.exports;const P=dy(k),CC=MR({__proto__:null,default:P},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qR=k,GR=Symbol.for("react.element"),QR=Symbol.for("react.fragment"),XR=Object.prototype.hasOwnProperty,JR=qR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZR={key:!0,ref:!0,__self:!0,__source:!0};function EC(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)XR.call(e,i)&&!ZR.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:GR,type:t,key:s,ref:o,props:r,_owner:JR.current}}Bh.Fragment=QR;Bh.jsx=EC;Bh.jsxs=EC;mC.exports=Bh;var D=mC.exports,TC={exports:{}},Gt={},DC={exports:{}},PC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,V){var W=M.length;M.push(V);e:for(;0<W;){var G=W-1>>>1,we=M[G];if(0<r(we,V))M[G]=V,M[W]=we,W=G;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var V=M[0],W=M.pop();if(W!==V){M[0]=W;e:for(var G=0,we=M.length,On=we>>>1;G<On;){var gt=2*(G+1)-1,ii=M[gt],yt=gt+1,Uc=M[yt];if(0>r(ii,W))yt<we&&0>r(Uc,ii)?(M[G]=Uc,M[yt]=W,G=yt):(M[G]=ii,M[gt]=W,G=gt);else if(yt<we&&0>r(Uc,W))M[G]=Uc,M[yt]=W,G=yt;else break e}}return V}function r(M,V){var W=M.sortIndex-V.sortIndex;return W!==0?W:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(M){for(var V=n(c);V!==null;){if(V.callback===null)i(c);else if(V.startTime<=M)i(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function b(M){if(m=!1,_(M),!p)if(n(l)!==null)p=!0,B(w);else{var V=n(c);V!==null&&F(b,V.startTime-M)}}function w(M,V){p=!1,m&&(m=!1,g(x),x=-1),f=!0;var W=h;try{for(_(V),d=n(l);d!==null&&(!(d.expirationTime>V)||M&&!R());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var we=G(d.expirationTime<=V);V=t.unstable_now(),typeof we=="function"?d.callback=we:d===n(l)&&i(l),_(V)}else i(l);d=n(l)}if(d!==null)var On=!0;else{var gt=n(c);gt!==null&&F(b,gt.startTime-V),On=!1}return On}finally{d=null,h=W,f=!1}}var S=!1,C=null,x=-1,E=5,T=-1;function R(){return!(t.unstable_now()-T<E)}function N(){if(C!==null){var M=t.unstable_now();T=M;var V=!0;try{V=C(!0,M)}finally{V?H():(S=!1,C=null)}}else S=!1}var H;if(typeof y=="function")H=function(){y(N)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,U=q.port2;q.port1.onmessage=N,H=function(){U.postMessage(null)}}else H=function(){v(N,0)};function B(M){C=M,S||(S=!0,H())}function F(M,V){x=v(function(){M(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,B(w))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var W=h;h=V;try{return M()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=h;h=M;try{return V()}finally{h=W}},t.unstable_scheduleCallback=function(M,V,W){var G=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?G+W:G):W=G,M){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=W+we,M={id:u++,callback:V,priorityLevel:M,startTime:W,expirationTime:we,sortIndex:-1},W>G?(M.sortIndex=W,e(c,M),n(l)===null&&M===n(c)&&(m?(g(x),x=-1):m=!0,F(b,W-G))):(M.sortIndex=we,e(l,M),p||f||(p=!0,B(w))),M},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(M){var V=h;return function(){var W=h;h=V;try{return M.apply(this,arguments)}finally{h=W}}}})(PC);DC.exports=PC;var eA=DC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tA=k,qt=eA;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var IC=new Set,Cl={};function Bs(t,e){Bo(t,e),Bo(t+"Capture",e)}function Bo(t,e){for(Cl[t]=e,t=0;t<e.length;t++)IC.add(e[t])}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dm=Object.prototype.hasOwnProperty,nA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x0={},S0={};function iA(t){return dm.call(S0,t)?!0:dm.call(x0,t)?!1:nA.test(t)?S0[t]=!0:(x0[t]=!0,!1)}function rA(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sA(t,e,n,i){if(e===null||typeof e>"u"||rA(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ot[t]=new Tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ot[e]=new Tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ot[t]=new Tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ot[t]=new Tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ot[t]=new Tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ot[t]=new Tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ot[t]=new Tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ot[t]=new Tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ot[t]=new Tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gy=/[\-:]([a-z])/g;function yy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gy,yy);ot[e]=new Tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gy,yy);ot[e]=new Tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gy,yy);ot[e]=new Tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ot[t]=new Tt(t,1,!1,t.toLowerCase(),null,!1,!1)});ot.xlinkHref=new Tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ot[t]=new Tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function vy(t,e,n,i){var r=ot.hasOwnProperty(e)?ot[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sA(e,n,r,i)&&(n=null),i||r===null?iA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Li=tA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yc=Symbol.for("react.element"),eo=Symbol.for("react.portal"),to=Symbol.for("react.fragment"),_y=Symbol.for("react.strict_mode"),hm=Symbol.for("react.profiler"),MC=Symbol.for("react.provider"),RC=Symbol.for("react.context"),wy=Symbol.for("react.forward_ref"),fm=Symbol.for("react.suspense"),pm=Symbol.for("react.suspense_list"),by=Symbol.for("react.memo"),Hi=Symbol.for("react.lazy"),AC=Symbol.for("react.offscreen"),k0=Symbol.iterator;function _a(t){return t===null||typeof t!="object"?null:(t=k0&&t[k0]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,Wf;function za(t){if(Wf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wf=e&&e[1]||""}return`
`+Wf+t}var zf=!1;function Uf(t,e){if(!t||zf)return"";zf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{zf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?za(t):""}function oA(t){switch(t.tag){case 5:return za(t.type);case 16:return za("Lazy");case 13:return za("Suspense");case 19:return za("SuspenseList");case 0:case 2:case 15:return t=Uf(t.type,!1),t;case 11:return t=Uf(t.type.render,!1),t;case 1:return t=Uf(t.type,!0),t;default:return""}}function mm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case to:return"Fragment";case eo:return"Portal";case hm:return"Profiler";case _y:return"StrictMode";case fm:return"Suspense";case pm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case RC:return(t.displayName||"Context")+".Consumer";case MC:return(t._context.displayName||"Context")+".Provider";case wy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case by:return e=t.displayName||null,e!==null?e:mm(t.type)||"Memo";case Hi:e=t._payload,t=t._init;try{return mm(t(e))}catch{}}return null}function aA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mm(e);case 8:return e===_y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lA(t){var e=OC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $c(t){t._valueTracker||(t._valueTracker=lA(t))}function NC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=OC(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function pd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gm(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function C0(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=wr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function LC(t,e){e=e.checked,e!=null&&vy(t,"checked",e,!1)}function ym(t,e){LC(t,e);var n=wr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vm(t,e.type,n):e.hasOwnProperty("defaultValue")&&vm(t,e.type,wr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function E0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vm(t,e,n){(e!=="number"||pd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ua=Array.isArray;function xo(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+wr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function _m(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function T0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(Ua(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wr(n)}}function FC(t,e){var n=wr(e.value),i=wr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function D0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kc,BC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kc=Kc||document.createElement("div"),Kc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function El(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cA=["Webkit","ms","Moz","O"];Object.keys(nl).forEach(function(t){cA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nl[e]=nl[t]})});function jC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nl.hasOwnProperty(t)&&nl[t]?(""+e).trim():e+"px"}function WC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=jC(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var uA=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bm(t,e){if(e){if(uA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function xm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sm=null;function xy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var km=null,So=null,ko=null;function P0(t){if(t=_c(t)){if(typeof km!="function")throw Error(A(280));var e=t.stateNode;e&&(e=Hh(e),km(t.stateNode,t.type,e))}}function zC(t){So?ko?ko.push(t):ko=[t]:So=t}function UC(){if(So){var t=So,e=ko;if(ko=So=null,P0(t),e)for(t=0;t<e.length;t++)P0(e[t])}}function HC(t,e){return t(e)}function YC(){}var Hf=!1;function $C(t,e,n){if(Hf)return t(e,n);Hf=!0;try{return HC(t,e,n)}finally{Hf=!1,(So!==null||ko!==null)&&(YC(),UC())}}function Tl(t,e){var n=t.stateNode;if(n===null)return null;var i=Hh(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var Cm=!1;if(Ti)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){Cm=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{Cm=!1}function dA(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var il=!1,md=null,gd=!1,Em=null,hA={onError:function(t){il=!0,md=t}};function fA(t,e,n,i,r,s,o,a,l){il=!1,md=null,dA.apply(hA,arguments)}function pA(t,e,n,i,r,s,o,a,l){if(fA.apply(this,arguments),il){if(il){var c=md;il=!1,md=null}else throw Error(A(198));gd||(gd=!0,Em=c)}}function js(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function KC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function I0(t){if(js(t)!==t)throw Error(A(188))}function mA(t){var e=t.alternate;if(!e){if(e=js(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return I0(r),t;if(s===i)return I0(r),e;s=s.sibling}throw Error(A(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==i)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function qC(t){return t=mA(t),t!==null?GC(t):null}function GC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GC(t);if(e!==null)return e;t=t.sibling}return null}var QC=qt.unstable_scheduleCallback,M0=qt.unstable_cancelCallback,gA=qt.unstable_shouldYield,yA=qt.unstable_requestPaint,Ve=qt.unstable_now,vA=qt.unstable_getCurrentPriorityLevel,Sy=qt.unstable_ImmediatePriority,XC=qt.unstable_UserBlockingPriority,yd=qt.unstable_NormalPriority,_A=qt.unstable_LowPriority,JC=qt.unstable_IdlePriority,jh=null,Yn=null;function wA(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(jh,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:SA,bA=Math.log,xA=Math.LN2;function SA(t){return t>>>=0,t===0?32:31-(bA(t)/xA|0)|0}var qc=64,Gc=4194304;function Ha(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vd(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Ha(a):(s&=o,s!==0&&(i=Ha(s)))}else o=n&~r,o!==0?i=Ha(o):s!==0&&(i=Ha(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-kn(e),r=1<<n,i|=t[n],e&=~r;return i}function kA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CA(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-kn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=kA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Tm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ZC(){var t=qc;return qc<<=1,!(qc&4194240)&&(qc=64),t}function Yf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=n}function EA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-kn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function ky(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-kn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var he=0;function eE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tE,Cy,nE,iE,rE,Dm=!1,Qc=[],sr=null,or=null,ar=null,Dl=new Map,Pl=new Map,$i=[],TA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function R0(t,e){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(e.pointerId)}}function ba(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=_c(e),e!==null&&Cy(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function DA(t,e,n,i,r){switch(e){case"focusin":return sr=ba(sr,t,e,n,i,r),!0;case"dragenter":return or=ba(or,t,e,n,i,r),!0;case"mouseover":return ar=ba(ar,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Dl.set(s,ba(Dl.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Pl.set(s,ba(Pl.get(s)||null,t,e,n,i,r)),!0}return!1}function sE(t){var e=es(t.target);if(e!==null){var n=js(e);if(n!==null){if(e=n.tag,e===13){if(e=KC(n),e!==null){t.blockedOn=e,rE(t.priority,function(){nE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Sm=i,n.target.dispatchEvent(i),Sm=null}else return e=_c(n),e!==null&&Cy(e),t.blockedOn=n,!1;e.shift()}return!0}function A0(t,e,n){Bu(t)&&n.delete(e)}function PA(){Dm=!1,sr!==null&&Bu(sr)&&(sr=null),or!==null&&Bu(or)&&(or=null),ar!==null&&Bu(ar)&&(ar=null),Dl.forEach(A0),Pl.forEach(A0)}function xa(t,e){t.blockedOn===e&&(t.blockedOn=null,Dm||(Dm=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,PA)))}function Il(t){function e(r){return xa(r,t)}if(0<Qc.length){xa(Qc[0],t);for(var n=1;n<Qc.length;n++){var i=Qc[n];i.blockedOn===t&&(i.blockedOn=null)}}for(sr!==null&&xa(sr,t),or!==null&&xa(or,t),ar!==null&&xa(ar,t),Dl.forEach(e),Pl.forEach(e),n=0;n<$i.length;n++)i=$i[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<$i.length&&(n=$i[0],n.blockedOn===null);)sE(n),n.blockedOn===null&&$i.shift()}var Co=Li.ReactCurrentBatchConfig,_d=!0;function IA(t,e,n,i){var r=he,s=Co.transition;Co.transition=null;try{he=1,Ey(t,e,n,i)}finally{he=r,Co.transition=s}}function MA(t,e,n,i){var r=he,s=Co.transition;Co.transition=null;try{he=4,Ey(t,e,n,i)}finally{he=r,Co.transition=s}}function Ey(t,e,n,i){if(_d){var r=Pm(t,e,n,i);if(r===null)tp(t,e,i,wd,n),R0(t,i);else if(DA(r,t,e,n,i))i.stopPropagation();else if(R0(t,i),e&4&&-1<TA.indexOf(t)){for(;r!==null;){var s=_c(r);if(s!==null&&tE(s),s=Pm(t,e,n,i),s===null&&tp(t,e,i,wd,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else tp(t,e,i,null,n)}}var wd=null;function Pm(t,e,n,i){if(wd=null,t=xy(i),t=es(t),t!==null)if(e=js(t),e===null)t=null;else if(n=e.tag,n===13){if(t=KC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wd=t,null}function oE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vA()){case Sy:return 1;case XC:return 4;case yd:case _A:return 16;case JC:return 536870912;default:return 16}default:return 16}}var Ji=null,Ty=null,ju=null;function aE(){if(ju)return ju;var t,e=Ty,n=e.length,i,r="value"in Ji?Ji.value:Ji.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return ju=r.slice(t,1<i?1-i:void 0)}function Wu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xc(){return!0}function O0(){return!1}function Qt(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xc:O0,this.isPropagationStopped=O0,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),e}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dy=Qt(la),vc=Re({},la,{view:0,detail:0}),RA=Qt(vc),$f,Kf,Sa,Wh=Re({},vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Py,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sa&&(Sa&&t.type==="mousemove"?($f=t.screenX-Sa.screenX,Kf=t.screenY-Sa.screenY):Kf=$f=0,Sa=t),$f)},movementY:function(t){return"movementY"in t?t.movementY:Kf}}),N0=Qt(Wh),AA=Re({},Wh,{dataTransfer:0}),OA=Qt(AA),NA=Re({},vc,{relatedTarget:0}),qf=Qt(NA),LA=Re({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),FA=Qt(LA),VA=Re({},la,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BA=Qt(VA),jA=Re({},la,{data:0}),L0=Qt(jA),WA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UA[t])?!!e[t]:!1}function Py(){return HA}var YA=Re({},vc,{key:function(t){if(t.key){var e=WA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Py,charCode:function(t){return t.type==="keypress"?Wu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$A=Qt(YA),KA=Re({},Wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F0=Qt(KA),qA=Re({},vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Py}),GA=Qt(qA),QA=Re({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),XA=Qt(QA),JA=Re({},Wh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZA=Qt(JA),eO=[9,13,27,32],Iy=Ti&&"CompositionEvent"in window,rl=null;Ti&&"documentMode"in document&&(rl=document.documentMode);var tO=Ti&&"TextEvent"in window&&!rl,lE=Ti&&(!Iy||rl&&8<rl&&11>=rl),V0=String.fromCharCode(32),B0=!1;function cE(t,e){switch(t){case"keyup":return eO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var no=!1;function nO(t,e){switch(t){case"compositionend":return uE(e);case"keypress":return e.which!==32?null:(B0=!0,V0);case"textInput":return t=e.data,t===V0&&B0?null:t;default:return null}}function iO(t,e){if(no)return t==="compositionend"||!Iy&&cE(t,e)?(t=aE(),ju=Ty=Ji=null,no=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lE&&e.locale!=="ko"?null:e.data;default:return null}}var rO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rO[t.type]:e==="textarea"}function dE(t,e,n,i){zC(i),e=bd(e,"onChange"),0<e.length&&(n=new Dy("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var sl=null,Ml=null;function sO(t){xE(t,0)}function zh(t){var e=so(t);if(NC(e))return t}function oO(t,e){if(t==="change")return e}var hE=!1;if(Ti){var Gf;if(Ti){var Qf="oninput"in document;if(!Qf){var W0=document.createElement("div");W0.setAttribute("oninput","return;"),Qf=typeof W0.oninput=="function"}Gf=Qf}else Gf=!1;hE=Gf&&(!document.documentMode||9<document.documentMode)}function z0(){sl&&(sl.detachEvent("onpropertychange",fE),Ml=sl=null)}function fE(t){if(t.propertyName==="value"&&zh(Ml)){var e=[];dE(e,Ml,t,xy(t)),$C(sO,e)}}function aO(t,e,n){t==="focusin"?(z0(),sl=e,Ml=n,sl.attachEvent("onpropertychange",fE)):t==="focusout"&&z0()}function lO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zh(Ml)}function cO(t,e){if(t==="click")return zh(e)}function uO(t,e){if(t==="input"||t==="change")return zh(e)}function dO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:dO;function Rl(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!dm.call(e,r)||!Dn(t[r],e[r]))return!1}return!0}function U0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function H0(t,e){var n=U0(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=U0(n)}}function pE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mE(){for(var t=window,e=pd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pd(t.document)}return e}function My(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hO(t){var e=mE(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pE(n.ownerDocument.documentElement,n)){if(i!==null&&My(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=H0(n,s);var o=H0(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fO=Ti&&"documentMode"in document&&11>=document.documentMode,io=null,Im=null,ol=null,Mm=!1;function Y0(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mm||io==null||io!==pd(i)||(i=io,"selectionStart"in i&&My(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ol&&Rl(ol,i)||(ol=i,i=bd(Im,"onSelect"),0<i.length&&(e=new Dy("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=io)))}function Jc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ro={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},Xf={},gE={};Ti&&(gE=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function Uh(t){if(Xf[t])return Xf[t];if(!ro[t])return t;var e=ro[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gE)return Xf[t]=e[n];return t}var yE=Uh("animationend"),vE=Uh("animationiteration"),_E=Uh("animationstart"),wE=Uh("transitionend"),bE=new Map,$0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,e){bE.set(t,e),Bs(e,[t])}for(var Jf=0;Jf<$0.length;Jf++){var Zf=$0[Jf],pO=Zf.toLowerCase(),mO=Zf[0].toUpperCase()+Zf.slice(1);Ar(pO,"on"+mO)}Ar(yE,"onAnimationEnd");Ar(vE,"onAnimationIteration");Ar(_E,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(wE,"onTransitionEnd");Bo("onMouseEnter",["mouseout","mouseover"]);Bo("onMouseLeave",["mouseout","mouseover"]);Bo("onPointerEnter",["pointerout","pointerover"]);Bo("onPointerLeave",["pointerout","pointerover"]);Bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ya));function K0(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,pA(i,e,void 0,t),t.currentTarget=null}function xE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;K0(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;K0(r,a,c),s=l}}}if(gd)throw t=Em,gd=!1,Em=null,t}function be(t,e){var n=e[Lm];n===void 0&&(n=e[Lm]=new Set);var i=t+"__bubble";n.has(i)||(SE(e,t,2,!1),n.add(i))}function ep(t,e,n){var i=0;e&&(i|=4),SE(n,t,i,e)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Al(t){if(!t[Zc]){t[Zc]=!0,IC.forEach(function(n){n!=="selectionchange"&&(gO.has(n)||ep(n,!1,t),ep(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zc]||(e[Zc]=!0,ep("selectionchange",!1,e))}}function SE(t,e,n,i){switch(oE(e)){case 1:var r=IA;break;case 4:r=MA;break;default:r=Ey}n=r.bind(null,e,n,t),r=void 0,!Cm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function tp(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=es(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}$C(function(){var c=s,u=xy(n),d=[];e:{var h=bE.get(t);if(h!==void 0){var f=Dy,p=t;switch(t){case"keypress":if(Wu(n)===0)break e;case"keydown":case"keyup":f=$A;break;case"focusin":p="focus",f=qf;break;case"focusout":p="blur",f=qf;break;case"beforeblur":case"afterblur":f=qf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=N0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=OA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=GA;break;case yE:case vE:case _E:f=FA;break;case wE:f=XA;break;case"scroll":f=RA;break;case"wheel":f=ZA;break;case"copy":case"cut":case"paste":f=BA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=F0}var m=(e&4)!==0,v=!m&&t==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var y=c,_;y!==null;){_=y;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,g!==null&&(b=Tl(y,g),b!=null&&m.push(Ol(y,b,_)))),v)break;y=y.return}0<m.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Sm&&(p=n.relatedTarget||n.fromElement)&&(es(p)||p[Di]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?es(p):null,p!==null&&(v=js(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=N0,b="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=F0,b="onPointerLeave",g="onPointerEnter",y="pointer"),v=f==null?h:so(f),_=p==null?h:so(p),h=new m(b,y+"leave",f,n,u),h.target=v,h.relatedTarget=_,b=null,es(u)===c&&(m=new m(g,y+"enter",p,n,u),m.target=_,m.relatedTarget=v,b=m),v=b,f&&p)t:{for(m=f,g=p,y=0,_=m;_;_=Gs(_))y++;for(_=0,b=g;b;b=Gs(b))_++;for(;0<y-_;)m=Gs(m),y--;for(;0<_-y;)g=Gs(g),_--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=Gs(m),g=Gs(g)}m=null}else m=null;f!==null&&q0(d,h,f,m,!1),p!==null&&v!==null&&q0(d,v,p,m,!0)}}e:{if(h=c?so(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var w=oO;else if(j0(h))if(hE)w=uO;else{w=lO;var S=aO}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=cO);if(w&&(w=w(t,c))){dE(d,w,n,u);break e}S&&S(t,h,c),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&vm(h,"number",h.value)}switch(S=c?so(c):window,t){case"focusin":(j0(S)||S.contentEditable==="true")&&(io=S,Im=c,ol=null);break;case"focusout":ol=Im=io=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,Y0(d,n,u);break;case"selectionchange":if(fO)break;case"keydown":case"keyup":Y0(d,n,u)}var C;if(Iy)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else no?cE(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(lE&&n.locale!=="ko"&&(no||x!=="onCompositionStart"?x==="onCompositionEnd"&&no&&(C=aE()):(Ji=u,Ty="value"in Ji?Ji.value:Ji.textContent,no=!0)),S=bd(c,x),0<S.length&&(x=new L0(x,t,null,n,u),d.push({event:x,listeners:S}),C?x.data=C:(C=uE(n),C!==null&&(x.data=C)))),(C=tO?nO(t,n):iO(t,n))&&(c=bd(c,"onBeforeInput"),0<c.length&&(u=new L0("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}xE(d,e)})}function Ol(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bd(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Tl(t,n),s!=null&&i.unshift(Ol(t,s,r)),s=Tl(t,e),s!=null&&i.push(Ol(t,s,r))),t=t.return}return i}function Gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function q0(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Tl(n,s),l!=null&&o.unshift(Ol(n,l,a))):r||(l=Tl(n,s),l!=null&&o.push(Ol(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yO=/\r\n?/g,vO=/\u0000|\uFFFD/g;function G0(t){return(typeof t=="string"?t:""+t).replace(yO,`
`).replace(vO,"")}function eu(t,e,n){if(e=G0(e),G0(t)!==e&&n)throw Error(A(425))}function xd(){}var Rm=null,Am=null;function Om(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nm=typeof setTimeout=="function"?setTimeout:void 0,_O=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,wO=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0<"u"?function(t){return Q0.resolve(null).then(t).catch(bO)}:Nm;function bO(t){setTimeout(function(){throw t})}function np(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Il(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Il(e)}function lr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function X0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ca=Math.random().toString(36).slice(2),Wn="__reactFiber$"+ca,Nl="__reactProps$"+ca,Di="__reactContainer$"+ca,Lm="__reactEvents$"+ca,xO="__reactListeners$"+ca,SO="__reactHandles$"+ca;function es(t){var e=t[Wn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Di]||n[Wn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=X0(t);t!==null;){if(n=t[Wn])return n;t=X0(t)}return e}t=n,n=t.parentNode}return null}function _c(t){return t=t[Wn]||t[Di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function so(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function Hh(t){return t[Nl]||null}var Fm=[],oo=-1;function Or(t){return{current:t}}function Se(t){0>oo||(t.current=Fm[oo],Fm[oo]=null,oo--)}function ve(t,e){oo++,Fm[oo]=t.current,t.current=e}var br={},pt=Or(br),At=Or(!1),ws=br;function jo(t,e){var n=t.type.contextTypes;if(!n)return br;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ot(t){return t=t.childContextTypes,t!=null}function Sd(){Se(At),Se(pt)}function J0(t,e,n){if(pt.current!==br)throw Error(A(168));ve(pt,e),ve(At,n)}function kE(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(A(108,aA(t)||"Unknown",r));return Re({},n,i)}function kd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||br,ws=pt.current,ve(pt,t),ve(At,At.current),!0}function Z0(t,e,n){var i=t.stateNode;if(!i)throw Error(A(169));n?(t=kE(t,e,ws),i.__reactInternalMemoizedMergedChildContext=t,Se(At),Se(pt),ve(pt,t)):Se(At),ve(At,n)}var li=null,Yh=!1,ip=!1;function CE(t){li===null?li=[t]:li.push(t)}function kO(t){Yh=!0,CE(t)}function Nr(){if(!ip&&li!==null){ip=!0;var t=0,e=he;try{var n=li;for(he=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}li=null,Yh=!1}catch(r){throw li!==null&&(li=li.slice(t+1)),QC(Sy,Nr),r}finally{he=e,ip=!1}}return null}var ao=[],lo=0,Cd=null,Ed=0,nn=[],rn=0,bs=null,ui=1,di="";function $r(t,e){ao[lo++]=Ed,ao[lo++]=Cd,Cd=t,Ed=e}function EE(t,e,n){nn[rn++]=ui,nn[rn++]=di,nn[rn++]=bs,bs=t;var i=ui;t=di;var r=32-kn(i)-1;i&=~(1<<r),n+=1;var s=32-kn(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ui=1<<32-kn(e)+r|n<<r|i,di=s+t}else ui=1<<s|n<<r|i,di=t}function Ry(t){t.return!==null&&($r(t,1),EE(t,1,0))}function Ay(t){for(;t===Cd;)Cd=ao[--lo],ao[lo]=null,Ed=ao[--lo],ao[lo]=null;for(;t===bs;)bs=nn[--rn],nn[rn]=null,di=nn[--rn],nn[rn]=null,ui=nn[--rn],nn[rn]=null}var Ut=null,jt=null,ke=!1,wn=null;function TE(t,e){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ew(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ut=t,jt=lr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ut=t,jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bs!==null?{id:ui,overflow:di}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ut=t,jt=null,!0):!1;default:return!1}}function Vm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bm(t){if(ke){var e=jt;if(e){var n=e;if(!ew(t,e)){if(Vm(t))throw Error(A(418));e=lr(n.nextSibling);var i=Ut;e&&ew(t,e)?TE(i,n):(t.flags=t.flags&-4097|2,ke=!1,Ut=t)}}else{if(Vm(t))throw Error(A(418));t.flags=t.flags&-4097|2,ke=!1,Ut=t}}}function tw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ut=t}function tu(t){if(t!==Ut)return!1;if(!ke)return tw(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Om(t.type,t.memoizedProps)),e&&(e=jt)){if(Vm(t))throw DE(),Error(A(418));for(;e;)TE(t,e),e=lr(e.nextSibling)}if(tw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jt=lr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jt=null}}else jt=Ut?lr(t.stateNode.nextSibling):null;return!0}function DE(){for(var t=jt;t;)t=lr(t.nextSibling)}function Wo(){jt=Ut=null,ke=!1}function Oy(t){wn===null?wn=[t]:wn.push(t)}var CO=Li.ReactCurrentBatchConfig;function ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var i=n.stateNode}if(!i)throw Error(A(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function nu(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nw(t){var e=t._init;return e(t._payload)}function PE(t){function e(g,y){if(t){var _=g.deletions;_===null?(g.deletions=[y],g.flags|=16):_.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function i(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function r(g,y){return g=hr(g,y),g.index=0,g.sibling=null,g}function s(g,y,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<y?(g.flags|=2,y):_):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,_,b){return y===null||y.tag!==6?(y=up(_,g.mode,b),y.return=g,y):(y=r(y,_),y.return=g,y)}function l(g,y,_,b){var w=_.type;return w===to?u(g,y,_.props.children,b,_.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Hi&&nw(w)===y.type)?(b=r(y,_.props),b.ref=ka(g,y,_),b.return=g,b):(b=qu(_.type,_.key,_.props,null,g.mode,b),b.ref=ka(g,y,_),b.return=g,b)}function c(g,y,_,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=dp(_,g.mode,b),y.return=g,y):(y=r(y,_.children||[]),y.return=g,y)}function u(g,y,_,b,w){return y===null||y.tag!==7?(y=ds(_,g.mode,b,w),y.return=g,y):(y=r(y,_),y.return=g,y)}function d(g,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=up(""+y,g.mode,_),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yc:return _=qu(y.type,y.key,y.props,null,g.mode,_),_.ref=ka(g,null,y),_.return=g,_;case eo:return y=dp(y,g.mode,_),y.return=g,y;case Hi:var b=y._init;return d(g,b(y._payload),_)}if(Ua(y)||_a(y))return y=ds(y,g.mode,_,null),y.return=g,y;nu(g,y)}return null}function h(g,y,_,b){var w=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return w!==null?null:a(g,y,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Yc:return _.key===w?l(g,y,_,b):null;case eo:return _.key===w?c(g,y,_,b):null;case Hi:return w=_._init,h(g,y,w(_._payload),b)}if(Ua(_)||_a(_))return w!==null?null:u(g,y,_,b,null);nu(g,_)}return null}function f(g,y,_,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(_)||null,a(y,g,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yc:return g=g.get(b.key===null?_:b.key)||null,l(y,g,b,w);case eo:return g=g.get(b.key===null?_:b.key)||null,c(y,g,b,w);case Hi:var S=b._init;return f(g,y,_,S(b._payload),w)}if(Ua(b)||_a(b))return g=g.get(_)||null,u(y,g,b,w,null);nu(y,b)}return null}function p(g,y,_,b){for(var w=null,S=null,C=y,x=y=0,E=null;C!==null&&x<_.length;x++){C.index>x?(E=C,C=null):E=C.sibling;var T=h(g,C,_[x],b);if(T===null){C===null&&(C=E);break}t&&C&&T.alternate===null&&e(g,C),y=s(T,y,x),S===null?w=T:S.sibling=T,S=T,C=E}if(x===_.length)return n(g,C),ke&&$r(g,x),w;if(C===null){for(;x<_.length;x++)C=d(g,_[x],b),C!==null&&(y=s(C,y,x),S===null?w=C:S.sibling=C,S=C);return ke&&$r(g,x),w}for(C=i(g,C);x<_.length;x++)E=f(C,g,x,_[x],b),E!==null&&(t&&E.alternate!==null&&C.delete(E.key===null?x:E.key),y=s(E,y,x),S===null?w=E:S.sibling=E,S=E);return t&&C.forEach(function(R){return e(g,R)}),ke&&$r(g,x),w}function m(g,y,_,b){var w=_a(_);if(typeof w!="function")throw Error(A(150));if(_=w.call(_),_==null)throw Error(A(151));for(var S=w=null,C=y,x=y=0,E=null,T=_.next();C!==null&&!T.done;x++,T=_.next()){C.index>x?(E=C,C=null):E=C.sibling;var R=h(g,C,T.value,b);if(R===null){C===null&&(C=E);break}t&&C&&R.alternate===null&&e(g,C),y=s(R,y,x),S===null?w=R:S.sibling=R,S=R,C=E}if(T.done)return n(g,C),ke&&$r(g,x),w;if(C===null){for(;!T.done;x++,T=_.next())T=d(g,T.value,b),T!==null&&(y=s(T,y,x),S===null?w=T:S.sibling=T,S=T);return ke&&$r(g,x),w}for(C=i(g,C);!T.done;x++,T=_.next())T=f(C,g,x,T.value,b),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?x:T.key),y=s(T,y,x),S===null?w=T:S.sibling=T,S=T);return t&&C.forEach(function(N){return e(g,N)}),ke&&$r(g,x),w}function v(g,y,_,b){if(typeof _=="object"&&_!==null&&_.type===to&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Yc:e:{for(var w=_.key,S=y;S!==null;){if(S.key===w){if(w=_.type,w===to){if(S.tag===7){n(g,S.sibling),y=r(S,_.props.children),y.return=g,g=y;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Hi&&nw(w)===S.type){n(g,S.sibling),y=r(S,_.props),y.ref=ka(g,S,_),y.return=g,g=y;break e}n(g,S);break}else e(g,S);S=S.sibling}_.type===to?(y=ds(_.props.children,g.mode,b,_.key),y.return=g,g=y):(b=qu(_.type,_.key,_.props,null,g.mode,b),b.ref=ka(g,y,_),b.return=g,g=b)}return o(g);case eo:e:{for(S=_.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(g,y.sibling),y=r(y,_.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=dp(_,g.mode,b),y.return=g,g=y}return o(g);case Hi:return S=_._init,v(g,y,S(_._payload),b)}if(Ua(_))return p(g,y,_,b);if(_a(_))return m(g,y,_,b);nu(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(g,y.sibling),y=r(y,_),y.return=g,g=y):(n(g,y),y=up(_,g.mode,b),y.return=g,g=y),o(g)):n(g,y)}return v}var zo=PE(!0),IE=PE(!1),Td=Or(null),Dd=null,co=null,Ny=null;function Ly(){Ny=co=Dd=null}function Fy(t){var e=Td.current;Se(Td),t._currentValue=e}function jm(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Eo(t,e){Dd=t,Ny=co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mt=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(Ny!==t)if(t={context:t,memoizedValue:e,next:null},co===null){if(Dd===null)throw Error(A(308));co=t,Dd.dependencies={lanes:0,firstContext:t}}else co=co.next=t;return e}var ts=null;function Vy(t){ts===null?ts=[t]:ts.push(t)}function ME(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Vy(e)):(n.next=r.next,r.next=n),e.interleaved=n,Pi(t,i)}function Pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yi=!1;function By(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,re&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Pi(t,n)}return r=i.interleaved,r===null?(e.next=e,Vy(i)):(e.next=r.next,r.next=e),i.interleaved=e,Pi(t,n)}function zu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ky(t,n)}}function iw(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pd(t,e,n,i){var r=t.updateQueue;Yi=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Re({},d,h);break e;case 2:Yi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(1);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Ss|=o,t.lanes=o,t.memoizedState=d}}function rw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(A(191,r));r.call(i)}}}var wc={},$n=Or(wc),Ll=Or(wc),Fl=Or(wc);function ns(t){if(t===wc)throw Error(A(174));return t}function jy(t,e){switch(ve(Fl,e),ve(Ll,t),ve($n,wc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wm(e,t)}Se($n),ve($n,e)}function Uo(){Se($n),Se(Ll),Se(Fl)}function AE(t){ns(Fl.current);var e=ns($n.current),n=wm(e,t.type);e!==n&&(ve(Ll,t),ve($n,n))}function Wy(t){Ll.current===t&&(Se($n),Se(Ll))}var De=Or(0);function Id(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rp=[];function zy(){for(var t=0;t<rp.length;t++)rp[t]._workInProgressVersionPrimary=null;rp.length=0}var Uu=Li.ReactCurrentDispatcher,sp=Li.ReactCurrentBatchConfig,xs=0,Me=null,Ue=null,Ge=null,Md=!1,al=!1,Vl=0,EO=0;function at(){throw Error(A(321))}function Uy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function Hy(t,e,n,i,r,s){if(xs=s,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uu.current=t===null||t.memoizedState===null?IO:MO,t=n(i,r),al){s=0;do{if(al=!1,Vl=0,25<=s)throw Error(A(301));s+=1,Ge=Ue=null,e.updateQueue=null,Uu.current=RO,t=n(i,r)}while(al)}if(Uu.current=Rd,e=Ue!==null&&Ue.next!==null,xs=0,Ge=Ue=Me=null,Md=!1,e)throw Error(A(300));return t}function Yy(){var t=Vl!==0;return Vl=0,t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Me.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function fn(){if(Ue===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=Ge===null?Me.memoizedState:Ge.next;if(e!==null)Ge=e,Ue=t;else{if(t===null)throw Error(A(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ge===null?Me.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function Bl(t,e){return typeof e=="function"?e(t):e}function op(t){var e=fn(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var i=Ue,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((xs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Me.lanes|=u,Ss|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Dn(i,e.memoizedState)||(Mt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Me.lanes|=s,Ss|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ap(t){var e=fn(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Dn(s,e.memoizedState)||(Mt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function OE(){}function NE(t,e){var n=Me,i=fn(),r=e(),s=!Dn(i.memoizedState,r);if(s&&(i.memoizedState=r,Mt=!0),i=i.queue,$y(VE.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,jl(9,FE.bind(null,n,i,r,e),void 0,null),Ze===null)throw Error(A(349));xs&30||LE(n,e,r)}return r}function LE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function FE(t,e,n,i){e.value=n,e.getSnapshot=i,BE(e)&&jE(t)}function VE(t,e,n){return n(function(){BE(e)&&jE(t)})}function BE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function jE(t){var e=Pi(t,1);e!==null&&Cn(e,t,1,-1)}function sw(t){var e=Fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:t},e.queue=t,t=t.dispatch=PO.bind(null,Me,t),[e.memoizedState,t]}function jl(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function WE(){return fn().memoizedState}function Hu(t,e,n,i){var r=Fn();Me.flags|=t,r.memoizedState=jl(1|e,n,void 0,i===void 0?null:i)}function $h(t,e,n,i){var r=fn();i=i===void 0?null:i;var s=void 0;if(Ue!==null){var o=Ue.memoizedState;if(s=o.destroy,i!==null&&Uy(i,o.deps)){r.memoizedState=jl(e,n,s,i);return}}Me.flags|=t,r.memoizedState=jl(1|e,n,s,i)}function ow(t,e){return Hu(8390656,8,t,e)}function $y(t,e){return $h(2048,8,t,e)}function zE(t,e){return $h(4,2,t,e)}function UE(t,e){return $h(4,4,t,e)}function HE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YE(t,e,n){return n=n!=null?n.concat([t]):null,$h(4,4,HE.bind(null,e,t),n)}function Ky(){}function $E(t,e){var n=fn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Uy(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function KE(t,e){var n=fn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Uy(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function qE(t,e,n){return xs&21?(Dn(n,e)||(n=ZC(),Me.lanes|=n,Ss|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=n)}function TO(t,e){var n=he;he=n!==0&&4>n?n:4,t(!0);var i=sp.transition;sp.transition={};try{t(!1),e()}finally{he=n,sp.transition=i}}function GE(){return fn().memoizedState}function DO(t,e,n){var i=dr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},QE(t))XE(e,n);else if(n=ME(t,e,n,i),n!==null){var r=kt();Cn(n,t,i,r),JE(n,e,i)}}function PO(t,e,n){var i=dr(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(QE(t))XE(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Dn(a,o)){var l=e.interleaved;l===null?(r.next=r,Vy(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=ME(t,e,r,i),n!==null&&(r=kt(),Cn(n,t,i,r),JE(n,e,i))}}function QE(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function XE(t,e){al=Md=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function JE(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ky(t,n)}}var Rd={readContext:hn,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},IO={readContext:hn,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:ow,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hu(4194308,4,HE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hu(4,2,t,e)},useMemo:function(t,e){var n=Fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Fn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=DO.bind(null,Me,t),[i.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:sw,useDebugValue:Ky,useDeferredValue:function(t){return Fn().memoizedState=t},useTransition:function(){var t=sw(!1),e=t[0];return t=TO.bind(null,t[1]),Fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Me,r=Fn();if(ke){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),Ze===null)throw Error(A(349));xs&30||LE(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,ow(VE.bind(null,i,s,t),[t]),i.flags|=2048,jl(9,FE.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Fn(),e=Ze.identifierPrefix;if(ke){var n=di,i=ui;n=(i&~(1<<32-kn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MO={readContext:hn,useCallback:$E,useContext:hn,useEffect:$y,useImperativeHandle:YE,useInsertionEffect:zE,useLayoutEffect:UE,useMemo:KE,useReducer:op,useRef:WE,useState:function(){return op(Bl)},useDebugValue:Ky,useDeferredValue:function(t){var e=fn();return qE(e,Ue.memoizedState,t)},useTransition:function(){var t=op(Bl)[0],e=fn().memoizedState;return[t,e]},useMutableSource:OE,useSyncExternalStore:NE,useId:GE,unstable_isNewReconciler:!1},RO={readContext:hn,useCallback:$E,useContext:hn,useEffect:$y,useImperativeHandle:YE,useInsertionEffect:zE,useLayoutEffect:UE,useMemo:KE,useReducer:ap,useRef:WE,useState:function(){return ap(Bl)},useDebugValue:Ky,useDeferredValue:function(t){var e=fn();return Ue===null?e.memoizedState=t:qE(e,Ue.memoizedState,t)},useTransition:function(){var t=ap(Bl)[0],e=fn().memoizedState;return[t,e]},useMutableSource:OE,useSyncExternalStore:NE,useId:GE,unstable_isNewReconciler:!1};function yn(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wm(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kh={isMounted:function(t){return(t=t._reactInternals)?js(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=kt(),r=dr(t),s=yi(i,r);s.payload=e,n!=null&&(s.callback=n),e=cr(t,s,r),e!==null&&(Cn(e,t,r,i),zu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=kt(),r=dr(t),s=yi(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=cr(t,s,r),e!==null&&(Cn(e,t,r,i),zu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kt(),i=dr(t),r=yi(n,i);r.tag=2,e!=null&&(r.callback=e),e=cr(t,r,i),e!==null&&(Cn(e,t,i,n),zu(e,t,i))}};function aw(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Rl(n,i)||!Rl(r,s):!0}function ZE(t,e,n){var i=!1,r=br,s=e.contextType;return typeof s=="object"&&s!==null?s=hn(s):(r=Ot(e)?ws:pt.current,i=e.contextTypes,s=(i=i!=null)?jo(t,r):br),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kh,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function lw(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Kh.enqueueReplaceState(e,e.state,null)}function zm(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},By(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=hn(s):(s=Ot(e)?ws:pt.current,r.context=jo(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wm(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Kh.enqueueReplaceState(r,r.state,null),Pd(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Ho(t,e){try{var n="",i=e;do n+=oA(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function lp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Um(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AO=typeof WeakMap=="function"?WeakMap:Map;function eT(t,e,n){n=yi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Od||(Od=!0,Zm=i),Um(t,e)},n}function tT(t,e,n){n=yi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Um(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Um(t,e),typeof i!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cw(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new AO;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=KO.bind(null,t,e,n),e.then(t,t))}function uw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dw(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yi(-1,1),e.tag=2,cr(n,e,1))),n.lanes|=1),t)}var OO=Li.ReactCurrentOwner,Mt=!1;function vt(t,e,n,i){e.child=t===null?IE(e,null,n,i):zo(e,t.child,n,i)}function hw(t,e,n,i,r){n=n.render;var s=e.ref;return Eo(e,r),i=Hy(t,e,n,i,s,r),n=Yy(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ii(t,e,r)):(ke&&n&&Ry(e),e.flags|=1,vt(t,e,i,r),e.child)}function fw(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!tv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,nT(t,e,s,i,r)):(t=qu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Rl,n(o,i)&&t.ref===e.ref)return Ii(t,e,r)}return e.flags|=1,t=hr(s,i),t.ref=e.ref,t.return=e,e.child=t}function nT(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Rl(s,i)&&t.ref===e.ref)if(Mt=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Mt=!0);else return e.lanes=t.lanes,Ii(t,e,r)}return Hm(t,e,n,i,r)}function iT(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(ho,Bt),Bt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ve(ho,Bt),Bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,ve(ho,Bt),Bt|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,ve(ho,Bt),Bt|=i;return vt(t,e,r,n),e.child}function rT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hm(t,e,n,i,r){var s=Ot(n)?ws:pt.current;return s=jo(e,s),Eo(e,r),n=Hy(t,e,n,i,s,r),i=Yy(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ii(t,e,r)):(ke&&i&&Ry(e),e.flags|=1,vt(t,e,n,r),e.child)}function pw(t,e,n,i,r){if(Ot(n)){var s=!0;kd(e)}else s=!1;if(Eo(e,r),e.stateNode===null)Yu(t,e),ZE(e,n,i),zm(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=hn(c):(c=Ot(n)?ws:pt.current,c=jo(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&lw(e,o,i,c),Yi=!1;var h=e.memoizedState;o.state=h,Pd(e,i,o,r),l=e.memoizedState,a!==i||h!==l||At.current||Yi?(typeof u=="function"&&(Wm(e,n,u,i),l=e.memoizedState),(a=Yi||aw(e,n,a,i,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,RE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:yn(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=hn(l):(l=Ot(n)?ws:pt.current,l=jo(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&lw(e,o,i,l),Yi=!1,h=e.memoizedState,o.state=h,Pd(e,i,o,r);var p=e.memoizedState;a!==d||h!==p||At.current||Yi?(typeof f=="function"&&(Wm(e,n,f,i),p=e.memoizedState),(c=Yi||aw(e,n,c,i,h,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return Ym(t,e,n,i,s,r)}function Ym(t,e,n,i,r,s){rT(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Z0(e,n,!1),Ii(t,e,s);i=e.stateNode,OO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=zo(e,t.child,null,s),e.child=zo(e,null,a,s)):vt(t,e,a,s),e.memoizedState=i.state,r&&Z0(e,n,!0),e.child}function sT(t){var e=t.stateNode;e.pendingContext?J0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&J0(t,e.context,!1),jy(t,e.containerInfo)}function mw(t,e,n,i,r){return Wo(),Oy(r),e.flags|=256,vt(t,e,n,i),e.child}var $m={dehydrated:null,treeContext:null,retryLane:0};function Km(t){return{baseLanes:t,cachePool:null,transitions:null}}function oT(t,e,n){var i=e.pendingProps,r=De.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ve(De,r&1),t===null)return Bm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Qh(o,i,0,null),t=ds(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Km(n),e.memoizedState=$m,t):qy(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return NO(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=hr(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=hr(a,s):(s=ds(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Km(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=$m,i}return s=t.child,t=s.sibling,i=hr(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function qy(t,e){return e=Qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function iu(t,e,n,i){return i!==null&&Oy(i),zo(e,t.child,null,n),t=qy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NO(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=lp(Error(A(422))),iu(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Qh({mode:"visible",children:i.children},r,0,null),s=ds(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&zo(e,t.child,null,o),e.child.memoizedState=Km(o),e.memoizedState=$m,s);if(!(e.mode&1))return iu(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(A(419)),i=lp(s,i,void 0),iu(t,e,o,i)}if(a=(o&t.childLanes)!==0,Mt||a){if(i=Ze,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Pi(t,r),Cn(i,t,r,-1))}return ev(),i=lp(Error(A(421))),iu(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=qO.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,jt=lr(r.nextSibling),Ut=e,ke=!0,wn=null,t!==null&&(nn[rn++]=ui,nn[rn++]=di,nn[rn++]=bs,ui=t.id,di=t.overflow,bs=e),e=qy(e,i.children),e.flags|=4096,e)}function gw(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),jm(t.return,e,n)}function cp(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function aT(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(vt(t,e,i.children,n),i=De.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gw(t,n,e);else if(t.tag===19)gw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ve(De,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Id(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),cp(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Id(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}cp(e,!0,n,null,s);break;case"together":cp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ii(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ss|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=hr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LO(t,e,n){switch(e.tag){case 3:sT(e),Wo();break;case 5:AE(e);break;case 1:Ot(e.type)&&kd(e);break;case 4:jy(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ve(Td,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ve(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?oT(t,e,n):(ve(De,De.current&1),t=Ii(t,e,n),t!==null?t.sibling:null);ve(De,De.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return aT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ve(De,De.current),i)break;return null;case 22:case 23:return e.lanes=0,iT(t,e,n)}return Ii(t,e,n)}var lT,qm,cT,uT;lT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qm=function(){};cT=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,ns($n.current);var s=null;switch(n){case"input":r=gm(t,r),i=gm(t,i),s=[];break;case"select":r=Re({},r,{value:void 0}),i=Re({},i,{value:void 0}),s=[];break;case"textarea":r=_m(t,r),i=_m(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=xd)}bm(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&be("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};uT=function(t,e,n,i){n!==i&&(e.flags|=4)};function Ca(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function FO(t,e,n){var i=e.pendingProps;switch(Ay(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return Ot(e.type)&&Sd(),lt(e),null;case 3:return i=e.stateNode,Uo(),Se(At),Se(pt),zy(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(tu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wn!==null&&(ng(wn),wn=null))),qm(t,e),lt(e),null;case 5:Wy(e);var r=ns(Fl.current);if(n=e.type,t!==null&&e.stateNode!=null)cT(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(A(166));return lt(e),null}if(t=ns($n.current),tu(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Wn]=e,i[Nl]=s,t=(e.mode&1)!==0,n){case"dialog":be("cancel",i),be("close",i);break;case"iframe":case"object":case"embed":be("load",i);break;case"video":case"audio":for(r=0;r<Ya.length;r++)be(Ya[r],i);break;case"source":be("error",i);break;case"img":case"image":case"link":be("error",i),be("load",i);break;case"details":be("toggle",i);break;case"input":C0(i,s),be("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},be("invalid",i);break;case"textarea":T0(i,s),be("invalid",i)}bm(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&eu(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&eu(i.textContent,a,t),r=["children",""+a]):Cl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",i)}switch(n){case"input":$c(i),E0(i,s,!0);break;case"textarea":$c(i),D0(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=xd)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Wn]=e,t[Nl]=i,lT(t,e,!1,!1),e.stateNode=t;e:{switch(o=xm(n,i),n){case"dialog":be("cancel",t),be("close",t),r=i;break;case"iframe":case"object":case"embed":be("load",t),r=i;break;case"video":case"audio":for(r=0;r<Ya.length;r++)be(Ya[r],t);r=i;break;case"source":be("error",t),r=i;break;case"img":case"image":case"link":be("error",t),be("load",t),r=i;break;case"details":be("toggle",t),r=i;break;case"input":C0(t,i),r=gm(t,i),be("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Re({},i,{value:void 0}),be("invalid",t);break;case"textarea":T0(t,i),r=_m(t,i),be("invalid",t);break;default:r=i}bm(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?WC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&BC(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&El(t,l):typeof l=="number"&&El(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&be("scroll",t):l!=null&&vy(t,s,l,o))}switch(n){case"input":$c(t),E0(t,i,!1);break;case"textarea":$c(t),D0(t);break;case"option":i.value!=null&&t.setAttribute("value",""+wr(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?xo(t,!!i.multiple,s,!1):i.defaultValue!=null&&xo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=xd)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)uT(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(A(166));if(n=ns(Fl.current),ns($n.current),tu(e)){if(i=e.stateNode,n=e.memoizedProps,i[Wn]=e,(s=i.nodeValue!==n)&&(t=Ut,t!==null))switch(t.tag){case 3:eu(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eu(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Wn]=e,e.stateNode=i}return lt(e),null;case 13:if(Se(De),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&jt!==null&&e.mode&1&&!(e.flags&128))DE(),Wo(),e.flags|=98560,s=!1;else if(s=tu(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(A(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(A(317));s[Wn]=e}else Wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),s=!1}else wn!==null&&(ng(wn),wn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?$e===0&&($e=3):ev())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return Uo(),qm(t,e),t===null&&Al(e.stateNode.containerInfo),lt(e),null;case 10:return Fy(e.type._context),lt(e),null;case 17:return Ot(e.type)&&Sd(),lt(e),null;case 19:if(Se(De),s=e.memoizedState,s===null)return lt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Ca(s,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Id(t),o!==null){for(e.flags|=128,Ca(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ve(De,De.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ve()>Yo&&(e.flags|=128,i=!0,Ca(s,!1),e.lanes=4194304)}else{if(!i)if(t=Id(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ca(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ke)return lt(e),null}else 2*Ve()-s.renderingStartTime>Yo&&n!==1073741824&&(e.flags|=128,i=!0,Ca(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ve(),e.sibling=null,n=De.current,ve(De,i?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return Zy(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Bt&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function VO(t,e){switch(Ay(e),e.tag){case 1:return Ot(e.type)&&Sd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Uo(),Se(At),Se(pt),zy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wy(e),null;case 13:if(Se(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));Wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Se(De),null;case 4:return Uo(),null;case 10:return Fy(e.type._context),null;case 22:case 23:return Zy(),null;case 24:return null;default:return null}}var ru=!1,dt=!1,BO=typeof WeakSet=="function"?WeakSet:Set,j=null;function uo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Oe(t,e,i)}else n.current=null}function Gm(t,e,n){try{n()}catch(i){Oe(t,e,i)}}var yw=!1;function jO(t,e){if(Rm=_d,t=mE(),My(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===r&&(a=o),h===s&&++u===i&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Am={focusedElem:t,selectionRange:n},_d=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:yn(e.type,m),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(b){Oe(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return p=yw,yw=!1,p}function ll(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Gm(e,n,s)}r=r.next}while(r!==i)}}function qh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Qm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dT(t){var e=t.alternate;e!==null&&(t.alternate=null,dT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wn],delete e[Nl],delete e[Lm],delete e[xO],delete e[SO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hT(t){return t.tag===5||t.tag===3||t.tag===4}function vw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xm(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xd));else if(i!==4&&(t=t.child,t!==null))for(Xm(t,e,n),t=t.sibling;t!==null;)Xm(t,e,n),t=t.sibling}function Jm(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Jm(t,e,n),t=t.sibling;t!==null;)Jm(t,e,n),t=t.sibling}var nt=null,vn=!1;function Bi(t,e,n){for(n=n.child;n!==null;)fT(t,e,n),n=n.sibling}function fT(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(jh,n)}catch{}switch(n.tag){case 5:dt||uo(n,e);case 6:var i=nt,r=vn;nt=null,Bi(t,e,n),nt=i,vn=r,nt!==null&&(vn?(t=nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(vn?(t=nt,n=n.stateNode,t.nodeType===8?np(t.parentNode,n):t.nodeType===1&&np(t,n),Il(t)):np(nt,n.stateNode));break;case 4:i=nt,r=vn,nt=n.stateNode.containerInfo,vn=!0,Bi(t,e,n),nt=i,vn=r;break;case 0:case 11:case 14:case 15:if(!dt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gm(n,e,o),r=r.next}while(r!==i)}Bi(t,e,n);break;case 1:if(!dt&&(uo(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Oe(n,e,a)}Bi(t,e,n);break;case 21:Bi(t,e,n);break;case 22:n.mode&1?(dt=(i=dt)||n.memoizedState!==null,Bi(t,e,n),dt=i):Bi(t,e,n);break;default:Bi(t,e,n)}}function _w(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BO),e.forEach(function(i){var r=GO.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function mn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:nt=a.stateNode,vn=!1;break e;case 3:nt=a.stateNode.containerInfo,vn=!0;break e;case 4:nt=a.stateNode.containerInfo,vn=!0;break e}a=a.return}if(nt===null)throw Error(A(160));fT(s,o,r),nt=null,vn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Oe(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pT(e,t),e=e.sibling}function pT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mn(e,t),Nn(t),i&4){try{ll(3,t,t.return),qh(3,t)}catch(m){Oe(t,t.return,m)}try{ll(5,t,t.return)}catch(m){Oe(t,t.return,m)}}break;case 1:mn(e,t),Nn(t),i&512&&n!==null&&uo(n,n.return);break;case 5:if(mn(e,t),Nn(t),i&512&&n!==null&&uo(n,n.return),t.flags&32){var r=t.stateNode;try{El(r,"")}catch(m){Oe(t,t.return,m)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&LC(r,s),xm(a,o);var c=xm(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?WC(r,d):u==="dangerouslySetInnerHTML"?BC(r,d):u==="children"?El(r,d):vy(r,u,d,c)}switch(a){case"input":ym(r,s);break;case"textarea":FC(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?xo(r,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?xo(r,!!s.multiple,s.defaultValue,!0):xo(r,!!s.multiple,s.multiple?[]:"",!1))}r[Nl]=s}catch(m){Oe(t,t.return,m)}}break;case 6:if(mn(e,t),Nn(t),i&4){if(t.stateNode===null)throw Error(A(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(m){Oe(t,t.return,m)}}break;case 3:if(mn(e,t),Nn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Il(e.containerInfo)}catch(m){Oe(t,t.return,m)}break;case 4:mn(e,t),Nn(t);break;case 13:mn(e,t),Nn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Xy=Ve())),i&4&&_w(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(dt=(c=dt)||u,mn(e,t),dt=c):mn(e,t),Nn(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(j=t,u=t.child;u!==null;){for(d=j=u;j!==null;){switch(h=j,f=h.child,h.tag){case 0:case 11:case 14:case 15:ll(4,h,h.return);break;case 1:uo(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Oe(i,n,m)}}break;case 5:uo(h,h.return);break;case 22:if(h.memoizedState!==null){bw(d);continue}}f!==null?(f.return=h,j=f):bw(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jC("display",o))}catch(m){Oe(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Oe(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mn(e,t),Nn(t),i&4&&_w(t);break;case 21:break;default:mn(e,t),Nn(t)}}function Nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hT(n)){var i=n;break e}n=n.return}throw Error(A(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(El(r,""),i.flags&=-33);var s=vw(t);Jm(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=vw(t);Xm(t,a,o);break;default:throw Error(A(161))}}catch(l){Oe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WO(t,e,n){j=t,mT(t)}function mT(t,e,n){for(var i=(t.mode&1)!==0;j!==null;){var r=j,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||ru;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||dt;a=ru;var c=dt;if(ru=o,(dt=l)&&!c)for(j=r;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?xw(r):l!==null?(l.return=o,j=l):xw(r);for(;s!==null;)j=s,mT(s),s=s.sibling;j=r,ru=a,dt=c}ww(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,j=s):ww(t)}}function ww(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dt||qh(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!dt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:yn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&rw(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Il(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}dt||e.flags&512&&Qm(e)}catch(h){Oe(e,e.return,h)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function bw(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function xw(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qh(4,e)}catch(l){Oe(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Oe(e,r,l)}}var s=e.return;try{Qm(e)}catch(l){Oe(e,s,l)}break;case 5:var o=e.return;try{Qm(e)}catch(l){Oe(e,o,l)}}}catch(l){Oe(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var zO=Math.ceil,Ad=Li.ReactCurrentDispatcher,Gy=Li.ReactCurrentOwner,cn=Li.ReactCurrentBatchConfig,re=0,Ze=null,We=null,st=0,Bt=0,ho=Or(0),$e=0,Wl=null,Ss=0,Gh=0,Qy=0,cl=null,Pt=null,Xy=0,Yo=1/0,ai=null,Od=!1,Zm=null,ur=null,su=!1,Zi=null,Nd=0,ul=0,eg=null,$u=-1,Ku=0;function kt(){return re&6?Ve():$u!==-1?$u:$u=Ve()}function dr(t){return t.mode&1?re&2&&st!==0?st&-st:CO.transition!==null?(Ku===0&&(Ku=ZC()),Ku):(t=he,t!==0||(t=window.event,t=t===void 0?16:oE(t.type)),t):1}function Cn(t,e,n,i){if(50<ul)throw ul=0,eg=null,Error(A(185));yc(t,n,i),(!(re&2)||t!==Ze)&&(t===Ze&&(!(re&2)&&(Gh|=n),$e===4&&Ki(t,st)),Nt(t,i),n===1&&re===0&&!(e.mode&1)&&(Yo=Ve()+500,Yh&&Nr()))}function Nt(t,e){var n=t.callbackNode;CA(t,e);var i=vd(t,t===Ze?st:0);if(i===0)n!==null&&M0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&M0(n),e===1)t.tag===0?kO(Sw.bind(null,t)):CE(Sw.bind(null,t)),wO(function(){!(re&6)&&Nr()}),n=null;else{switch(eE(i)){case 1:n=Sy;break;case 4:n=XC;break;case 16:n=yd;break;case 536870912:n=JC;break;default:n=yd}n=ST(n,gT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gT(t,e){if($u=-1,Ku=0,re&6)throw Error(A(327));var n=t.callbackNode;if(To()&&t.callbackNode!==n)return null;var i=vd(t,t===Ze?st:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Ld(t,i);else{e=i;var r=re;re|=2;var s=vT();(Ze!==t||st!==e)&&(ai=null,Yo=Ve()+500,us(t,e));do try{YO();break}catch(a){yT(t,a)}while(1);Ly(),Ad.current=s,re=r,We!==null?e=0:(Ze=null,st=0,e=$e)}if(e!==0){if(e===2&&(r=Tm(t),r!==0&&(i=r,e=tg(t,r))),e===1)throw n=Wl,us(t,0),Ki(t,i),Nt(t,Ve()),n;if(e===6)Ki(t,i);else{if(r=t.current.alternate,!(i&30)&&!UO(r)&&(e=Ld(t,i),e===2&&(s=Tm(t),s!==0&&(i=s,e=tg(t,s))),e===1))throw n=Wl,us(t,0),Ki(t,i),Nt(t,Ve()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(A(345));case 2:Kr(t,Pt,ai);break;case 3:if(Ki(t,i),(i&130023424)===i&&(e=Xy+500-Ve(),10<e)){if(vd(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){kt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Nm(Kr.bind(null,t,Pt,ai),e);break}Kr(t,Pt,ai);break;case 4:if(Ki(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-kn(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Ve()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*zO(i/1960))-i,10<i){t.timeoutHandle=Nm(Kr.bind(null,t,Pt,ai),i);break}Kr(t,Pt,ai);break;case 5:Kr(t,Pt,ai);break;default:throw Error(A(329))}}}return Nt(t,Ve()),t.callbackNode===n?gT.bind(null,t):null}function tg(t,e){var n=cl;return t.current.memoizedState.isDehydrated&&(us(t,e).flags|=256),t=Ld(t,e),t!==2&&(e=Pt,Pt=n,e!==null&&ng(e)),t}function ng(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function UO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Dn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ki(t,e){for(e&=~Qy,e&=~Gh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kn(e),i=1<<n;t[n]=-1,e&=~i}}function Sw(t){if(re&6)throw Error(A(327));To();var e=vd(t,0);if(!(e&1))return Nt(t,Ve()),null;var n=Ld(t,e);if(t.tag!==0&&n===2){var i=Tm(t);i!==0&&(e=i,n=tg(t,i))}if(n===1)throw n=Wl,us(t,0),Ki(t,e),Nt(t,Ve()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kr(t,Pt,ai),Nt(t,Ve()),null}function Jy(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(Yo=Ve()+500,Yh&&Nr())}}function ks(t){Zi!==null&&Zi.tag===0&&!(re&6)&&To();var e=re;re|=1;var n=cn.transition,i=he;try{if(cn.transition=null,he=1,t)return t()}finally{he=i,cn.transition=n,re=e,!(re&6)&&Nr()}}function Zy(){Bt=ho.current,Se(ho)}function us(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_O(n)),We!==null)for(n=We.return;n!==null;){var i=n;switch(Ay(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Sd();break;case 3:Uo(),Se(At),Se(pt),zy();break;case 5:Wy(i);break;case 4:Uo();break;case 13:Se(De);break;case 19:Se(De);break;case 10:Fy(i.type._context);break;case 22:case 23:Zy()}n=n.return}if(Ze=t,We=t=hr(t.current,null),st=Bt=e,$e=0,Wl=null,Qy=Gh=Ss=0,Pt=cl=null,ts!==null){for(e=0;e<ts.length;e++)if(n=ts[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}ts=null}return t}function yT(t,e){do{var n=We;try{if(Ly(),Uu.current=Rd,Md){for(var i=Me.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Md=!1}if(xs=0,Ge=Ue=Me=null,al=!1,Vl=0,Gy.current=null,n===null||n.return===null){$e=1,Wl=e,We=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=st,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=uw(o);if(f!==null){f.flags&=-257,dw(f,o,a,s,e),f.mode&1&&cw(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){cw(s,c,e),ev();break e}l=Error(A(426))}}else if(ke&&a.mode&1){var v=uw(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),dw(v,o,a,s,e),Oy(Ho(l,a));break e}}s=l=Ho(l,a),$e!==4&&($e=2),cl===null?cl=[s]:cl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=eT(s,l,e);iw(s,g);break e;case 1:a=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ur===null||!ur.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=tT(s,a,e);iw(s,b);break e}}s=s.return}while(s!==null)}wT(n)}catch(w){e=w,We===n&&n!==null&&(We=n=n.return);continue}break}while(1)}function vT(){var t=Ad.current;return Ad.current=Rd,t===null?Rd:t}function ev(){($e===0||$e===3||$e===2)&&($e=4),Ze===null||!(Ss&268435455)&&!(Gh&268435455)||Ki(Ze,st)}function Ld(t,e){var n=re;re|=2;var i=vT();(Ze!==t||st!==e)&&(ai=null,us(t,e));do try{HO();break}catch(r){yT(t,r)}while(1);if(Ly(),re=n,Ad.current=i,We!==null)throw Error(A(261));return Ze=null,st=0,$e}function HO(){for(;We!==null;)_T(We)}function YO(){for(;We!==null&&!gA();)_T(We)}function _T(t){var e=xT(t.alternate,t,Bt);t.memoizedProps=t.pendingProps,e===null?wT(t):We=e,Gy.current=null}function wT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=VO(n,e),n!==null){n.flags&=32767,We=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$e=6,We=null;return}}else if(n=FO(n,e,Bt),n!==null){We=n;return}if(e=e.sibling,e!==null){We=e;return}We=e=t}while(e!==null);$e===0&&($e=5)}function Kr(t,e,n){var i=he,r=cn.transition;try{cn.transition=null,he=1,$O(t,e,n,i)}finally{cn.transition=r,he=i}return null}function $O(t,e,n,i){do To();while(Zi!==null);if(re&6)throw Error(A(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(EA(t,s),t===Ze&&(We=Ze=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||su||(su=!0,ST(yd,function(){return To(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=cn.transition,cn.transition=null;var o=he;he=1;var a=re;re|=4,Gy.current=null,jO(t,n),pT(n,t),hO(Am),_d=!!Rm,Am=Rm=null,t.current=n,WO(n),yA(),re=a,he=o,cn.transition=s}else t.current=n;if(su&&(su=!1,Zi=t,Nd=r),s=t.pendingLanes,s===0&&(ur=null),wA(n.stateNode),Nt(t,Ve()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Od)throw Od=!1,t=Zm,Zm=null,t;return Nd&1&&t.tag!==0&&To(),s=t.pendingLanes,s&1?t===eg?ul++:(ul=0,eg=t):ul=0,Nr(),null}function To(){if(Zi!==null){var t=eE(Nd),e=cn.transition,n=he;try{if(cn.transition=null,he=16>t?16:t,Zi===null)var i=!1;else{if(t=Zi,Zi=null,Nd=0,re&6)throw Error(A(331));var r=re;for(re|=4,j=t.current;j!==null;){var s=j,o=s.child;if(j.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(j=c;j!==null;){var u=j;switch(u.tag){case 0:case 11:case 15:ll(8,u,s)}var d=u.child;if(d!==null)d.return=u,j=d;else for(;j!==null;){u=j;var h=u.sibling,f=u.return;if(dT(u),u===c){j=null;break}if(h!==null){h.return=f,j=h;break}j=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}j=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ll(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,j=g;break e}j=s.return}}var y=t.current;for(j=y;j!==null;){o=j;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,j=_;else e:for(o=y;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qh(9,a)}}catch(w){Oe(a,a.return,w)}if(a===o){j=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,j=b;break e}j=a.return}}if(re=r,Nr(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(jh,t)}catch{}i=!0}return i}finally{he=n,cn.transition=e}}return!1}function kw(t,e,n){e=Ho(n,e),e=eT(t,e,1),t=cr(t,e,1),e=kt(),t!==null&&(yc(t,1,e),Nt(t,e))}function Oe(t,e,n){if(t.tag===3)kw(t,t,n);else for(;e!==null;){if(e.tag===3){kw(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ur===null||!ur.has(i))){t=Ho(n,t),t=tT(e,t,1),e=cr(e,t,1),t=kt(),e!==null&&(yc(e,1,t),Nt(e,t));break}}e=e.return}}function KO(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=kt(),t.pingedLanes|=t.suspendedLanes&n,Ze===t&&(st&n)===n&&($e===4||$e===3&&(st&130023424)===st&&500>Ve()-Xy?us(t,0):Qy|=n),Nt(t,e)}function bT(t,e){e===0&&(t.mode&1?(e=Gc,Gc<<=1,!(Gc&130023424)&&(Gc=4194304)):e=1);var n=kt();t=Pi(t,e),t!==null&&(yc(t,e,n),Nt(t,n))}function qO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bT(t,n)}function GO(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(A(314))}i!==null&&i.delete(e),bT(t,n)}var xT;xT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||At.current)Mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mt=!1,LO(t,e,n);Mt=!!(t.flags&131072)}else Mt=!1,ke&&e.flags&1048576&&EE(e,Ed,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Yu(t,e),t=e.pendingProps;var r=jo(e,pt.current);Eo(e,n),r=Hy(null,e,i,t,r,n);var s=Yy();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ot(i)?(s=!0,kd(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,By(e),r.updater=Kh,e.stateNode=r,r._reactInternals=e,zm(e,i,t,n),e=Ym(null,e,i,!0,s,n)):(e.tag=0,ke&&s&&Ry(e),vt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Yu(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=XO(i),t=yn(i,t),r){case 0:e=Hm(null,e,i,t,n);break e;case 1:e=pw(null,e,i,t,n);break e;case 11:e=hw(null,e,i,t,n);break e;case 14:e=fw(null,e,i,yn(i.type,t),n);break e}throw Error(A(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:yn(i,r),Hm(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:yn(i,r),pw(t,e,i,r,n);case 3:e:{if(sT(e),t===null)throw Error(A(387));i=e.pendingProps,s=e.memoizedState,r=s.element,RE(t,e),Pd(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Ho(Error(A(423)),e),e=mw(t,e,i,n,r);break e}else if(i!==r){r=Ho(Error(A(424)),e),e=mw(t,e,i,n,r);break e}else for(jt=lr(e.stateNode.containerInfo.firstChild),Ut=e,ke=!0,wn=null,n=IE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wo(),i===r){e=Ii(t,e,n);break e}vt(t,e,i,n)}e=e.child}return e;case 5:return AE(e),t===null&&Bm(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Om(i,r)?o=null:s!==null&&Om(i,s)&&(e.flags|=32),rT(t,e),vt(t,e,o,n),e.child;case 6:return t===null&&Bm(e),null;case 13:return oT(t,e,n);case 4:return jy(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=zo(e,null,i,n):vt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:yn(i,r),hw(t,e,i,r,n);case 7:return vt(t,e,e.pendingProps,n),e.child;case 8:return vt(t,e,e.pendingProps.children,n),e.child;case 12:return vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,ve(Td,i._currentValue),i._currentValue=o,s!==null)if(Dn(s.value,o)){if(s.children===r.children&&!At.current){e=Ii(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=yi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),jm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(A(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),jm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Eo(e,n),r=hn(r),i=i(r),e.flags|=1,vt(t,e,i,n),e.child;case 14:return i=e.type,r=yn(i,e.pendingProps),r=yn(i.type,r),fw(t,e,i,r,n);case 15:return nT(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:yn(i,r),Yu(t,e),e.tag=1,Ot(i)?(t=!0,kd(e)):t=!1,Eo(e,n),ZE(e,i,r),zm(e,i,r,n),Ym(null,e,i,!0,t,n);case 19:return aT(t,e,n);case 22:return iT(t,e,n)}throw Error(A(156,e.tag))};function ST(t,e){return QC(t,e)}function QO(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,n,i){return new QO(t,e,n,i)}function tv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XO(t){if(typeof t=="function")return tv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wy)return 11;if(t===by)return 14}return 2}function hr(t,e){var n=t.alternate;return n===null?(n=an(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qu(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")tv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case to:return ds(n.children,r,s,e);case _y:o=8,r|=8;break;case hm:return t=an(12,n,e,r|2),t.elementType=hm,t.lanes=s,t;case fm:return t=an(13,n,e,r),t.elementType=fm,t.lanes=s,t;case pm:return t=an(19,n,e,r),t.elementType=pm,t.lanes=s,t;case AC:return Qh(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MC:o=10;break e;case RC:o=9;break e;case wy:o=11;break e;case by:o=14;break e;case Hi:o=16,i=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=an(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function ds(t,e,n,i){return t=an(7,t,i,e),t.lanes=n,t}function Qh(t,e,n,i){return t=an(22,t,i,e),t.elementType=AC,t.lanes=n,t.stateNode={isHidden:!1},t}function up(t,e,n){return t=an(6,t,null,e),t.lanes=n,t}function dp(t,e,n){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JO(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yf(0),this.expirationTimes=Yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yf(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function nv(t,e,n,i,r,s,o,a,l){return t=new JO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=an(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},By(s),t}function ZO(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eo,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function kT(t){if(!t)return br;t=t._reactInternals;e:{if(js(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(Ot(n))return kE(t,n,e)}return e}function CT(t,e,n,i,r,s,o,a,l){return t=nv(n,i,!0,t,r,s,o,a,l),t.context=kT(null),n=t.current,i=kt(),r=dr(n),s=yi(i,r),s.callback=e??null,cr(n,s,r),t.current.lanes=r,yc(t,r,i),Nt(t,i),t}function Xh(t,e,n,i){var r=e.current,s=kt(),o=dr(r);return n=kT(n),e.context===null?e.context=n:e.pendingContext=n,e=yi(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=cr(r,e,o),t!==null&&(Cn(t,r,o,s),zu(t,r,o)),o}function Fd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iv(t,e){Cw(t,e),(t=t.alternate)&&Cw(t,e)}function eN(){return null}var ET=typeof reportError=="function"?reportError:function(t){console.error(t)};function rv(t){this._internalRoot=t}Jh.prototype.render=rv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));Xh(t,e,null,null)};Jh.prototype.unmount=rv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ks(function(){Xh(null,t,null,null)}),e[Di]=null}};function Jh(t){this._internalRoot=t}Jh.prototype.unstable_scheduleHydration=function(t){if(t){var e=iE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$i.length&&e!==0&&e<$i[n].priority;n++);$i.splice(n,0,t),n===0&&sE(t)}};function sv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ew(){}function tN(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Fd(o);s.call(c)}}var o=CT(e,i,t,0,null,!1,!1,"",Ew);return t._reactRootContainer=o,t[Di]=o.current,Al(t.nodeType===8?t.parentNode:t),ks(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Fd(l);a.call(c)}}var l=nv(t,0,!1,null,null,!1,!1,"",Ew);return t._reactRootContainer=l,t[Di]=l.current,Al(t.nodeType===8?t.parentNode:t),ks(function(){Xh(e,l,n,i)}),l}function ef(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Fd(o);a.call(l)}}Xh(e,o,t,r)}else o=tN(n,e,t,r,i);return Fd(o)}tE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ha(e.pendingLanes);n!==0&&(ky(e,n|1),Nt(e,Ve()),!(re&6)&&(Yo=Ve()+500,Nr()))}break;case 13:ks(function(){var i=Pi(t,1);if(i!==null){var r=kt();Cn(i,t,1,r)}}),iv(t,1)}};Cy=function(t){if(t.tag===13){var e=Pi(t,134217728);if(e!==null){var n=kt();Cn(e,t,134217728,n)}iv(t,134217728)}};nE=function(t){if(t.tag===13){var e=dr(t),n=Pi(t,e);if(n!==null){var i=kt();Cn(n,t,e,i)}iv(t,e)}};iE=function(){return he};rE=function(t,e){var n=he;try{return he=t,e()}finally{he=n}};km=function(t,e,n){switch(e){case"input":if(ym(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Hh(i);if(!r)throw Error(A(90));NC(i),ym(i,r)}}}break;case"textarea":FC(t,n);break;case"select":e=n.value,e!=null&&xo(t,!!n.multiple,e,!1)}};HC=Jy;YC=ks;var nN={usingClientEntryPoint:!1,Events:[_c,so,Hh,zC,UC,Jy]},Ea={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iN={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Li.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qC(t),t===null?null:t.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||eN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{jh=ou.inject(iN),Yn=ou}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nN;Gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sv(e))throw Error(A(200));return ZO(t,e,null,n)};Gt.createRoot=function(t,e){if(!sv(t))throw Error(A(299));var n=!1,i="",r=ET;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=nv(t,1,!1,null,null,n,!1,i,r),t[Di]=e.current,Al(t.nodeType===8?t.parentNode:t),new rv(e)};Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=qC(e),t=t===null?null:t.stateNode,t};Gt.flushSync=function(t){return ks(t)};Gt.hydrate=function(t,e,n){if(!Zh(e))throw Error(A(200));return ef(null,t,e,!0,n)};Gt.hydrateRoot=function(t,e,n){if(!sv(t))throw Error(A(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=ET;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CT(e,null,t,1,n??null,r,!1,s,o),t[Di]=e.current,Al(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Jh(e)};Gt.render=function(t,e,n){if(!Zh(e))throw Error(A(200));return ef(null,t,e,!1,n)};Gt.unmountComponentAtNode=function(t){if(!Zh(t))throw Error(A(40));return t._reactRootContainer?(ks(function(){ef(null,null,t,!1,function(){t._reactRootContainer=null,t[Di]=null})}),!0):!1};Gt.unstable_batchedUpdates=Jy;Gt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Zh(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return ef(t,e,n,!1,i)};Gt.version="18.3.1-next-f1338f8080-20240426";function TT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TT)}catch(t){console.error(t)}}TT(),TC.exports=Gt;var ov=TC.exports;const rN=dy(ov);var DT,Tw=ov;DT=Tw.createRoot,Tw.hydrateRoot;/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ua=(t,e)=>{const n=k.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>k.createElement("svg",{ref:u,...sN,width:r,height:r,stroke:i,strokeWidth:o?Number(s)*24/Number(r):s,className:["lucide",`lucide-${oN(t)}`,a].join(" "),...c},[...e.map(([d,h])=>k.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=ua("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=ua("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=ua("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=ua("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=ua("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=ua("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),fN=({onSearch:t})=>{const[e,n]=k.useState(""),i=s=>{n(s.target.value)},r=s=>{s.preventDefault(),t(e)};return D.jsxs("div",{className:"flex items-center rounded-full bg-white shadow-md p-2 w-full",children:[D.jsx("input",{type:"text",placeholder:"Enter English word...",className:"flex-grow outline-none px-4 rounded-full",value:e,onChange:i,onKeyDown:s=>{s.key==="Enter"&&r(s)}}),D.jsx("button",{type:"button",onClick:r,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:D.jsx(dN,{className:"h-5 w-5"})})]})},pN="modulepreload",mN=function(t){return"/EnglishPersonalDict/"+t},Dw={},gN=function(e,n,i){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=mN(s),s in Dw)return;Dw[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!i)for(let u=r.length-1;u>=0;u--){const d=r[u];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":pN,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vd.apply(null,arguments)}function yN(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function vN(t){k.useEffect(t,[])}var _N=["id","volume","playbackRate","soundEnabled","interrupt","onload"];function wN(t,e){var n=e===void 0?{}:e,i=n.volume,r=i===void 0?1:i,s=n.playbackRate,o=s===void 0?1:s,a=n.soundEnabled,l=a===void 0?!0:a,c=n.interrupt,u=c===void 0?!1:c,d=n.onload,h=yN(n,_N),f=P.useRef(null),p=P.useRef(!1),m=P.useState(null),v=m[0],g=m[1],y=P.useState(null),_=y[0],b=y[1],w=function(){typeof d=="function"&&d.call(this),p.current&&g(this.duration()*1e3),b(this)};vN(function(){return gN(()=>import("./howler-e401a8f8.js").then(T=>T.h),[]).then(function(T){if(!p.current){var R;f.current=(R=T.Howl)!==null&&R!==void 0?R:T.default.Howl,p.current=!0,new f.current(Vd({src:Array.isArray(t)?t:[t],volume:r,rate:o,onload:w},h))}}),function(){p.current=!1}}),P.useEffect(function(){f.current&&_&&b(new f.current(Vd({src:Array.isArray(t)?t:[t],volume:r,onload:w},h)))},[JSON.stringify(t)]),P.useEffect(function(){_&&(_.volume(r),_.rate(o))},[_,r,o]);var S=P.useCallback(function(T){typeof T>"u"&&(T={}),!(!_||!l&&!T.forceSoundEnabled)&&(u&&_.stop(),T.playbackRate&&_.rate(T.playbackRate),_.play(T.id))},[_,l,u]),C=P.useCallback(function(T){_&&_.stop(T)},[_]),x=P.useCallback(function(T){_&&_.pause(T)},[_]),E=[S,{sound:_,stop:C,pause:x,duration:v}];return E}const bN={isOpen:!0,volume:1,type:"us",name:"English",isLoop:!1,isTransRead:!1,transVolume:1,rate:1};function xN(){}const hp="https://dict.youdao.com/dictvoice?audio=";function SN(t,e){switch(e){case"uk":return`${hp}${t}&type=1`;case"us":return`${hp}${t}&type=2`;case"zh":return`${hp}${t}&le=zh`;default:return""}}function kN(t,e){const n=bN,i=k.useMemo(()=>typeof e=="boolean"?e:n.isLoop,[e,n.isLoop]),[r,{stop:s,sound:o}]=wN(SN(t,n.type),{html5:!0,format:["mp3"],loop:i,volume:n.volume,rate:n.rate});return k.useEffect(()=>{if(o)return o.loop(i),xN},[i,o]),k.useEffect(()=>{if(o)return()=>{o.unload()}},[o]),{play:r,stop:s}}const CN=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e){if(!t)throw da(e)},da=function(t){return new Error("Firebase Database ("+PT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},EN=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),i.push(n[u],n[d],n[h],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||d==null)throw new TN;const h=s<<2|a>>4;if(i.push(h),c!==64){const f=a<<4&240|c>>2;if(i.push(f),d!==64){const p=c<<6&192|d;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MT=function(t){const e=IT(t);return av.encodeByteArray(e,!0)},Bd=function(t){return MT(t).replace(/\./g,"")},jd=function(t){try{return av.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){return RT(void 0,t)}function RT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!PN(n)||(t[n]=RT(t[n],e[n]));return t}function PN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=()=>IN().__FIREBASE_DEFAULTS__,RN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jd(t[1]);return e&&JSON.parse(e)},lv=()=>{try{return CN()||MN()||RN()||AN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AT=t=>{var e,n;return(n=(e=lv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ON=t=>{const e=AT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},OT=()=>{var t;return(t=lv())===null||t===void 0?void 0:t.config},NT=t=>{var e;return(e=lv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Bd(JSON.stringify(n)),Bd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function LN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FN(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VT(){return PT.NODE_ADMIN===!0}function BT(){try{return typeof indexedDB=="object"}catch{return!1}}function jT(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function VN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="FirebaseError";class ti extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=BN,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ws.prototype.create)}}class Ws{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?jN(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ti(r,a,i)}}function jN(t,e){return t.replace(WN,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const WN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){return JSON.parse(t)}function He(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=zl(jd(s[0])||""),n=zl(jd(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},zN=function(t){const e=WT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},UN=function(t){const e=WT(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Cs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ig(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wd(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function xr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Pw(s)&&Pw(o)){if(!xr(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Pw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function $a(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Ka(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(h<<1|h>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(r<<5|r>>>27)+c+l+u+i[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function YN(t,e){const n=new $N(t,e);return n.subscribe.bind(n)}class $N{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");KN(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=fp),r.error===void 0&&(r.error=fp),r.complete===void 0&&(r.complete=fp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fp(){}function zT(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,O(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},nf=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=1e3,QN=2,XN=4*60*60*1e3,JN=.5;function Iw(t,e=GN,n=QN){const i=e*Math.pow(n,t),r=Math.round(JN*i*(Math.random()-.5)*2);return Math.min(XN,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class Pn{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new tf;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tL(e))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qr){return this.instances.has(e)}getOptions(e=qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eL(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qr){return this.component?this.component.multipleInstances?e:qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eL(t){return t===qr?void 0:t}function tL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const iL={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},rL=pe.INFO,sL={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},oL=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=sL[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rf{constructor(e){this.name=e,this._logLevel=rL,this._logHandler=oL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const aL=(t,e)=>e.some(n=>t instanceof n);let Mw,Rw;function lL(){return Mw||(Mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cL(){return Rw||(Rw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UT=new WeakMap,rg=new WeakMap,HT=new WeakMap,pp=new WeakMap,uv=new WeakMap;function uL(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fr(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&UT.set(n,t)}).catch(()=>{}),uv.set(e,t),e}function dL(t){if(rg.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rg.set(t,e)}let sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hL(t){sg=t(sg)}function fL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(mp(this),e,...n);return HT.set(i,e.sort?e.sort():[e]),fr(i)}:cL().includes(t)?function(...e){return t.apply(mp(this),e),fr(UT.get(this))}:function(...e){return fr(t.apply(mp(this),e))}}function pL(t){return typeof t=="function"?fL(t):(t instanceof IDBTransaction&&dL(t),aL(t,lL())?new Proxy(t,sg):t)}function fr(t){if(t instanceof IDBRequest)return uL(t);if(pp.has(t))return pp.get(t);const e=pL(t);return e!==t&&(pp.set(t,e),uv.set(e,t)),e}const mp=t=>uv.get(t);function YT(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=fr(o);return i&&o.addEventListener("upgradeneeded",l=>{i(fr(o.result),l.oldVersion,l.newVersion,fr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const mL=["get","getKey","getAll","getAllKeys","count"],gL=["put","add","delete","clear"],gp=new Map;function Aw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gp.get(e))return gp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=gL.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||mL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return gp.set(e,s),s}hL(t=>({...t,get:(e,n,i)=>Aw(e,n)||t.get(e,n,i),has:(e,n)=>!!Aw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vL(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function vL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const og="@firebase/app",Ow="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new rf("@firebase/app"),_L="@firebase/app-compat",wL="@firebase/analytics-compat",bL="@firebase/analytics",xL="@firebase/app-check-compat",SL="@firebase/app-check",kL="@firebase/auth",CL="@firebase/auth-compat",EL="@firebase/database",TL="@firebase/data-connect",DL="@firebase/database-compat",PL="@firebase/functions",IL="@firebase/functions-compat",ML="@firebase/installations",RL="@firebase/installations-compat",AL="@firebase/messaging",OL="@firebase/messaging-compat",NL="@firebase/performance",LL="@firebase/performance-compat",FL="@firebase/remote-config",VL="@firebase/remote-config-compat",BL="@firebase/storage",jL="@firebase/storage-compat",WL="@firebase/firestore",zL="@firebase/vertexai",UL="@firebase/firestore-compat",HL="firebase",YL="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="[DEFAULT]",$L={[og]:"fire-core",[_L]:"fire-core-compat",[bL]:"fire-analytics",[wL]:"fire-analytics-compat",[SL]:"fire-app-check",[xL]:"fire-app-check-compat",[kL]:"fire-auth",[CL]:"fire-auth-compat",[EL]:"fire-rtdb",[TL]:"fire-data-connect",[DL]:"fire-rtdb-compat",[PL]:"fire-fn",[IL]:"fire-fn-compat",[ML]:"fire-iid",[RL]:"fire-iid-compat",[AL]:"fire-fcm",[OL]:"fire-fcm-compat",[NL]:"fire-perf",[LL]:"fire-perf-compat",[FL]:"fire-rc",[VL]:"fire-rc-compat",[BL]:"fire-gcs",[jL]:"fire-gcs-compat",[WL]:"fire-fst",[UL]:"fire-fst-compat",[zL]:"fire-vertex","fire-js":"fire-js",[HL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new Map,KL=new Map,lg=new Map;function Nw(t,e){try{t.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zn(t){const e=t.name;if(lg.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;lg.set(e,t);for(const n of zd.values())Nw(n,t);for(const n of KL.values())Nw(n,t);return!0}function zs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new Ws("app","Firebase",qL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=YL;function $T(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ag,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw pr.create("bad-app-name",{appName:String(r)});if(n||(n=OT()),!n)throw pr.create("no-options");const s=zd.get(r);if(s){if(xr(n,s.options)&&xr(i,s.config))return s;throw pr.create("duplicate-app",{appName:r})}const o=new nL(r);for(const l of lg.values())o.addComponent(l);const a=new GL(n,i,o);return zd.set(r,a),a}function dv(t=ag){const e=zd.get(t);if(!e&&t===ag&&OT())return $T();if(!e)throw pr.create("no-app",{appName:t});return e}function un(t,e,n){var i;let r=(i=$L[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(a.join(" "));return}Zn(new Pn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="firebase-heartbeat-database",XL=1,Ul="firebase-heartbeat-store";let yp=null;function KT(){return yp||(yp=YT(QL,XL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ul)}catch(n){console.warn(n)}}}}).catch(t=>{throw pr.create("idb-open",{originalErrorMessage:t.message})})),yp}async function JL(t){try{const n=(await KT()).transaction(Ul),i=await n.objectStore(Ul).get(qT(t));return await n.done,i}catch(e){if(e instanceof ti)Mi.warn(e.message);else{const n=pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(n.message)}}}async function Lw(t,e){try{const i=(await KT()).transaction(Ul,"readwrite");await i.objectStore(Ul).put(e,qT(t)),await i.done}catch(n){if(n instanceof ti)Mi.warn(n.message);else{const i=pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(i.message)}}}function qT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=1024,eF=30;class tF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iF(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Fw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>eF){const o=rF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Mi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fw(),{heartbeatsToSend:i,unsentEntries:r}=nF(this._heartbeatsCache.heartbeats),s=Bd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Mi.warn(n),""}}}function Fw(){return new Date().toISOString().substring(0,10)}function nF(t,e=ZL){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Vw(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Vw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class iF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BT()?jT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Vw(t){return Bd(JSON.stringify({version:2,heartbeats:t})).length}function rF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t){Zn(new Pn("platform-logger",e=>new yL(e),"PRIVATE")),Zn(new Pn("heartbeat",e=>new tF(e),"PRIVATE")),un(og,Ow,t),un(og,Ow,"esm2017"),un("fire-js","")}sF("");const Bw="@firebase/database",jw="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GT="";function oF(t){GT=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),He(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:zl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Rn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new aF(e)}}catch{}return new lF},is=QT("localStorage"),cg=QT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new rf("@firebase/database"),XT=function(){let t=1;return function(){return t++}}(),JT=function(t){const e=qN(t),n=new HN;n.update(e);const i=n.digest();return av.encodeByteArray(i)},bc=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=bc.apply(null,i):typeof i=="object"?e+=He(i):e+=i,e+=" "}return e};let hs=null,Ww=!0;const cF=function(t,e){O(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Do.logLevel=pe.VERBOSE,hs=Do.log.bind(Do),e&&cg.set("logging_enabled",!0)):typeof t=="function"?hs=t:(hs=null,cg.remove("logging_enabled"))},ht=function(...t){if(Ww===!0&&(Ww=!1,hs===null&&cg.get("logging_enabled")===!0&&cF(!0)),hs){const e=bc.apply(null,t);hs(e)}},xc=function(t){return function(...e){ht(t,...e)}},ug=function(...t){const e="FIREBASE INTERNAL ERROR: "+bc(...t);Do.error(e)},Ri=function(...t){const e=`FIREBASE FATAL ERROR: ${bc(...t)}`;throw Do.error(e),new Error(e)},Ht=function(...t){const e="FIREBASE WARNING: "+bc(...t);Do.warn(e)},uF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},hv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},dF=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Es="[MIN_NAME]",Sr="[MAX_NAME]",pa=function(t,e){if(t===e)return 0;if(t===Es||e===Sr)return-1;if(e===Es||t===Sr)return 1;{const n=zw(t),i=zw(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},hF=function(t,e){return t===e?0:t<e?-1:1},Ta=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+He(e))},fv=function(t){if(typeof t!="object"||t===null)return He(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=He(e[i]),n+=":",n+=fv(t[e[i]]);return n+="}",n},ZT=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Ft(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const eD=function(t){O(!hv(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,o,a,l;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},fF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},pF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function mF(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const gF=new RegExp("^-?(0*)\\d{1,10}$"),yF=-2147483648,vF=2147483647,zw=function(t){if(gF.test(t)){const e=Number(t);if(e>=yF&&e<=vF)return e}return null},Sc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ht("Exception was thrown by user callback.",n),e},Math.floor(0))}},_F=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},dl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,on(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ht(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ht("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ht(e)}}class Po{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Po.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="5",tD="v",nD="s",iD="r",rD="f",sD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oD="ls",aD="p",dg="ac",lD="websocket",cD="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,i,r,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=is.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&is.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function xF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function dD(t,e,n){O(typeof e=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let i;if(e===lD)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===cD)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);xF(t)&&(n.ns=t.namespace);const r=[];return Ft(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.counters_={}}incrementCounter(e,n=1){Rn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return DN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp={},_p={};function mv(t){const e=t.toString();return vp[e]||(vp[e]=new SF),vp[e]}function kF(t,e){const n=t.toString();return _p[n]||(_p[n]=e()),_p[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Sc(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="start",EF="close",TF="pLPCommand",DF="pRTLPCB",hD="id",fD="pw",pD="ser",PF="cb",IF="seg",MF="ts",RF="d",AF="dframe",mD=1870,gD=30,OF=mD-gD,NF=25e3,LF=3e4;class fo{constructor(e,n,i,r,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xc(e),this.stats_=mv(n),this.urlFn=l=>(this.appCheckToken&&(l[dg]=this.appCheckToken),dD(n,cD,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new CF(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LF)),dF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gv((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Uw)this.id=a,this.password=l;else if(o===EF)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[Uw]="t",i[pD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[PF]=this.scriptTagHolder.uniqueCallbackIdentifier),i[tD]=pv,this.transportSessionId&&(i[nD]=this.transportSessionId),this.lastSessionId&&(i[oD]=this.lastSessionId),this.applicationId&&(i[aD]=this.applicationId),this.appCheckToken&&(i[dg]=this.appCheckToken),typeof location<"u"&&location.hostname&&sD.test(location.hostname)&&(i[iD]=rD);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){fo.forceAllow_=!0}static forceDisallow(){fo.forceDisallow_=!0}static isAvailable(){return fo.forceAllow_?!0:!fo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fF()&&!pF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=He(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=MT(n),r=ZT(i,OF);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[AF]="t",i[hD]=e,i[fD]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=He(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class gv{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=XT(),window[TF+this.uniqueCallbackIdentifier]=e,window[DF+this.uniqueCallbackIdentifier]=n,this.myIFrame=gv.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ht("frame writing exception"),a.stack&&ht(a.stack),ht(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ht("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[hD]=this.myID,e[fD]=this.myPW,e[pD]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+gD+i.length<=mD;){const o=this.pendingSegs.shift();i=i+"&"+IF+r+"="+o.seg+"&"+MF+r+"="+o.ts+"&"+RF+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(NF)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{ht("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=16384,VF=45e3;let Ud=null;typeof MozWebSocket<"u"?Ud=MozWebSocket:typeof WebSocket<"u"&&(Ud=WebSocket);class bn{constructor(e,n,i,r,s,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xc(this.connId),this.stats_=mv(n),this.connURL=bn.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,s){const o={};return o[tD]=pv,typeof location<"u"&&location.hostname&&sD.test(location.hostname)&&(o[iD]=rD),n&&(o[nD]=n),i&&(o[oD]=i),r&&(o[dg]=r),s&&(o[aD]=s),dD(e,lD,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,is.set("previous_websocket_failure",!0);try{let i;VT(),this.mySock=new Ud(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){bn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Ud!==null&&!bn.forceDisallow_}static previouslyFailed(){return is.isInMemoryStorage||is.get("previous_websocket_failure")===!0}markConnectionHealthy(){is.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=zl(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=He(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=ZT(n,FF);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(VF))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bn.responsesRequiredToBeHealthy=2;bn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{static get ALL_TRANSPORTS(){return[fo,bn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=bn&&bn.isAvailable();let i=n&&!bn.previouslyFailed();if(e.webSocketOnly&&(n||Ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[bn];else{const r=this.transports_=[];for(const s of Hl.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);Hl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Hl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=6e4,jF=5e3,WF=10*1024,zF=100*1024,wp="t",Hw="d",UF="s",Yw="r",HF="e",$w="o",Kw="a",qw="n",Gw="p",YF="h";class $F{constructor(e,n,i,r,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xc("c:"+this.id+":"),this.transportManager_=new Hl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=dl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>zF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>WF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(wp in e){const n=e[wp];n===Kw?this.upgradeIfSecondaryHealthy_():n===Yw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$w&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ta("t",e),i=Ta("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Gw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Kw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:qw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ta("t",e),i=Ta("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ta(wp,e);if(Hw in e){const i=e[Hw];if(n===YF){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===qw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===UF?this.onConnectionShutdown_(i):n===Yw?this.onReset_(i):n===HF?ug("Server Error: "+i):n===$w?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ug("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),pv!==i&&Ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),dl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Gw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(is.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){O(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd extends vD{static getInstance(){return new Hd}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!cv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=32,Xw=768;class me{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function oe(){return new me("")}function Q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function kr(t){return t.pieces_.length-t.pieceNum_}function ye(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new me(t.pieces_,e)}function _D(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function KF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function wD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function bD(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new me(e,0)}function Ye(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof me)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new me(n,0)}function X(t){return t.pieceNum_>=t.pieces_.length}function wt(t,e){const n=Q(t),i=Q(e);if(n===null)return e;if(n===i)return wt(ye(t),ye(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function yv(t,e){if(kr(t)!==kr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function xn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(kr(t)>kr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class qF{constructor(e,n){this.errorPrefix_=n,this.parts_=wD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=nf(this.parts_[i]);xD(this)}}function GF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=nf(e),xD(t)}function QF(t){const e=t.parts_.pop();t.byteLength_-=nf(e),t.parts_.length>0&&(t.byteLength_-=1)}function xD(t){if(t.byteLength_>Xw)throw new Error(t.errorPrefix_+"has a key path longer than "+Xw+" bytes ("+t.byteLength_+").");if(t.parts_.length>Qw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Qw+") or object contains a cycle "+Gr(t))}function Gr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv extends vD{static getInstance(){return new vv}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=1e3,XF=60*5*1e3,Jw=30*1e3,JF=1.3,ZF=3e4,e2="server_kill",Zw=3;class vi extends yD{constructor(e,n,i,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=vi.nextPersistentConnectionId_++,this.log_=xc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Da,this.maxReconnectDelay_=XF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!VT())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Hd.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,s={r,a:e,b:n};this.log_(He(s)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new tf,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,i,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;vi.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Rn(e,"w")){const i=Cs(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||UN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Jw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=zN(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+He(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ug("Unrecognized action received from server: "+He(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Da,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Da,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ZF&&(this.reconnectDelay_=Da),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*JF)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+vi.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(d){O(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?ht("getToken() completed but was canceled"):(ht("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new $F(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,f=>{Ht(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(e2)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ht(d),l())}}}interrupt(e){ht("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ht("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ig(this.interruptReasons_)&&(this.reconnectDelay_=Da,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(s=>fv(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new me(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){ht("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Zw&&(this.reconnectDelay_=Jw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ht("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Zw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+GT.replace(/\./g,"-")]=1,cv()?e["framework.cordova"]=1:FT()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Hd.getInstance().currentlyOnline();return ig(this.interruptReasons_)&&e}}vi.nextPersistentConnectionId_=0;vi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Z(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new Z(Es,e),r=new Z(Es,n);return this.compare(i,r)!==0}minPost(){return Z.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au;class SD extends sf{static get __EMPTY_NODE(){return au}static set __EMPTY_NODE(e){au=e}compare(e,n){return pa(e.name,n.name)}isDefinedOn(e){throw da("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Z.MIN}maxPost(){return new Z(Sr,au)}makePost(e,n){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new Z(e,au)}toString(){return".key"}}const fs=new SD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Qe{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??Qe.RED,this.left=r??Rt.EMPTY_NODE,this.right=s??Rt.EMPTY_NODE}copy(e,n,i,r,s){return new Qe(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Qe.RED=!0;Qe.BLACK=!1;class t2{copy(e,n,i,r,s){return this}insert(e,n,i){return new Qe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rt{constructor(e,n=Rt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Rt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Qe.BLACK,null,null))}remove(e){return new Rt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qe.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new lu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new lu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new lu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new lu(this.root_,null,this.comparator_,!0,e)}}Rt.EMPTY_NODE=new t2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t,e){return pa(t.name,e.name)}function _v(t,e){return pa(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hg;function i2(t){hg=t}const kD=function(t){return typeof t=="number"?"number:"+eD(t):"string:"+t},CD=function(t){if(t.isLeafNode()){const e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Rn(e,".sv"),"Priority must be a string or number.")}else O(t===hg||t.isEmpty(),"priority of unexpected type.");O(t===hg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eb;class qe{static set __childrenNodeConstructor(e){eb=e}static get __childrenNodeConstructor(){return eb}constructor(e,n=qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),CD(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return X(e)?this:Q(e)===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Q(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(O(i!==".priority"||kr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+kD(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=eD(this.value_):e+=this.value_,this.lazyHash_=JT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qe.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=qe.VALUE_TYPE_ORDER.indexOf(n),s=qe.VALUE_TYPE_ORDER.indexOf(i);return O(r>=0,"Unknown leaf type: "+n),O(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ED,TD;function r2(t){ED=t}function s2(t){TD=t}class o2 extends sf{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?pa(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Z.MIN}maxPost(){return new Z(Sr,new qe("[PRIORITY-POST]",TD))}makePost(e,n){const i=ED(e);return new Z(n,new qe("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ee=new o2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=Math.log(2);class l2{constructor(e){const n=s=>parseInt(Math.log(s)/a2,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Yd=function(t,e,n,i){t.sort(e);const r=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Qe(h,d.node,Qe.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=r(l,f),m=r(f+1,c);return d=t[f],h=n?n(d):d,new Qe(h,d.node,Qe.BLACK,p,m)}},s=function(l){let c=null,u=null,d=t.length;const h=function(p,m){const v=d-p,g=d;d-=p;const y=r(v+1,g),_=t[v],b=n?n(_):_;f(new Qe(b,_.node,m,null,y))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),v=Math.pow(2,l.count-(p+1));m?h(v,Qe.BLACK):(h(v,Qe.BLACK),h(v,Qe.RED))}return u},o=new l2(t.length),a=s(o);return new Rt(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bp;const Qs={};class hi{static get Default(){return O(Qs&&Ee,"ChildrenNode.ts has not been loaded"),bp=bp||new hi({".priority":Qs},{".priority":Ee}),bp}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Cs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Rt?n:null}hasIndex(e){return Rn(this.indexSet_,e.toString())}addIndex(e,n){O(e!==fs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(Z.Wrap);let o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=Yd(i,e.getCompare()):a=Qs;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new hi(u,c)}addToIndexes(e,n){const i=Wd(this.indexes_,(r,s)=>{const o=Cs(this.indexSet_,s);if(O(o,"Missing index implementation for "+s),r===Qs)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Z.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Yd(a,o.getCompare())}else return Qs;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new Z(e.name,a))),l.insert(e,e.node)}});return new hi(i,this.indexSet_)}removeFromIndexes(e,n){const i=Wd(this.indexes_,r=>{if(r===Qs)return r;{const s=n.get(e.name);return s?r.remove(new Z(e.name,s)):r}});return new hi(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa;class ${static get EMPTY_NODE(){return Pa||(Pa=new $(new Rt(_v),null,hi.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&CD(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pa}updatePriority(e){return this.children_.isEmpty()?this:new $(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Pa:n}}getChild(e){const n=Q(e);return n===null?this:this.getImmediateChild(n).getChild(ye(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(O(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new Z(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?Pa:this.priorityNode_;return new $(r,o,s)}}updateChild(e,n){const i=Q(e);if(i===null)return n;{O(Q(e)!==".priority"||kr(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(ye(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(Ee,(o,a)=>{n[o]=a.val(e),i++,s&&$.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+kD(this.getPriority().val())+":"),this.forEachChild(Ee,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":JT(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new Z(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Z(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Z(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,Z.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,Z.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===kc?-1:0}withIndex(e){if(e===fs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new $(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===fs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ee),r=n.getIterator(Ee);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===fs?null:this.indexMap_.get(e.toString())}}$.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class c2 extends ${constructor(){super(new Rt(_v),$.EMPTY_NODE,hi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return $.EMPTY_NODE}isEmpty(){return!1}}const kc=new c2;Object.defineProperties(Z,{MIN:{value:new Z(Es,$.EMPTY_NODE)},MAX:{value:new Z(Sr,kc)}});SD.__EMPTY_NODE=$.EMPTY_NODE;qe.__childrenNodeConstructor=$;i2(kc);s2(kc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=!0;function Xe(t,e=null){if(t===null)return $.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new qe(n,Xe(e))}if(!(t instanceof Array)&&u2){const n=[];let i=!1;if(Ft(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Xe(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new Z(o,l)))}}),n.length===0)return $.EMPTY_NODE;const s=Yd(n,n2,o=>o.name,_v);if(i){const o=Yd(n,Ee.getCompare());return new $(s,Xe(e),new hi({".priority":o},{".priority":Ee}))}else return new $(s,Xe(e),hi.Default)}else{let n=$.EMPTY_NODE;return Ft(t,(i,r)=>{if(Rn(t,i)&&i.substring(0,1)!=="."){const s=Xe(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(Xe(e))}}r2(Xe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv extends sf{constructor(e){super(),this.indexPath_=e,O(!X(e)&&Q(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?pa(e.name,n.name):s}makePost(e,n){const i=Xe(e),r=$.EMPTY_NODE.updateChild(this.indexPath_,i);return new Z(n,r)}maxPost(){const e=$.EMPTY_NODE.updateChild(this.indexPath_,kc);return new Z(Sr,e)}toString(){return wD(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2 extends sf{compare(e,n){const i=e.node.compareTo(n.node);return i===0?pa(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Z.MIN}maxPost(){return Z.MAX}makePost(e,n){const i=Xe(e);return new Z(n,i)}toString(){return".value"}}const DD=new d2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t){return{type:"value",snapshotNode:t}}function $o(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Yl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function $l(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function h2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.index_=e}updateChild(e,n,i,r,s,o){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(Yl(n,a)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange($o(n,i)):o.trackChildChange($l(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ee,(r,s)=>{n.hasChild(r)||i.trackChildChange(Yl(r,s))}),n.isLeafNode()||n.forEachChild(Ee,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange($l(r,s,o))}else i.trackChildChange($o(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?$.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.indexedFilter_=new bv(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Kl.getStartPost_(e),this.endPost_=Kl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,o){return this.matches(new Z(n,i))||(i=$.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=$.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority($.EMPTY_NODE);const s=this;return n.forEachChild(Ee,(o,a)=>{s.matches(new Z(o,a))||(r=r.updateImmediateChild(o,$.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Kl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,o){return this.rangedFilter_.matches(new Z(n,i))||(i=$.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,o):this.fullLimitUpdateChild_(e,n,i,s,o)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=$.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=$.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority($.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,$.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;O(a.numChildren()===this.limit_,"");const l=new Z(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,l);if(u&&!i.isEmpty()&&f>=0)return s!=null&&s.trackChildChange($l(n,i,d)),a.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(Yl(n,d));const m=a.updateImmediateChild(n,$.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange($o(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return i.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Yl(c.name,c.node)),s.trackChildChange($o(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,$.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ee}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Es}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Sr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ee}copy(){const e=new xv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function p2(t){return t.loadsAllData()?new bv(t.getIndex()):t.hasLimit()?new f2(t):new Kl(t)}function m2(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function g2(t,e){const n=t.copy();return n.index_=e,n}function tb(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ee?n="$priority":t.index_===DD?n="$value":t.index_===fs?n="$key":(O(t.index_ instanceof wv,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=He(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=He(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+He(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=He(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+He(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function nb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ee&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends yD{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=xc("p:rest:"),this.listens_={}}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=$d.getListenId_(e,i),a={};this.listens_[o]=a;const l=tb(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,i),Cs(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(e,n){const i=$d.getListenId_(e,n);delete this.listens_[i]}get(e){const n=tb(e._queryParams),i=e._path.toString(),r=new tf;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ha(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=zl(a.responseText)}catch{Ht("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Ht("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.rootNode_=$.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(){return{value:null,children:new Map}}function ID(t,e,n){if(X(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Q(e);t.children.has(i)||t.children.set(i,Kd());const r=t.children.get(i);e=ye(e),ID(r,e,n)}}function fg(t,e,n){t.value!==null?n(e,t.value):v2(t,(i,r)=>{const s=new me(e.toString()+"/"+i);fg(r,s,n)})}function v2(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ft(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=10*1e3,w2=30*1e3,b2=5*60*1e3;class x2{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new _2(e);const i=ib+(w2-ib)*Math.random();dl(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Ft(e,(r,s)=>{s>0&&Rn(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),dl(this.reportStats_.bind(this),Math.floor(Math.random()*2*b2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Sn||(Sn={}));function MD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Sv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kv(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Sn.ACK_USER_WRITE,this.source=MD()}operationForChild(e){if(X(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new me(e));return new qd(oe(),n,this.revert)}}else return O(Q(this.path)===e,"operationForChild called for unrelated child."),new qd(ye(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.source=e,this.path=n,this.type=Sn.LISTEN_COMPLETE}operationForChild(e){return X(this.path)?new ql(this.source,oe()):new ql(this.source,ye(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Sn.OVERWRITE}operationForChild(e){return X(this.path)?new Ts(this.source,oe(),this.snap.getImmediateChild(e)):new Ts(this.source,ye(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Sn.MERGE}operationForChild(e){if(X(this.path)){const n=this.children.subtree(new me(e));return n.isEmpty()?null:n.value?new Ts(this.source,oe(),n.value):new Gl(this.source,oe(),n)}else return O(Q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Gl(this.source,ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(X(e))return this.isFullyInitialized()&&!this.filtered_;const n=Q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function k2(t,e,n,i){const r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(h2(o.childName,o.snapshotNode))}),Ia(t,r,"child_removed",e,i,n),Ia(t,r,"child_added",e,i,n),Ia(t,r,"child_moved",s,i,n),Ia(t,r,"child_changed",e,i,n),Ia(t,r,"value",e,i,n),r}function Ia(t,e,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>E2(t,a,l)),o.forEach(a=>{const l=C2(t,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function C2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function E2(t,e,n){if(e.childName==null||n.childName==null)throw da("Should only compare child_ events.");const i=new Z(e.childName,e.snapshotNode),r=new Z(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t,e){return{eventCache:t,serverCache:e}}function hl(t,e,n,i){return of(new Cr(e,n,i),t.serverCache)}function RD(t,e,n,i){return of(t.eventCache,new Cr(e,n,i))}function Gd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ds(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp;const T2=()=>(xp||(xp=new Rt(hF)),xp);class xe{static fromObject(e){let n=new xe(null);return Ft(e,(i,r)=>{n=n.set(new me(i),r)}),n}constructor(e,n=T2()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:oe(),value:this.value};if(X(e))return null;{const i=Q(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(ye(e),n);return s!=null?{path:Ye(new me(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(X(e))return this;{const n=Q(e),i=this.children.get(n);return i!==null?i.subtree(ye(e)):new xe(null)}}set(e,n){if(X(e))return new xe(n,this.children);{const i=Q(e),s=(this.children.get(i)||new xe(null)).set(ye(e),n),o=this.children.insert(i,s);return new xe(this.value,o)}}remove(e){if(X(e))return this.children.isEmpty()?new xe(null):new xe(null,this.children);{const n=Q(e),i=this.children.get(n);if(i){const r=i.remove(ye(e));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new xe(null):new xe(this.value,s)}else return this}}get(e){if(X(e))return this.value;{const n=Q(e),i=this.children.get(n);return i?i.get(ye(e)):null}}setTree(e,n){if(X(e))return n;{const i=Q(e),s=(this.children.get(i)||new xe(null)).setTree(ye(e),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new xe(this.value,o)}}fold(e){return this.fold_(oe(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Ye(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,oe(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(X(e))return null;{const s=Q(e),o=this.children.get(s);return o?o.findOnPath_(ye(e),Ye(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,oe(),n)}foreachOnPath_(e,n,i){if(X(e))return this;{this.value&&i(n,this.value);const r=Q(e),s=this.children.get(r);return s?s.foreachOnPath_(ye(e),Ye(n,r),i):new xe(null)}}foreach(e){this.foreach_(oe(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Ye(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.writeTree_=e}static empty(){return new En(new xe(null))}}function fl(t,e,n){if(X(e))return new En(new xe(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const o=wt(r,e);return s=s.updateChild(o,n),new En(t.writeTree_.set(r,s))}else{const r=new xe(n),s=t.writeTree_.setTree(e,r);return new En(s)}}}function rb(t,e,n){let i=t;return Ft(n,(r,s)=>{i=fl(i,Ye(e,r),s)}),i}function sb(t,e){if(X(e))return En.empty();{const n=t.writeTree_.setTree(e,new xe(null));return new En(n)}}function pg(t,e){return Us(t,e)!=null}function Us(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(wt(n.path,e)):null}function ob(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ee,(i,r)=>{e.push(new Z(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new Z(i,r.value))}),e}function mr(t,e){if(X(e))return t;{const n=Us(t,e);return n!=null?new En(new xe(n)):new En(t.writeTree_.subtree(e))}}function mg(t){return t.writeTree_.isEmpty()}function Ko(t,e){return AD(oe(),t.writeTree_,e)}function AD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(O(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=AD(Ye(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Ye(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t,e){return FD(e,t)}function D2(t,e,n,i,r){O(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=fl(t.visibleWrites,e,n)),t.lastWriteId=i}function P2(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function I2(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);O(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&M2(a,i.path)?r=!1:xn(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return R2(t),!0;if(i.snap)t.visibleWrites=sb(t.visibleWrites,i.path);else{const a=i.children;Ft(a,l=>{t.visibleWrites=sb(t.visibleWrites,Ye(i.path,l))})}return!0}else return!1}function M2(t,e){if(t.snap)return xn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&xn(Ye(t.path,n),e))return!0;return!1}function R2(t){t.visibleWrites=OD(t.allWrites,A2,oe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function A2(t){return t.visible}function OD(t,e,n){let i=En.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let a;if(s.snap)xn(n,o)?(a=wt(n,o),i=fl(i,a,s.snap)):xn(o,n)&&(a=wt(o,n),i=fl(i,oe(),s.snap.getChild(a)));else if(s.children){if(xn(n,o))a=wt(n,o),i=rb(i,a,s.children);else if(xn(o,n))if(a=wt(o,n),X(a))i=rb(i,oe(),s.children);else{const l=Cs(s.children,Q(a));if(l){const c=l.getChild(ye(a));i=fl(i,oe(),c)}}}else throw da("WriteRecord should have .snap or .children")}}return i}function ND(t,e,n,i,r){if(!i&&!r){const s=Us(t.visibleWrites,e);if(s!=null)return s;{const o=mr(t.visibleWrites,e);if(mg(o))return n;if(n==null&&!pg(o,oe()))return null;{const a=n||$.EMPTY_NODE;return Ko(o,a)}}}else{const s=mr(t.visibleWrites,e);if(!r&&mg(s))return n;if(!r&&n==null&&!pg(s,oe()))return null;{const o=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(xn(c.path,e)||xn(e,c.path))},a=OD(t.allWrites,o,e),l=n||$.EMPTY_NODE;return Ko(a,l)}}}function O2(t,e,n){let i=$.EMPTY_NODE;const r=Us(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ee,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=mr(t.visibleWrites,e);return n.forEachChild(Ee,(o,a)=>{const l=Ko(mr(s,new me(o)),a);i=i.updateImmediateChild(o,l)}),ob(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=mr(t.visibleWrites,e);return ob(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function N2(t,e,n,i,r){O(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Ye(e,n);if(pg(t.visibleWrites,s))return null;{const o=mr(t.visibleWrites,s);return mg(o)?r.getChild(n):Ko(o,r.getChild(n))}}function L2(t,e,n,i){const r=Ye(e,n),s=Us(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=mr(t.visibleWrites,r);return Ko(o,i.getNode().getImmediateChild(n))}else return null}function F2(t,e){return Us(t.visibleWrites,e)}function V2(t,e,n,i,r,s,o){let a;const l=mr(t.visibleWrites,e),c=Us(l,oe());if(c!=null)a=c;else if(n!=null)a=Ko(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function B2(){return{visibleWrites:En.empty(),allWrites:[],lastWriteId:-1}}function Qd(t,e,n,i){return ND(t.writeTree,t.treePath,e,n,i)}function Cv(t,e){return O2(t.writeTree,t.treePath,e)}function ab(t,e,n,i){return N2(t.writeTree,t.treePath,e,n,i)}function Xd(t,e){return F2(t.writeTree,Ye(t.treePath,e))}function j2(t,e,n,i,r,s){return V2(t.writeTree,t.treePath,e,n,i,r,s)}function Ev(t,e,n){return L2(t.writeTree,t.treePath,e,n)}function LD(t,e){return FD(Ye(t.treePath,e),t.writeTree)}function FD(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,$l(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,Yl(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,$o(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,$l(i,e.snapshotNode,r.oldSnap));else throw da("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const VD=new z2;class Tv{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Cr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ev(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ds(this.viewCache_),s=j2(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t){return{filter:t}}function H2(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Y2(t,e,n,i,r){const s=new W2;let o,a;if(n.type===Sn.OVERWRITE){const c=n;c.source.fromUser?o=gg(t,e,c.path,c.snap,i,r,s):(O(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!X(c.path),o=Jd(t,e,c.path,c.snap,i,r,a,s))}else if(n.type===Sn.MERGE){const c=n;c.source.fromUser?o=K2(t,e,c.path,c.children,i,r,s):(O(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=yg(t,e,c.path,c.children,i,r,a,s))}else if(n.type===Sn.ACK_USER_WRITE){const c=n;c.revert?o=Q2(t,e,c.path,i,r,s):o=q2(t,e,c.path,c.affectedTree,i,r,s)}else if(n.type===Sn.LISTEN_COMPLETE)o=G2(t,e,n.path,i,s);else throw da("Unknown operation type: "+n.type);const l=s.getChanges();return $2(e,o,l),{viewCache:o,changes:l}}function $2(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Gd(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(PD(Gd(e)))}}function BD(t,e,n,i,r,s){const o=e.eventCache;if(Xd(i,n)!=null)return e;{let a,l;if(X(n))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ds(e),u=c instanceof $?c:$.EMPTY_NODE,d=Cv(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Qd(i,Ds(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Q(n);if(c===".priority"){O(kr(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=ab(i,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=ye(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=ab(i,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=Ev(i,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,r,s):a=o.getNode()}}return hl(e,a,o.isFullyInitialized()||X(n),t.filter.filtersNodes())}}function Jd(t,e,n,i,r,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(X(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{const f=Q(n);if(!l.isCompleteForPath(n)&&kr(n)>1)return e;const p=ye(n),v=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),v):c=u.updateChild(l.getNode(),f,v,p,VD,null)}const d=RD(e,c,l.isFullyInitialized()||X(n),u.filtersNodes()),h=new Tv(r,d,s);return BD(t,d,n,r,h,a)}function gg(t,e,n,i,r,s,o){const a=e.eventCache;let l,c;const u=new Tv(r,e,s);if(X(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=hl(e,c,!0,t.filter.filtersNodes());else{const d=Q(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=hl(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=ye(n),f=a.getNode().getImmediateChild(d);let p;if(X(h))p=i;else{const m=u.getCompleteChild(d);m!=null?_D(h)===".priority"&&m.getChild(bD(h)).isEmpty()?p=m:p=m.updateChild(h,i):p=$.EMPTY_NODE}if(f.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,h,u,o);l=hl(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function lb(t,e){return t.eventCache.isCompleteForChild(e)}function K2(t,e,n,i,r,s,o){let a=e;return i.foreach((l,c)=>{const u=Ye(n,l);lb(e,Q(u))&&(a=gg(t,a,u,c,r,s,o))}),i.foreach((l,c)=>{const u=Ye(n,l);lb(e,Q(u))||(a=gg(t,a,u,c,r,s,o))}),a}function cb(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function yg(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;X(n)?c=i:c=new xe(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=cb(t,f,h);l=Jd(t,l,new me(d),p,r,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),m=cb(t,p,h);l=Jd(t,l,new me(d),m,r,s,o,a)}}),l}function q2(t,e,n,i,r,s,o){if(Xd(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(X(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Jd(t,e,n,l.getNode().getChild(n),r,s,a,o);if(X(n)){let c=new xe(null);return l.getNode().forEachChild(fs,(u,d)=>{c=c.set(new me(u),d)}),yg(t,e,n,c,r,s,a,o)}else return e}else{let c=new xe(null);return i.foreach((u,d)=>{const h=Ye(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),yg(t,e,n,c,r,s,a,o)}}function G2(t,e,n,i,r){const s=e.serverCache,o=RD(e,s.getNode(),s.isFullyInitialized()||X(n),s.isFiltered());return BD(t,o,n,i,VD,r)}function Q2(t,e,n,i,r,s){let o;if(Xd(i,n)!=null)return e;{const a=new Tv(i,e,r),l=e.eventCache.getNode();let c;if(X(n)||Q(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Qd(i,Ds(e));else{const d=e.serverCache.getNode();O(d instanceof $,"serverChildren would be complete if leaf node"),u=Cv(i,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=Q(n);let d=Ev(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,ye(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,$.EMPTY_NODE,ye(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Qd(i,Ds(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Xd(i,oe())!=null,hl(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new bv(i.getIndex()),s=p2(i);this.processor_=U2(s);const o=n.serverCache,a=n.eventCache,l=r.updateFullNode($.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode($.EMPTY_NODE,a.getNode(),null),u=new Cr(l,o.isFullyInitialized(),r.filtersNodes()),d=new Cr(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=of(d,u),this.eventGenerator_=new S2(this.query_)}get query(){return this.query_}}function J2(t){return t.viewCache_.serverCache.getNode()}function Z2(t){return Gd(t.viewCache_)}function eV(t,e){const n=Ds(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!X(e)&&!n.getImmediateChild(Q(e)).isEmpty())?n.getChild(e):null}function ub(t){return t.eventRegistrations_.length===0}function tV(t,e){t.eventRegistrations_.push(e)}function db(t,e,n){const i=[];if(n){O(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function hb(t,e,n,i){e.type===Sn.MERGE&&e.source.queryId!==null&&(O(Ds(t.viewCache_),"We should always have a full cache before handling merges"),O(Gd(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=Y2(t.processor_,r,e,n,i);return H2(t.processor_,s.viewCache),O(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,jD(t,s.changes,s.viewCache.eventCache.getNode(),null)}function nV(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ee,(s,o)=>{i.push($o(s,o))}),n.isFullyInitialized()&&i.push(PD(n.getNode())),jD(t,i,n.getNode(),e)}function jD(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return k2(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd;class WD{constructor(){this.views=new Map}}function iV(t){O(!Zd,"__referenceConstructor has already been defined"),Zd=t}function rV(){return O(Zd,"Reference.ts has not been loaded"),Zd}function sV(t){return t.views.size===0}function Dv(t,e,n,i){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return O(s!=null,"SyncTree gave us an op for an invalid query."),hb(s,e,n,i)}else{let s=[];for(const o of t.views.values())s=s.concat(hb(o,e,n,i));return s}}function zD(t,e,n,i,r){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Qd(n,r?i:null),l=!1;a?l=!0:i instanceof $?(a=Cv(n,i),l=!1):(a=$.EMPTY_NODE,l=!1);const c=of(new Cr(a,l,!1),new Cr(i,r,!1));return new X2(e,c)}return o}function oV(t,e,n,i,r,s){const o=zD(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),tV(o,n),nV(o,n)}function aV(t,e,n,i){const r=e._queryIdentifier,s=[];let o=[];const a=Er(t);if(r==="default")for(const[l,c]of t.views.entries())o=o.concat(db(c,n,i)),ub(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(r);l&&(o=o.concat(db(l,n,i)),ub(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Er(t)&&s.push(new(rV())(e._repo,e._path)),{removed:s,events:o}}function UD(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function gr(t,e){let n=null;for(const i of t.views.values())n=n||eV(i,e);return n}function HD(t,e){if(e._queryParams.loadsAllData())return lf(t);{const i=e._queryIdentifier;return t.views.get(i)}}function YD(t,e){return HD(t,e)!=null}function Er(t){return lf(t)!=null}function lf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh;function lV(t){O(!eh,"__referenceConstructor has already been defined"),eh=t}function cV(){return O(eh,"Reference.ts has not been loaded"),eh}let uV=1;class fb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new xe(null),this.pendingWriteTree_=B2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $D(t,e,n,i,r){return D2(t.pendingWriteTree_,e,n,i,r),r?Ec(t,new Ts(MD(),e,n)):[]}function po(t,e,n=!1){const i=P2(t.pendingWriteTree_,e);if(I2(t.pendingWriteTree_,e)){let s=new xe(null);return i.snap!=null?s=s.set(oe(),!0):Ft(i.children,o=>{s=s.set(new me(o),!0)}),Ec(t,new qd(i.path,s,n))}else return[]}function Cc(t,e,n){return Ec(t,new Ts(Sv(),e,n))}function dV(t,e,n){const i=xe.fromObject(n);return Ec(t,new Gl(Sv(),e,i))}function hV(t,e){return Ec(t,new ql(Sv(),e))}function fV(t,e,n){const i=Iv(t,n);if(i){const r=Mv(i),s=r.path,o=r.queryId,a=wt(s,e),l=new ql(kv(o),a);return Rv(t,s,l)}else return[]}function th(t,e,n,i,r=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||YD(o,e))){const l=aV(o,e,n,i);sV(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!r){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>Er(f));if(u&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const f=gV(h);for(let p=0;p<f.length;++p){const m=f[p],v=m.query,g=QD(t,m);t.listenProvider_.startListening(pl(v),Ql(t,v),g.hashFn,g.onComplete)}}}!d&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(pl(e),null):c.forEach(h=>{const f=t.queryToTagMap.get(cf(h));t.listenProvider_.stopListening(pl(h),f)}))}yV(t,c)}return a}function KD(t,e,n,i){const r=Iv(t,i);if(r!=null){const s=Mv(r),o=s.path,a=s.queryId,l=wt(o,e),c=new Ts(kv(a),l,n);return Rv(t,o,c)}else return[]}function pV(t,e,n,i){const r=Iv(t,i);if(r){const s=Mv(r),o=s.path,a=s.queryId,l=wt(o,e),c=xe.fromObject(n),u=new Gl(kv(a),l,c);return Rv(t,o,u)}else return[]}function vg(t,e,n,i=!1){const r=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(r,(h,f)=>{const p=wt(h,r);s=s||gr(f,p),o=o||Er(f)});let a=t.syncPointTree_.get(r);a?(o=o||Er(a),s=s||gr(a,oe())):(a=new WD,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;s!=null?l=!0:(l=!1,s=$.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((f,p)=>{const m=gr(p,oe());m&&(s=s.updateImmediateChild(f,m))}));const c=YD(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=cf(e);O(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=vV();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const u=af(t.pendingWriteTree_,r);let d=oV(a,e,n,u,s,l);if(!c&&!o&&!i){const h=HD(a,e);d=d.concat(_V(t,e,h))}return d}function Pv(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=wt(o,e),c=gr(a,l);if(c)return c});return ND(r,e,s,n,!0)}function mV(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=wt(c,n);i=i||gr(u,d)});let r=t.syncPointTree_.get(n);r?i=i||gr(r,oe()):(r=new WD,t.syncPointTree_=t.syncPointTree_.set(n,r));const s=i!=null,o=s?new Cr(i,!0,!1):null,a=af(t.pendingWriteTree_,e._path),l=zD(r,e,a,s?o.getNode():$.EMPTY_NODE,s);return Z2(l)}function Ec(t,e){return qD(e,t.syncPointTree_,null,af(t.pendingWriteTree_,oe()))}function qD(t,e,n,i){if(X(t.path))return GD(t,e,n,i);{const r=e.get(oe());n==null&&r!=null&&(n=gr(r,oe()));let s=[];const o=Q(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=LD(i,o);s=s.concat(qD(a,l,c,u))}return r&&(s=s.concat(Dv(r,t,i,n))),s}}function GD(t,e,n,i){const r=e.get(oe());n==null&&r!=null&&(n=gr(r,oe()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=LD(i,o),u=t.operationForChild(o);u&&(s=s.concat(GD(u,a,l,c)))}),r&&(s=s.concat(Dv(r,t,i,n))),s}function QD(t,e){const n=e.query,i=Ql(t,n);return{hashFn:()=>(J2(e)||$.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?fV(t,n._path,i):hV(t,n._path);{const s=mF(r,n);return th(t,n,null,s)}}}}function Ql(t,e){const n=cf(e);return t.queryToTagMap.get(n)}function cf(t){return t._path.toString()+"$"+t._queryIdentifier}function Iv(t,e){return t.tagToQueryMap.get(e)}function Mv(t){const e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new me(t.substr(0,e))}}function Rv(t,e,n){const i=t.syncPointTree_.get(e);O(i,"Missing sync point for query tag that we're tracking");const r=af(t.pendingWriteTree_,e);return Dv(i,n,r,null)}function gV(t){return t.fold((e,n,i)=>{if(n&&Er(n))return[lf(n)];{let r=[];return n&&(r=UD(n)),Ft(i,(s,o)=>{r=r.concat(o)}),r}})}function pl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(cV())(t._repo,t._path):t}function yV(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=cf(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function vV(){return uV++}function _V(t,e,n){const i=e._path,r=Ql(t,e),s=QD(t,n),o=t.listenProvider_.startListening(pl(e),r,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(i);if(r)O(!Er(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!X(c)&&u&&Er(u))return[lf(u).query];{let h=[];return u&&(h=h.concat(UD(u).map(f=>f.query))),Ft(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(pl(u),Ql(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Av(n)}node(){return this.node_}}class Ov{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ye(this.path_,e);return new Ov(this.syncTree_,n)}node(){return Pv(this.syncTree_,this.path_)}}const wV=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},pb=function(t,e,n){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return bV(t[".sv"],e,n);if(typeof t[".sv"]=="object")return xV(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},bV=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+t)}},xV=function(t,e,n){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&O(!1,"Unexpected increment value: "+i);const r=e.node();if(O(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},SV=function(t,e,n,i){return Nv(e,new Ov(n,t),i)},XD=function(t,e,n){return Nv(t,new Av(e),n)};function Nv(t,e,n){const i=t.getPriority().val(),r=pb(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=pb(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new qe(a,Xe(r)):t}else{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new qe(r))),o.forEachChild(Ee,(a,l)=>{const c=Nv(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function uf(t,e){let n=e instanceof me?e:new me(e),i=t,r=Q(n);for(;r!==null;){const s=Cs(i.node.children,r)||{children:{},childCount:0};i=new Lv(r,i,s),n=ye(n),r=Q(n)}return i}function Hs(t){return t.node.value}function Fv(t,e){t.node.value=e,_g(t)}function JD(t){return t.node.childCount>0}function kV(t){return Hs(t)===void 0&&!JD(t)}function df(t,e){Ft(t.node.children,(n,i)=>{e(new Lv(n,t,i))})}function ZD(t,e,n,i){n&&!i&&e(t),df(t,r=>{ZD(r,e,!0,i)}),n&&i&&e(t)}function CV(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Tc(t){return new me(t.parent===null?t.name:Tc(t.parent)+"/"+t.name)}function _g(t){t.parent!==null&&EV(t.parent,t.name,t)}function EV(t,e,n){const i=kV(n),r=Rn(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,_g(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,_g(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=/[\[\].#$\/\u0000-\u001F\u007F]/,DV=/[\[\].#$\u0000-\u001F\u007F]/,Sp=10*1024*1024,e1=function(t){return typeof t=="string"&&t.length!==0&&!TV.test(t)},t1=function(t){return typeof t=="string"&&t.length!==0&&!DV.test(t)},PV=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),t1(t)},wg=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!hv(t)||t&&typeof t=="object"&&Rn(t,".sv")},Vv=function(t,e,n){const i=n instanceof me?new qF(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Gr(i));if(typeof e=="function")throw new Error(t+"contains a function "+Gr(i)+" with contents = "+e.toString());if(hv(e))throw new Error(t+"contains "+e.toString()+" "+Gr(i));if(typeof e=="string"&&e.length>Sp/3&&nf(e)>Sp)throw new Error(t+"contains a string greater than "+Sp+" utf8 bytes "+Gr(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(Ft(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!e1(o)))throw new Error(t+" contains an invalid key ("+o+") "+Gr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);GF(i,o),Vv(t,a,i),QF(i)}),r&&s)throw new Error(t+' contains ".value" child '+Gr(i)+" in addition to actual children.")}},Bv=function(t,e,n,i){if(!(i&&n===void 0)&&!t1(n))throw new Error(zT(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IV=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Bv(t,e,n,i)},MV=function(t,e){if(Q(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},RV=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!e1(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!PV(n))throw new Error(zT(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function n1(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();n!==null&&!yv(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function i1(t,e,n){n1(t,n),r1(t,i=>yv(i,e))}function Fi(t,e,n){n1(t,n),r1(t,i=>xn(i,e)||xn(e,i))}function r1(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const s=r.path;e(s)?(OV(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function OV(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();hs&&ht("event: "+n.toString()),Sc(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV="repo_interrupt",LV=25;class FV{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new AV,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Kd(),this.transactionQueueTree_=new Lv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function VV(t,e,n){if(t.stats_=mv(t.repoInfo_),t.forceRestClient_||_F())t.server_=new $d(t.repoInfo_,(i,r,s,o)=>{mb(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>gb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{He(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new vi(t.repoInfo_,e,(i,r,s,o)=>{mb(t,i,r,s,o)},i=>{gb(t,i)},i=>{jV(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=kF(t.repoInfo_,()=>new x2(t.stats_,t.server_)),t.infoData_=new y2,t.infoSyncTree_=new fb({startListening:(i,r,s,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Cc(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Wv(t,"connected",!1),t.serverSyncTree_=new fb({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(a,l)=>{const c=o(a,l);Fi(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function BV(t){const n=t.infoData_.getNode(new me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function jv(t){return wV({timestamp:BV(t)})}function mb(t,e,n,i,r){t.dataUpdateCount++;const s=new me(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const l=Wd(n,c=>Xe(c));o=pV(t.serverSyncTree_,s,l,r)}else{const l=Xe(n);o=KD(t.serverSyncTree_,s,l,r)}else if(i){const l=Wd(n,c=>Xe(c));o=dV(t.serverSyncTree_,s,l)}else{const l=Xe(n);o=Cc(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Uv(t,s)),Fi(t.eventQueue_,a,o)}function gb(t,e){Wv(t,"connected",e),e===!1&&zV(t)}function jV(t,e){Ft(e,(n,i)=>{Wv(t,n,i)})}function Wv(t,e,n){const i=new me("/.info/"+e),r=Xe(n);t.infoData_.updateSnapshot(i,r);const s=Cc(t.infoSyncTree_,i,r);Fi(t.eventQueue_,i,s)}function s1(t){return t.nextWriteId_++}function WV(t,e,n){const i=mV(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{const s=Xe(r).withIndex(e._queryParams.getIndex());vg(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Cc(t.serverSyncTree_,e._path,s);else{const a=Ql(t.serverSyncTree_,e);o=KD(t.serverSyncTree_,e._path,s,a)}return Fi(t.eventQueue_,e._path,o),th(t.serverSyncTree_,e,n,null,!0),s},r=>(hf(t,"get for query "+He(e)+" failed: "+r),Promise.reject(new Error(r))))}function zV(t){hf(t,"onDisconnectEvents");const e=jv(t),n=Kd();fg(t.onDisconnect_,oe(),(r,s)=>{const o=SV(r,s,t.serverSyncTree_,e);ID(n,r,o)});let i=[];fg(n,oe(),(r,s)=>{i=i.concat(Cc(t.serverSyncTree_,r,s));const o=qV(t,r);Uv(t,o)}),t.onDisconnect_=Kd(),Fi(t.eventQueue_,oe(),i)}function UV(t,e,n){let i;Q(e._path)===".info"?i=vg(t.infoSyncTree_,e,n):i=vg(t.serverSyncTree_,e,n),i1(t.eventQueue_,e._path,i)}function yb(t,e,n){let i;Q(e._path)===".info"?i=th(t.infoSyncTree_,e,n):i=th(t.serverSyncTree_,e,n),i1(t.eventQueue_,e._path,i)}function HV(t){t.persistentConnection_&&t.persistentConnection_.interrupt(NV)}function hf(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ht(n,...e)}function YV(t,e,n,i,r,s){hf(t,"transaction on "+e);const o={path:e,update:n,onComplete:i,status:null,order:XT(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=zv(t,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Vv("transaction failed: Data returned ",l,o.path),o.status=0;const c=uf(t.transactionQueueTree_,e),u=Hs(c)||[];u.push(o),Fv(c,u);let d;typeof l=="object"&&l!==null&&Rn(l,".priority")?(d=Cs(l,".priority"),O(wg(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Pv(t.serverSyncTree_,e)||$.EMPTY_NODE).getPriority().val();const h=jv(t),f=Xe(l,d),p=XD(f,a,h);o.currentOutputSnapshotRaw=f,o.currentOutputSnapshotResolved=p,o.currentWriteId=s1(t);const m=$D(t.serverSyncTree_,e,p,o.currentWriteId,o.applyLocally);Fi(t.eventQueue_,e,m),ff(t,t.transactionQueueTree_)}}function zv(t,e,n){return Pv(t.serverSyncTree_,e,n)||$.EMPTY_NODE}function ff(t,e=t.transactionQueueTree_){if(e||pf(t,e),Hs(e)){const n=a1(t,e);O(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&$V(t,Tc(e),n)}else JD(e)&&df(e,n=>{ff(t,n)})}function $V(t,e,n){const i=n.map(c=>c.currentWriteId),r=zv(t,e,i);let s=r;const o=r.hash();for(let c=0;c<n.length;c++){const u=n[c];O(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=wt(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{hf(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(po(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();pf(t,uf(t.transactionQueueTree_,e)),ff(t,t.transactionQueueTree_),Fi(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Sc(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ht("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Uv(t,e)}},o)}function Uv(t,e){const n=o1(t,e),i=Tc(n),r=a1(t,n);return KV(t,r,i),i}function KV(t,e,n){if(e.length===0)return;const i=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=wt(n,l.path);let u=!1,d;if(O(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(po(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=LV)u=!0,d="maxretry",r=r.concat(po(t.serverSyncTree_,l.currentWriteId,!0));else{const h=zv(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){Vv("transaction failed: Data returned ",f,l.path);let p=Xe(f);typeof f=="object"&&f!=null&&Rn(f,".priority")||(p=p.updatePriority(h.getPriority()));const v=l.currentWriteId,g=jv(t),y=XD(p,h,g);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=s1(t),o.splice(o.indexOf(v),1),r=r.concat($D(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),r=r.concat(po(t.serverSyncTree_,v,!0))}else u=!0,d="nodata",r=r.concat(po(t.serverSyncTree_,l.currentWriteId,!0))}Fi(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}pf(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)Sc(i[a]);ff(t,t.transactionQueueTree_)}function o1(t,e){let n,i=t.transactionQueueTree_;for(n=Q(e);n!==null&&Hs(i)===void 0;)i=uf(i,n),e=ye(e),n=Q(e);return i}function a1(t,e){const n=[];return l1(t,e,n),n.sort((i,r)=>i.order-r.order),n}function l1(t,e,n){const i=Hs(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);df(e,r=>{l1(t,r,n)})}function pf(t,e){const n=Hs(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,Fv(e,n.length>0?n:void 0)}df(e,i=>{pf(t,i)})}function qV(t,e){const n=Tc(o1(t,e)),i=uf(t.transactionQueueTree_,e);return CV(i,r=>{kp(t,r)}),kp(t,i),ZD(i,r=>{kp(t,r)}),n}function kp(t,e){const n=Hs(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(O(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(O(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(po(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Fv(e,void 0):n.length=s+1,Fi(t.eventQueue_,Tc(e),r);for(let o=0;o<i.length;o++)Sc(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function QV(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ht(`Invalid query segment '${n}' in query '${t}'`)}return e}const vb=function(t,e){const n=XV(t),i=n.namespace;n.domain==="firebase.com"&&Ri(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Ri("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||uF();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new uD(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new me(n.pathString)}},XV=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=GV(t.substring(u,d)));const h=QV(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=i}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+He(this.snapshot.exportVal())}}class u1{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return X(this._path)?null:_D(this._path)}get ref(){return new An(this._repo,this._path)}get _queryIdentifier(){const e=nb(this._queryParams),n=fv(e);return n==="{}"?"default":n}get _queryObject(){return nb(this._queryParams)}isEqual(e){if(e=et(e),!(e instanceof Dc))return!1;const n=this._repo===e._repo,i=yv(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+KF(this._path)}}function JV(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function ZV(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===fs){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Es)throw new Error(i);if(typeof e!="string")throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==Sr)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(t.getIndex()===Ee){if(e!=null&&!wg(e)||n!=null&&!wg(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(O(t.getIndex()instanceof wv||t.getIndex()===DD,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class An extends Dc{constructor(e,n){super(e,n,new xv,!1)}get parent(){const e=bD(this._path);return e===null?null:new An(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ps{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new me(e),i=nh(this.ref,e);return new Ps(this._node.getChild(n),i,Ee)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new Ps(r,nh(this.ref,i),Ee)))}hasChild(e){const n=new me(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Io(t,e){return t=et(t),t._checkNotDeleted("ref"),e!==void 0?nh(t._root,e):t._root}function nh(t,e){return t=et(t),Q(t._path)===null?IV("child","path",e,!1):Bv("child","path",e,!1),new An(t._repo,Ye(t._path,e))}function mf(t){t=et(t);const e=new d1(()=>{}),n=new gf(e);return WV(t._repo,t,n).then(i=>new Ps(i,new An(t._repo,t._path),t._queryParams.getIndex()))}class gf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new c1("value",this,new Ps(e.snapshotNode,new An(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new u1(this,e,n):null}matches(e){return e instanceof gf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Hv{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new u1(this,e,n):null}createEvent(e,n){O(e.childName!=null,"Child events should have a childName.");const i=nh(new An(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new c1(e.type,this,new Ps(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Hv?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function eB(t,e,n,i,r){let s;if(typeof i=="object"&&(s=void 0,r=i),typeof i=="function"&&(s=i),r&&r.onlyOnce){const l=n,c=(u,d)=>{yb(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new d1(n,s||void 0),a=e==="value"?new gf(o):new Hv(e,o);return UV(t._repo,t,a),()=>yb(t._repo,t,a)}function tB(t,e,n,i){return eB(t,"value",e,n,i)}class h1{}class nB extends h1{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Dc(e._repo,e._path,m2(e._queryParams,this._limit),e._orderByCalled)}}function iB(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new nB(t)}class rB extends h1{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){JV(e,"orderByChild");const n=new me(this._path);if(X(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new wv(n),r=g2(e._queryParams,i);return ZV(r),new Dc(e._repo,e._path,r,!0)}}function sB(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Bv("orderByChild","path",t,!1),new rB(t)}function oB(t,...e){let n=et(t);for(const i of e)n=i._apply(n);return n}iV(An);lV(An);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB="FIREBASE_DATABASE_EMULATOR_HOST",bg={};let lB=!1;function cB(t,e,n,i){t.repoInfo_=new uD(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function uB(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||Ri("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ht("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=vb(s,r),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[aB]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=vb(s,r),a=o.repoInfo):l=!o.repoInfo.secure;const u=r&&l?new Po(Po.OWNER):new bF(t.name,t.options,e);RV("Invalid Firebase Database URL",o),X(o.path)||Ri("Database URL must point to the root of a Firebase Database (not including a child path).");const d=hB(a,t,u,new wF(t,n));return new fB(d,t)}function dB(t,e){const n=bg[e];(!n||n[t.key]!==t)&&Ri(`Database ${e}(${t.repoInfo_}) has already been deleted.`),HV(t),delete n[t.key]}function hB(t,e,n,i){let r=bg[e.name];r||(r={},bg[e.name]=r);let s=r[t.toURLString()];return s&&Ri("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new FV(t,lB,n,i),r[t.toURLString()]=s,s}class fB{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(VV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new An(this._repo,oe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dB(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ri("Cannot call "+e+" on a deleted database.")}}function pB(t=dv(),e){const n=zs(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=ON("database");i&&mB(n,...i)}return n}function mB(t,e,n,i={}){t=et(t),t._checkNotDeleted("useEmulator");const r=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&xr(i,s.repoInfo_.emulatorOptions))return;Ri("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Ri('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Po(Po.OWNER);else if(i.mockUserToken){const a=typeof i.mockUserToken=="string"?i.mockUserToken:NN(i.mockUserToken,t.app.options.projectId);o=new Po(a)}cB(s,r,i,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gB(t){oF(fa),Zn(new Pn("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return uB(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),un(Bw,jw,t),un(Bw,jw,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Cp(t,e,n){var i;if(t=et(t),MV("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=(i=n==null?void 0:n.applyLocally)!==null&&i!==void 0?i:!0,s=new tf,o=(l,c,u)=>{let d=null;l?s.reject(l):(d=new Ps(u,new An(t._repo,t._path),Ee),s.resolve(new yB(c,d)))},a=tB(t,()=>{});return YV(t._repo,t._path,e,o,a,r),s.promise}vi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};vi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};gB();var vB="firebase",_B="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un(vB,_B,"app");const f1="@firebase/installations",Yv="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=1e4,m1=`w:${Yv}`,g1="FIS_v2",wB="https://firebaseinstallations.googleapis.com/v1",bB=60*60*1e3,xB="installations",SB="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Is=new Ws(xB,SB,kB);function y1(t){return t instanceof ti&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1({projectId:t}){return`${wB}/projects/${t}/installations`}function _1(t){return{token:t.token,requestStatus:2,expiresIn:EB(t.expiresIn),creationTime:Date.now()}}async function w1(t,e){const i=(await e.json()).error;return Is.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function b1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CB(t,{refreshToken:e}){const n=b1(t);return n.append("Authorization",TB(e)),n}async function x1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function EB(t){return Number(t.replace("s","000"))}function TB(t){return`${g1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DB({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=v1(t),r=b1(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={fid:n,authVersion:g1,appId:t.appId,sdkVersion:m1},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await x1(()=>fetch(i,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:_1(c.authToken)}}else throw await w1("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=/^[cdef][\w-]{21}$/,xg="";function MB(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=RB(t);return IB.test(n)?n:xg}catch{return xg}}function RB(t){return PB(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Map;function C1(t,e){const n=yf(t);E1(n,e),AB(n,e)}function E1(t,e){const n=k1.get(t);if(n)for(const i of n)i(e)}function AB(t,e){const n=OB();n&&n.postMessage({key:t,fid:e}),NB()}let rs=null;function OB(){return!rs&&"BroadcastChannel"in self&&(rs=new BroadcastChannel("[Firebase] FID Change"),rs.onmessage=t=>{E1(t.data.key,t.data.fid)}),rs}function NB(){k1.size===0&&rs&&(rs.close(),rs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB="firebase-installations-database",FB=1,Ms="firebase-installations-store";let Ep=null;function $v(){return Ep||(Ep=YT(LB,FB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ms)}}})),Ep}async function ih(t,e){const n=yf(t),r=(await $v()).transaction(Ms,"readwrite"),s=r.objectStore(Ms),o=await s.get(n);return await s.put(e,n),await r.done,(!o||o.fid!==e.fid)&&C1(t,e.fid),e}async function T1(t){const e=yf(t),i=(await $v()).transaction(Ms,"readwrite");await i.objectStore(Ms).delete(e),await i.done}async function vf(t,e){const n=yf(t),r=(await $v()).transaction(Ms,"readwrite"),s=r.objectStore(Ms),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&C1(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kv(t){let e;const n=await vf(t.appConfig,i=>{const r=VB(i),s=BB(t,r);return e=s.registrationPromise,s.installationEntry});return n.fid===xg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function VB(t){const e=t||{fid:MB(),registrationStatus:0};return D1(e)}function BB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Is.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=jB(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:WB(t)}:{installationEntry:e}}async function jB(t,e){try{const n=await DB(t,e);return ih(t.appConfig,n)}catch(n){throw y1(n)&&n.customData.serverCode===409?await T1(t.appConfig):await ih(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function WB(t){let e=await _b(t.appConfig);for(;e.registrationStatus===1;)await S1(100),e=await _b(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Kv(t);return i||n}return e}function _b(t){return vf(t,e=>{if(!e)throw Is.create("installation-not-found");return D1(e)})}function D1(t){return zB(t)?{fid:t.fid,registrationStatus:0}:t}function zB(t){return t.registrationStatus===1&&t.registrationTime+p1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UB({appConfig:t,heartbeatServiceProvider:e},n){const i=HB(t,n),r=CB(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={installation:{sdkVersion:m1,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await x1(()=>fetch(i,a));if(l.ok){const c=await l.json();return _1(c)}else throw await w1("Generate Auth Token",l)}function HB(t,{fid:e}){return`${v1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qv(t,e=!1){let n;const i=await vf(t.appConfig,s=>{if(!P1(s))throw Is.create("not-registered");const o=s.authToken;if(!e&&KB(o))return s;if(o.requestStatus===1)return n=YB(t,e),s;{if(!navigator.onLine)throw Is.create("app-offline");const a=GB(s);return n=$B(t,a),a}});return n?await n:i.authToken}async function YB(t,e){let n=await wb(t.appConfig);for(;n.authToken.requestStatus===1;)await S1(100),n=await wb(t.appConfig);const i=n.authToken;return i.requestStatus===0?qv(t,e):i}function wb(t){return vf(t,e=>{if(!P1(e))throw Is.create("not-registered");const n=e.authToken;return QB(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function $B(t,e){try{const n=await UB(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await ih(t.appConfig,i),n}catch(n){if(y1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await T1(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ih(t.appConfig,i)}throw n}}function P1(t){return t!==void 0&&t.registrationStatus===2}function KB(t){return t.requestStatus===2&&!qB(t)}function qB(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+bB}function GB(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function QB(t){return t.requestStatus===1&&t.requestTime+p1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XB(t){const e=t,{installationEntry:n,registrationPromise:i}=await Kv(e);return i?i.catch(console.error):qv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JB(t,e=!1){const n=t;return await ZB(n),(await qv(n,e)).token}async function ZB(t){const{registrationPromise:e}=await Kv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t){if(!t||!t.options)throw Tp("App Configuration");if(!t.name)throw Tp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Tp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Tp(t){return Is.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="installations",tj="installations-internal",nj=t=>{const e=t.getProvider("app").getImmediate(),n=ej(e),i=zs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},ij=t=>{const e=t.getProvider("app").getImmediate(),n=zs(e,I1).getImmediate();return{getId:()=>XB(n),getToken:r=>JB(n,r)}};function rj(){Zn(new Pn(I1,nj,"PUBLIC")),Zn(new Pn(tj,ij,"PRIVATE"))}rj();un(f1,Yv);un(f1,Yv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh="analytics",sj="firebase_id",oj="origin",aj=60*1e3,lj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt=new rf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Yt=new Ws("analytics","Analytics",cj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t){if(!t.startsWith(Gv)){const e=Yt.create("invalid-gtag-resource",{gtagURL:t});return Lt.warn(e.message),""}return t}function M1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function dj(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function hj(t,e){const n=dj("firebase-js-sdk-policy",{createScriptURL:uj}),i=document.createElement("script"),r=`${Gv}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function fj(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function pj(t,e,n,i,r,s){const o=i[r];try{if(o)await e[o];else{const l=(await M1(n)).find(c=>c.measurementId===r);l&&await e[l.appId]}}catch(a){Lt.error(a)}t("config",r,s)}async function mj(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await M1(n);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",i,r||{})}catch(s){Lt.error(s)}}function gj(t,e,n,i){async function r(s,...o){try{if(s==="event"){const[a,l]=o;await mj(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await pj(t,e,n,i,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Lt.error(a)}}return r}function yj(t,e,n,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=gj(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}function vj(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Gv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=30,wj=1e3;class bj{constructor(e={},n=wj){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const R1=new bj;function xj(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Sj(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:xj(i)},s=lj.replace("{app-id}",n),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Yt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function kj(t,e=R1,n){const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw Yt.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Yt.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Tj;return setTimeout(async()=>{a.abort()},n!==void 0?n:aj),A1({appId:i,apiKey:r,measurementId:s},o,a,e)}async function A1(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=R1){var s;const{appId:o,measurementId:a}=t;try{await Cj(i,e)}catch(l){if(a)return Lt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Sj(t);return r.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!Ej(c)){if(r.deleteThrottleMetadata(o),a)return Lt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?Iw(n,r.intervalMillis,_j):Iw(n,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return r.setThrottleMetadata(o,d),Lt.debug(`Calling attemptFetch again in ${u} millis`),A1(t,d,i,r)}}function Cj(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(Yt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Ej(t){if(!(t instanceof ti)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Tj{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Dj(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const s=await e,o=Object.assign(Object.assign({},i),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(){if(BT())try{await jT()}catch(t){return Lt.warn(Yt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Lt.warn(Yt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ij(t,e,n,i,r,s,o){var a;const l=kj(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Lt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Lt.error(f)),e.push(l);const c=Pj().then(f=>{if(f)return i.getId()}),[u,d]=await Promise.all([l,c]);vj(s)||hj(s,u.measurementId),r("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[oj]="firebase",h.update=!0,d!=null&&(h[sj]=d),r("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e){this.app=e}_delete(){return delete ml[this.app.options.appId],Promise.resolve()}}let ml={},bb=[];const xb={};let Dp="dataLayer",Rj="gtag",Sb,O1,kb=!1;function Aj(){const t=[];if(LT()&&t.push("This is a browser extension environment."),VN()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=Yt.create("invalid-analytics-context",{errorInfo:e});Lt.warn(n.message)}}function Oj(t,e,n){Aj();const i=t.options.appId;if(!i)throw Yt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Lt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Yt.create("no-api-key");if(ml[i]!=null)throw Yt.create("already-exists",{id:i});if(!kb){fj(Dp);const{wrappedGtag:s,gtagCore:o}=yj(ml,bb,xb,Dp,Rj);O1=s,Sb=o,kb=!0}return ml[i]=Ij(t,bb,xb,e,Sb,Dp,n),new Mj(t)}function Nj(t=dv()){t=et(t);const e=zs(t,rh);return e.isInitialized()?e.getImmediate():Lj(t)}function Lj(t,e={}){const n=zs(t,rh);if(n.isInitialized()){const r=n.getImmediate();if(xr(e,n.getOptions()))return r;throw Yt.create("already-initialized")}return n.initialize({options:e})}function Fj(t,e,n,i){t=et(t),Dj(O1,ml[t.app.options.appId],e,n,i).catch(r=>Lt.error(r))}const Cb="@firebase/analytics",Eb="0.10.12";function Vj(){Zn(new Pn(rh,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return Oj(i,r,n)},"PUBLIC")),Zn(new Pn("analytics-internal",t,"PRIVATE")),un(Cb,Eb),un(Cb,Eb,"esm2017");function t(e){try{const n=e.getProvider(rh).getImmediate();return{logEvent:(i,r,s)=>Fj(n,i,r,s)}}catch(n){throw Yt.create("interop-component-reg-failed",{reason:n})}}}Vj();function Qv(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function N1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bj=N1,L1=new Ws("auth","Firebase",N1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new rf("@firebase/auth");function jj(t,...e){sh.logLevel<=pe.WARN&&sh.warn(`Auth (${fa}): ${t}`,...e)}function Gu(t,...e){sh.logLevel<=pe.ERROR&&sh.error(`Auth (${fa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,...e){throw Xv(t,...e)}function Kn(t,...e){return Xv(t,...e)}function F1(t,e,n){const i=Object.assign(Object.assign({},Bj()),{[e]:n});return new Ws("auth","Firebase",i).create(e,{appName:t.name})}function _i(t){return F1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return L1.create(t,...e)}function K(t,e,...n){if(!t)throw Xv(e,...n)}function fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gu(e),new Error(e)}function Ai(t,e){t||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Wj(){return Tb()==="http:"||Tb()==="https:"}function Tb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wj()||LT()||"connection"in navigator)?navigator.onLine:!0}function Uj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=cv()||FT()}get(){return zj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t,e){Ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=new Pc(3e4,6e4);function Lr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fr(t,e,n,i,r={}){return B1(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=ha(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return LN()||(c.referrerPolicy="no-referrer"),V1.fetch()(j1(t,t.config.apiHost,n,a),c)})}async function B1(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Hj),e);try{const r=new Kj(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw cu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw cu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw cu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw cu(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw F1(t,u,c);In(t,u)}}catch(r){if(r instanceof ti)throw r;In(t,"network-request-failed",{message:String(r)})}}async function Ic(t,e,n,i,r={}){const s=await Fr(t,e,n,i,r);return"mfaPendingCredential"in s&&In(t,"multi-factor-auth-required",{_serverResponse:s}),s}function j1(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Jv(t.config,r):`${t.config.apiScheme}://${r}`}function $j(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Kn(this.auth,"network-request-failed")),Yj.get())})}}function cu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Kn(t,e,i);return r.customData._tokenResponse=n,r}function Db(t){return t!==void 0&&t.enterprise!==void 0}class qj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $j(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Gj(t,e){return Fr(t,"GET","/v2/recaptchaConfig",Lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(t,e){return Fr(t,"POST","/v1/accounts:delete",e)}async function W1(t,e){return Fr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Xj(t,e=!1){const n=et(t),i=await n.getIdToken(e),r=Zv(i);K(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:gl(Pp(r.auth_time)),issuedAtTime:gl(Pp(r.iat)),expirationTime:gl(Pp(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pp(t){return Number(t)*1e3}function Zv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Gu("JWT malformed, contained fewer than 3 sections"),null;try{const r=jd(n);return r?JSON.parse(r):(Gu("Failed to decode base64 JWT payload"),null)}catch(r){return Gu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Pb(t){const e=Zv(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ti&&Jj(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function Jj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Xl(t,W1(n,{idToken:i}));K(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?z1(s.providerUserInfo):[],a=tW(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new kg(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function eW(t){const e=et(t);await oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tW(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function z1(t){return t.map(e=>{var{providerId:n}=e,i=Qv(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nW(t,e){const n=await B1(t,{},async()=>{const i=ha({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=j1(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",V1.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iW(t,e){return Fr(t,"POST","/v2/accounts:revokeToken",Lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=Pb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await nW(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Mo;return i&&(K(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(K(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(K(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pi{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Qv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new kg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Xj(this,e)}reload(){return eW(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await oh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(_i(this.auth));const e=await this.getIdToken();return await Xl(this,Qj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,u;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(r=n.email)!==null&&r!==void 0?r:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:b,isAnonymous:w,providerData:S,stsTokenManager:C}=n;K(_&&C,e,"internal-error");const x=Mo.fromJSON(this.name,C);K(typeof _=="string",e,"internal-error"),ji(d,e.name),ji(h,e.name),K(typeof b=="boolean",e,"internal-error"),K(typeof w=="boolean",e,"internal-error"),ji(f,e.name),ji(p,e.name),ji(m,e.name),ji(v,e.name),ji(g,e.name),ji(y,e.name);const E=new pi({uid:_,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:x,createdAt:g,lastLoginAt:y});return S&&Array.isArray(S)&&(E.providerData=S.map(T=>Object.assign({},T))),v&&(E._redirectEventId=v),E}static async _fromIdTokenResponse(e,n,i=!1){const r=new Mo;r.updateFromServerResponse(n);const s=new pi({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await oh(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];K(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?z1(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new Mo;a.updateFromIdToken(i);const l=new pi({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new kg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new Map;function mi(t){Ai(t instanceof Function,"Expected a class definition");let e=Ib.get(t);return e?(Ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ib.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}U1.type="NONE";const Mb=U1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ro{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Qu(this.userKey,r.apiKey,s),this.fullPersistenceKey=Qu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ro(mi(Mb),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||mi(Mb);const o=Qu(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=pi._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ro(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ro(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(G1(e))return"Blackberry";if(Q1(e))return"Webos";if(Y1(e))return"Safari";if((e.includes("chrome/")||$1(e))&&!e.includes("edge/"))return"Chrome";if(q1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function H1(t=Ct()){return/firefox\//i.test(t)}function Y1(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $1(t=Ct()){return/crios\//i.test(t)}function K1(t=Ct()){return/iemobile/i.test(t)}function q1(t=Ct()){return/android/i.test(t)}function G1(t=Ct()){return/blackberry/i.test(t)}function Q1(t=Ct()){return/webos/i.test(t)}function e_(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rW(t=Ct()){var e;return e_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sW(){return FN()&&document.documentMode===10}function X1(t=Ct()){return e_(t)||q1(t)||Q1(t)||G1(t)||/windows phone/i.test(t)||K1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t,e=[]){let n;switch(t){case"Browser":n=Rb(Ct());break;case"Worker":n=`${Rb(Ct())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aW(t,e={}){return Fr(t,"GET","/v2/passwordPolicy",Lr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW=6;class cW{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:lW,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ab(this),this.idTokenSubscription=new Ab(this),this.beforeStateQueue=new oW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await W1(this,{idToken:e}),i=await pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(on(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Uj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(_i(this));const n=e?et(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(_i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(_i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aW(this),n=new cW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ws("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await iW(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mi(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=J1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ys(t){return et(t)}class Ab{constructor(e){this.auth=e,this.observer=null,this.addObserver=YN(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dW(t){_f=t}function Z1(t){return _f.loadJS(t)}function hW(){return _f.recaptchaEnterpriseScript}function fW(){return _f.gapiScript}function pW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mW{constructor(){this.enterprise=new gW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yW="recaptcha-enterprise",eP="NO_RECAPTCHA";class vW{constructor(e){this.type=yW,this.auth=Ys(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Gj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new qj(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;Db(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(eP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mW().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&Db(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=hW();l.length!==0&&(l+=a),Z1(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Ma(t,e,n,i=!1,r=!1){const s=new vW(t);let o;if(r)o=eP;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Cg(t,e,n,i,r){var s,o;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Ma(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Ma(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(a)});else if(r==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await Ma(t,e,n);return i(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await Ma(t,e,n,!1,!0);return i(t,u)}return Promise.reject(l)})}else{const a=await Ma(t,e,n,!1,!0);return i(t,a)}else return Promise.reject(r+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _W(t,e){const n=zs(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(xr(s,e??{}))return r;In(r,"already-initialized")}return n.initialize({options:e})}function wW(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function bW(t,e,n){const i=Ys(t);K(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),s=tP(e),{host:o,port:a}=xW(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K(xr(c,i.config.emulator)&&xr(u,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,r||SW()}function tP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xW(t){const e=tP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Ob(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:Ob(o)}}}function Ob(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function SW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function kW(t,e){return Fr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CW(t,e){return Ic(t,"POST","/v1/accounts:signInWithPassword",Lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EW(t,e){return Ic(t,"POST","/v1/accounts:signInWithEmailLink",Lr(t,e))}async function TW(t,e){return Ic(t,"POST","/v1/accounts:signInWithEmailLink",Lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends t_{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Jl(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Jl(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,n,"signInWithPassword",CW,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return EW(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,i,"signUpPassword",kW,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return TW(e,{idToken:n,email:this._email,oobCode:this._password});default:In(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t,e){return Ic(t,"POST","/v1/accounts:signInWithIdp",Lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW="http://localhost";class Rs extends t_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):In("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=Qv(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Rs(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ao(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ao(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ao(e,n)}buildRequest(){const e={requestUri:DW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ha(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IW(t){const e=$a(Ka(t)).link,n=e?$a(Ka(e)).deep_link_id:null,i=$a(Ka(t)).deep_link_id;return(i?$a(Ka(i)).link:null)||i||n||e||t}class n_{constructor(e){var n,i,r,s,o,a;const l=$a(Ka(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,d=PW((r=l.mode)!==null&&r!==void 0?r:null);K(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=IW(e);try{return new n_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.providerId=ma.PROVIDER_ID}static credential(e,n){return Jl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=n_.parseLink(n);return K(i,"argument-error"),Jl._fromEmailAndCode(e,i.code,i.tenantId)}}ma.PROVIDER_ID="password";ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends nP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Mc{constructor(){super("facebook.com")}static credential(e){return Rs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rs._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Gi.credential(n,i)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Mc{constructor(){super("github.com")}static credential(e){return Rs._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Mc{constructor(){super("twitter.com")}static credential(e,n){return Rs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Xi.credential(n,i)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MW(t,e){return Ic(t,"POST","/v1/accounts:signUp",Lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await pi._fromIdTokenResponse(e,i,r),o=Nb(i);return new As({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=Nb(i);return new As({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function Nb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends ti{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new ah(e,n,i,r)}}function iP(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(t,s,e,i):s})}async function RW(t,e,n=!1){const i=await Xl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return As._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AW(t,e,n=!1){const{auth:i}=t;if(on(i.app))return Promise.reject(_i(i));const r="reauthenticate";try{const s=await Xl(t,iP(i,r,e,t),n);K(s.idToken,i,"internal-error");const o=Zv(s.idToken);K(o,i,"internal-error");const{sub:a}=o;return K(t.uid===a,i,"user-mismatch"),As._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&In(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(t,e,n=!1){if(on(t.app))return Promise.reject(_i(t));const i="signIn",r=await iP(t,i,e),s=await As._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function OW(t,e){return rP(Ys(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(t){const e=Ys(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NW(t,e,n){if(on(t.app))return Promise.reject(_i(t));const i=Ys(t),o=await Cg(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MW,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&sP(t),l}),a=await As._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function LW(t,e,n){return on(t.app)?Promise.reject(_i(t)):OW(et(t),ma.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&sP(t),i})}function FW(t,e,n,i){return et(t).onIdTokenChanged(e,n,i)}function VW(t,e,n){return et(t).beforeAuthStateChanged(e,n)}function BW(t,e,n,i){return et(t).onAuthStateChanged(e,n,i)}function jW(t){return et(t).signOut()}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=1e3,zW=10;class aP extends oP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);sW()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,zW):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},WW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aP.type="LOCAL";const UW=aP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP extends oP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lP.type="SESSION";const cP=lP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new wf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await HW(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=i_("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return window}function $W(t){qn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(){return typeof qn().WorkerGlobalScope<"u"&&typeof qn().importScripts=="function"}async function KW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GW(){return uP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="firebaseLocalStorageDb",QW=1,ch="firebaseLocalStorage",hP="fbase_key";class Rc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bf(t,e){return t.transaction([ch],e?"readwrite":"readonly").objectStore(ch)}function XW(){const t=indexedDB.deleteDatabase(dP);return new Rc(t).toPromise()}function Eg(){const t=indexedDB.open(dP,QW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(ch,{keyPath:hP})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(ch)?e(i):(i.close(),await XW(),e(await Eg()))})})}async function Lb(t,e,n){const i=bf(t,!0).put({[hP]:e,value:n});return new Rc(i).toPromise()}async function JW(t,e){const n=bf(t,!1).get(e),i=await new Rc(n).toPromise();return i===void 0?null:i.value}function Fb(t,e){const n=bf(t,!0).delete(e);return new Rc(n).toPromise()}const ZW=800,ez=3;class fP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>ez)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wf._getInstance(GW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await KW(),!this.activeServiceWorker)return;this.sender=new YW(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Eg();return await Lb(e,lh,"1"),await Fb(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lb(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>JW(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=bf(r,!1).getAll();return new Rc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fP.type="LOCAL";const tz=fP;new Pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nz(t,e){return e?mi(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_ extends t_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iz(t){return rP(t.auth,new r_(t),t.bypassAuthState)}function rz(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),AW(n,new r_(t),t.bypassAuthState)}async function sz(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),RW(n,new r_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iz;case"linkViaPopup":case"linkViaRedirect":return sz;case"reauthViaPopup":case"reauthViaRedirect":return rz;default:In(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz=new Pc(2e3,1e4);class mo extends pP{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=i_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oz.get())};e()}}mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az="pendingRedirect",Xu=new Map;class lz extends pP{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Xu.get(this.auth._key());if(!e){try{const i=await cz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Xu.set(this.auth._key(),e)}return this.bypassAuthState||Xu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cz(t,e){const n=hz(e),i=dz(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function uz(t,e){Xu.set(t._key(),e)}function dz(t){return mi(t._redirectPersistence)}function hz(t){return Qu(az,t.config.apiKey,t.name)}async function fz(t,e,n=!1){if(on(t.app))return Promise.reject(_i(t));const i=Ys(t),r=nz(i,e),o=await new lz(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz=10*60*1e3;class mz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!mP(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Kn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pz&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vb(e))}saveEventToCache(e){this.cachedEventUids.add(Vb(e)),this.lastProcessedEventTime=Date.now()}}function Vb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yz(t,e={}){return Fr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_z=/^https?/;async function wz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yz(t);for(const n of e)try{if(bz(n))return}catch{}In(t,"unauthorized-domain")}function bz(t){const e=Sg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!_z.test(n))return!1;if(vz.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=new Pc(3e4,6e4);function Bb(){const t=qn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Sz(t){return new Promise((e,n)=>{var i,r,s;function o(){Bb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bb(),n(Kn(t,"network-request-failed"))},timeout:xz.get()})}if(!((r=(i=qn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=qn().gapi)===null||s===void 0)&&s.load)o();else{const a=pW("iframefcb");return qn()[a]=()=>{gapi.load?o():n(Kn(t,"network-request-failed"))},Z1(`${fW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ju=null,e})}let Ju=null;function kz(t){return Ju=Ju||Sz(t),Ju}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz=new Pc(5e3,15e3),Ez="__/auth/iframe",Tz="emulator/auth/iframe",Dz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iz(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jv(e,Tz):`https://${t.config.authDomain}/${Ez}`,i={apiKey:e.apiKey,appName:t.name,v:fa},r=Pz.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${ha(i).slice(1)}`}async function Mz(t){const e=await kz(t),n=qn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:Iz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dz,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Kn(t,"network-request-failed"),a=qn().setTimeout(()=>{s(o)},Cz.get());function l(){qn().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Az=500,Oz=600,Nz="_blank",Lz="http://localhost";class jb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Fz(t,e,n,i=Az,r=Oz){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Rz),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Ct().toLowerCase();n&&(a=$1(c)?Nz:n),H1(c)&&(e=e||Lz,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(rW(c)&&a!=="_self")return Vz(e||"",a),new jb(null);const d=window.open(e||"",a,u);K(d,t,"popup-blocked");try{d.focus()}catch{}return new jb(d)}function Vz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz="__/auth/handler",jz="emulator/auth/handler",Wz=encodeURIComponent("fac");async function Wb(t,e,n,i,r,s){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:fa,eventId:r};if(e instanceof nP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ig(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Mc){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Wz}=${encodeURIComponent(l)}`:"";return`${zz(t)}?${ha(a).slice(1)}${c}`}function zz({config:t}){return t.emulator?Jv(t,jz):`https://${t.authDomain}/${Bz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="webStorageSupport";class Uz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cP,this._completeRedirectFn=fz,this._overrideRedirectResult=uz}async _openPopup(e,n,i,r){var s;Ai((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Wb(e,n,i,Sg(),r);return Fz(e,o,i_())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await Wb(e,n,i,Sg(),r);return $W(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Ai(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await Mz(e),i=new mz(e);return n.register("authEvent",r=>(K(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ip,{type:Ip},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Ip];o!==void 0&&n(!!o),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return X1()||Y1()||e_()}}const Hz=Uz;var zb="@firebase/auth",Ub="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kz(t){Zn(new Pn("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J1(t)},c=new uW(i,r,s,l);return wW(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Zn(new Pn("auth-internal",e=>{const n=Ys(e.getProvider("auth").getImmediate());return(i=>new Yz(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(zb,Ub,$z(t)),un(zb,Ub,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz=5*60,Gz=NT("authIdTokenMaxAge")||qz;let Hb=null;const Qz=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Gz)return;const r=n==null?void 0:n.token;Hb!==r&&(Hb=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Xz(t=dv()){const e=zs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_W(t,{popupRedirectResolver:Hz,persistence:[tz,UW,cP]}),i=NT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=Qz(s.toString());VW(n,o,()=>o(n.currentUser)),FW(n,a=>o(a))}}const r=AT("auth");return r&&bW(n,`http://${r}`),n}function Jz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dW({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Kn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",Jz().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kz("Browser");const Zz={apiKey:"AIzaSyBucDi4QuIDubWIbyvyOQuYr0W_zBMCxWU",authDomain:"learningassist-60e5b.firebaseapp.com",databaseURL:"https://learningassist-60e5b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"learningassist-60e5b",storageBucket:"learningassist-60e5b.firebasestorage.app",messagingSenderId:"325077297191",appId:"1:325077297191:web:a8231802133850b2404602",measurementId:"G-R9SZZBB87L"},s_=$T(Zz);Nj(s_);const uh=Xz(s_),Oo=pB(s_),gP=6048e5,eU=864e5,xf=6e4,Sf=36e5,tU=1e3,Yb=Symbol.for("constructDateFrom");function fe(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Yb in t?t[Yb](e):t instanceof Date?new t.constructor(e):new Date(e)}function z(t,e){return fe(e||t,t)}function Tn(t,e,n){const i=z(t,n==null?void 0:n.in);return isNaN(e)?fe((n==null?void 0:n.in)||t,NaN):(e&&i.setDate(i.getDate()+e),i)}function Mn(t,e,n){const i=z(t,n==null?void 0:n.in);if(isNaN(e))return fe((n==null?void 0:n.in)||t,NaN);if(!e)return i;const r=i.getDate(),s=fe((n==null?void 0:n.in)||t,i.getTime());s.setMonth(i.getMonth()+e+1,0);const o=s.getDate();return r>=o?s:(i.setFullYear(s.getFullYear(),s.getMonth(),r),i)}function yP(t,e,n){return fe((n==null?void 0:n.in)||t,+z(t)+e)}function nU(t,e,n){return yP(t,e*Sf,n)}let iU={};function $s(){return iU}function Oi(t,e){var a,l,c,u;const n=$s(),i=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,r=z(t,e==null?void 0:e.in),s=r.getDay(),o=(s<i?7:0)+s-i;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function qo(t,e){return Oi(t,{...e,weekStartsOn:1})}function vP(t,e){const n=z(t,e==null?void 0:e.in),i=n.getFullYear(),r=fe(n,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const s=qo(r),o=fe(n,0);o.setFullYear(i,0,4),o.setHours(0,0,0,0);const a=qo(o);return n.getTime()>=s.getTime()?i+1:n.getTime()>=a.getTime()?i:i-1}function dh(t){const e=z(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Vi(t,...e){const n=fe.bind(null,t||e.find(i=>typeof i=="object"));return e.map(n)}function Os(t,e){const n=z(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Go(t,e,n){const[i,r]=Vi(n==null?void 0:n.in,t,e),s=Os(i),o=Os(r),a=+s-dh(s),l=+o-dh(o);return Math.round((a-l)/eU)}function rU(t,e){const n=vP(t,e),i=fe((e==null?void 0:e.in)||t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),qo(i)}function Tg(t,e,n){const i=z(t,n==null?void 0:n.in);return i.setTime(i.getTime()+e*xf),i}function o_(t,e,n){return Mn(t,e*3,n)}function sU(t,e,n){return yP(t,e*1e3,n)}function hh(t,e,n){return Tn(t,e*7,n)}function wi(t,e,n){return Mn(t,e*12,n)}function $b(t,e){let n,i=e==null?void 0:e.in;return t.forEach(r=>{!i&&typeof r=="object"&&(i=fe.bind(null,r));const s=z(r,i);(!n||n<s||isNaN(+s))&&(n=s)}),fe(i,n||NaN)}function Kb(t,e){let n,i=e==null?void 0:e.in;return t.forEach(r=>{!i&&typeof r=="object"&&(i=fe.bind(null,r));const s=z(r,i);(!n||n>s||isNaN(+s))&&(n=s)}),fe(i,n||NaN)}function oU(t,e,n){const[i,r]=Vi(n==null?void 0:n.in,t,e);return+Os(i)==+Os(r)}function bi(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function fh(t){return!(!bi(t)&&typeof t!="number"||isNaN(+z(t)))}function ph(t,e,n){const[i,r]=Vi(n==null?void 0:n.in,t,e),s=i.getFullYear()-r.getFullYear(),o=i.getMonth()-r.getMonth();return s*12+o}function ps(t,e){const n=z(t,e==null?void 0:e.in);return Math.trunc(n.getMonth()/3)+1}function mh(t,e,n){const[i,r]=Vi(n==null?void 0:n.in,t,e),s=i.getFullYear()-r.getFullYear(),o=ps(i)-ps(r);return s*4+o}function gh(t,e,n){const[i,r]=Vi(n==null?void 0:n.in,t,e);return i.getFullYear()-r.getFullYear()}function aU(t,e,n){const[i,r]=Vi(n==null?void 0:n.in,t,e),s=qb(i,r),o=Math.abs(Go(i,r));i.setDate(i.getDate()-s*o);const a=+(qb(i,r)===-s),l=s*(o-a);return l===0?0:l}function qb(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function _P(t,e){const n=z(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function wP(t,e){const n=z(t,e==null?void 0:e.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function Dg(t,e){const n=z(t,e==null?void 0:e.in),i=n.getMonth(),r=i-i%3;return n.setMonth(r,1),n.setHours(0,0,0,0),n}function bP(t,e){const n=z(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function xP(t,e){const n=z(t,e==null?void 0:e.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function kf(t,e){const n=z(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function lU(t,e){var a,l,c,u;const n=$s(),i=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,r=z(t,e==null?void 0:e.in),s=r.getDay(),o=(s<i?-7:0)+6-(s-i);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}const cU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uU=(t,e,n)=>{let i;const r=cU[t];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Mp(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const dU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pU={date:Mp({formats:dU,defaultWidth:"full"}),time:Mp({formats:hU,defaultWidth:"full"}),dateTime:Mp({formats:fU,defaultWidth:"full"})},mU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gU=(t,e,n,i)=>mU[t];function Ra(t){return(e,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let r;if(i==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;r=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return r[s]}}const yU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_U={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},SU=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},kU={ordinalNumber:SU,era:Ra({values:yU,defaultWidth:"wide"}),quarter:Ra({values:vU,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ra({values:_U,defaultWidth:"wide"}),day:Ra({values:wU,defaultWidth:"wide"}),dayPeriod:Ra({values:bU,defaultWidth:"wide",formattingValues:xU,defaultFormattingWidth:"wide"})};function Aa(t){return(e,n={})=>{const i=n.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=e.match(r);if(!s)return null;const o=s[0],a=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?EU(a,d=>d.test(o)):CU(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function CU(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function EU(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function TU(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const r=i[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(r.length);return{value:o,rest:a}}}const DU=/^(\d+)(th|st|nd|rd)?/i,PU=/\d+/i,IU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},MU={any:[/^b/i,/^(a|c)/i]},RU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},AU={any:[/1/i,/2/i,/3/i,/4/i]},OU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},LU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},FU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},VU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jU={ordinalNumber:TU({matchPattern:DU,parsePattern:PU,valueCallback:t=>parseInt(t,10)}),era:Aa({matchPatterns:IU,defaultMatchWidth:"wide",parsePatterns:MU,defaultParseWidth:"any"}),quarter:Aa({matchPatterns:RU,defaultMatchWidth:"wide",parsePatterns:AU,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Aa({matchPatterns:OU,defaultMatchWidth:"wide",parsePatterns:NU,defaultParseWidth:"any"}),day:Aa({matchPatterns:LU,defaultMatchWidth:"wide",parsePatterns:FU,defaultParseWidth:"any"}),dayPeriod:Aa({matchPatterns:VU,defaultMatchWidth:"any",parsePatterns:BU,defaultParseWidth:"any"})},SP={code:"en-US",formatDistance:uU,formatLong:pU,formatRelative:gU,localize:kU,match:jU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function WU(t,e){const n=z(t,e==null?void 0:e.in);return Go(n,kf(n))+1}function a_(t,e){const n=z(t,e==null?void 0:e.in),i=+qo(n)-+rU(n);return Math.round(i/gP)+1}function l_(t,e){var u,d,h,f;const n=z(t,e==null?void 0:e.in),i=n.getFullYear(),r=$s(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=fe((e==null?void 0:e.in)||t,0);o.setFullYear(i+1,0,s),o.setHours(0,0,0,0);const a=Oi(o,e),l=fe((e==null?void 0:e.in)||t,0);l.setFullYear(i,0,s),l.setHours(0,0,0,0);const c=Oi(l,e);return+n>=+a?i+1:+n>=+c?i:i-1}function zU(t,e){var a,l,c,u;const n=$s(),i=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,r=l_(t,e),s=fe((e==null?void 0:e.in)||t,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),Oi(s,e)}function kP(t,e){const n=z(t,e==null?void 0:e.in),i=+Oi(n,e)-+zU(n,e);return Math.round(i/gP)+1}function ue(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const Wi={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return ue(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ue(n+1,2)},d(t,e){return ue(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ue(t.getHours()%12||12,e.length)},H(t,e){return ue(t.getHours(),e.length)},m(t,e){return ue(t.getMinutes(),e.length)},s(t,e){return ue(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return ue(r,e.length)}},Xs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gb={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return Wi.y(t,e)},Y:function(t,e,n,i){const r=l_(t,i),s=r>0?r:1-r;if(e==="YY"){const o=s%100;return ue(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):ue(s,e.length)},R:function(t,e){const n=vP(t);return ue(n,e.length)},u:function(t,e){const n=t.getFullYear();return ue(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return ue(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return ue(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return Wi.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return ue(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const r=kP(t,i);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):ue(r,e.length)},I:function(t,e,n){const i=a_(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):ue(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Wi.d(t,e)},D:function(t,e,n){const i=WU(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):ue(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ue(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ue(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return ue(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let r;switch(i===12?r=Xs.noon:i===0?r=Xs.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let r;switch(i>=17?r=Xs.evening:i>=12?r=Xs.afternoon:i>=4?r=Xs.morning:r=Xs.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Wi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Wi.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):ue(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):ue(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Wi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Wi.s(t,e)},S:function(t,e){return Wi.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return Xb(i);case"XXXX":case"XX":return Qr(i);case"XXXXX":case"XXX":default:return Qr(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return Xb(i);case"xxxx":case"xx":return Qr(i);case"xxxxx":case"xxx":default:return Qr(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Qb(i,":");case"OOOO":default:return"GMT"+Qr(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Qb(i,":");case"zzzz":default:return"GMT"+Qr(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return ue(i,e.length)},T:function(t,e,n){return ue(+t,e.length)}};function Qb(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Math.trunc(i/60),s=i%60;return s===0?n+String(r):n+String(r)+e+ue(s,2)}function Xb(t,e){return t%60===0?(t>0?"-":"+")+ue(Math.abs(t)/60,2):Qr(t,e)}function Qr(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=ue(Math.trunc(i/60),2),s=ue(i%60,2);return n+r+e+s}const Jb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},CP=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},UU=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return Jb(t,e);let s;switch(i){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Jb(i,e)).replace("{{time}}",CP(r,e))},Pg={p:CP,P:UU},HU=/^D+$/,YU=/^Y+$/,$U=["D","DD","YY","YYYY"];function EP(t){return HU.test(t)}function TP(t){return YU.test(t)}function Ig(t,e,n){const i=KU(t,e,n);if(console.warn(i),$U.includes(t))throw new RangeError(i)}function KU(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QU=/^'([^]*?)'?$/,XU=/''/g,JU=/[a-zA-Z]/;function Tr(t,e,n){var u,d,h,f,p,m,v,g;const i=$s(),r=(n==null?void 0:n.locale)??i.locale??SP,s=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(h=i.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((m=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??i.weekStartsOn??((g=(v=i.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??0,a=z(t,n==null?void 0:n.in);if(!fh(a))throw new RangeError("Invalid time value");let l=e.match(GU).map(y=>{const _=y[0];if(_==="p"||_==="P"){const b=Pg[_];return b(y,r.formatLong)}return y}).join("").match(qU).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:ZU(y)};if(Gb[_])return{isToken:!0,value:y};if(_.match(JU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});r.localize.preprocessor&&(l=r.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:r};return l.map(y=>{if(!y.isToken)return y.value;const _=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&TP(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&EP(_))&&Ig(_,e,String(t));const b=Gb[_[0]];return b(a,_,r.localize,c)}).join("")}function ZU(t){const e=t.match(QU);return e?e[1].replace(XU,"'"):t}function Zb(t,e){return z(t,e==null?void 0:e.in).getDate()}function eH(t,e){return z(t,e==null?void 0:e.in).getDay()}function tH(t,e){const n=z(t,e==null?void 0:e.in),i=n.getFullYear(),r=n.getMonth(),s=fe(n,0);return s.setFullYear(i,r+1,0),s.setHours(0,0,0,0),s.getDate()}function nH(){return Object.assign({},$s())}function xi(t,e){return z(t,e==null?void 0:e.in).getHours()}function iH(t,e){const n=z(t,e==null?void 0:e.in).getDay();return n===0?7:n}function Si(t,e){return z(t,e==null?void 0:e.in).getMinutes()}function bt(t,e){return z(t,e==null?void 0:e.in).getMonth()}function yr(t){return z(t).getSeconds()}function Mg(t){return+z(t)}function J(t,e){return z(t,e==null?void 0:e.in).getFullYear()}function Dr(t,e){return+z(t)>+z(e)}function Ns(t,e){return+z(t)<+z(e)}function rH(t,e){return+z(t)==+z(e)}function sH(t,e){const n=oH(e)?new e(0):fe(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function oH(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const aH=10;class DP{constructor(){I(this,"subPriority",0)}validate(e,n){return!0}}class lH extends DP{constructor(e,n,i,r,s){super(),this.value=e,this.validateValue=n,this.setValue=i,this.priority=r,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,i){return this.setValue(e,n,this.value,i)}}class cH extends DP{constructor(n,i){super();I(this,"priority",aH);I(this,"subPriority",-1);this.context=n||(r=>fe(i,r))}set(n,i){return i.timestampIsSet?n:fe(n,sH(n,this.context))}}class le{run(e,n,i,r){const s=this.parse(e,n,i,r);return s?{setter:new lH(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,i){return!0}}class uH extends le{constructor(){super(...arguments);I(this,"priority",140);I(this,"incompatibleTokens",["R","u","t","T"])}parse(n,i,r){switch(i){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})||r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"})}}set(n,i,r){return i.era=r,n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}const Be={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},zn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function je(t,e){return t&&{value:e(t.value),rest:t.rest}}function Pe(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Un(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const i=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:i*(r*Sf+s*xf+o*tU),rest:e.slice(n[0].length)}}function PP(t){return Pe(Be.anyDigitsSigned,t)}function Le(t,e){switch(t){case 1:return Pe(Be.singleDigit,e);case 2:return Pe(Be.twoDigits,e);case 3:return Pe(Be.threeDigits,e);case 4:return Pe(Be.fourDigits,e);default:return Pe(new RegExp("^\\d{1,"+t+"}"),e)}}function yh(t,e){switch(t){case 1:return Pe(Be.singleDigitSigned,e);case 2:return Pe(Be.twoDigitsSigned,e);case 3:return Pe(Be.threeDigitsSigned,e);case 4:return Pe(Be.fourDigitsSigned,e);default:return Pe(new RegExp("^-?\\d{1,"+t+"}"),e)}}function c_(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function IP(t,e){const n=e>0,i=n?e:1-e;let r;if(i<=50)r=t||100;else{const s=i+50,o=Math.trunc(s/100)*100,a=t>=s%100;r=t+o-(a?100:0)}return n?r:1-r}function MP(t){return t%400===0||t%4===0&&t%100!==0}class dH extends le{constructor(){super(...arguments);I(this,"priority",130);I(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,i,r){const s=o=>({year:o,isTwoDigitYear:i==="yy"});switch(i){case"y":return je(Le(4,n),s);case"yo":return je(r.ordinalNumber(n,{unit:"year"}),s);default:return je(Le(i.length,n),s)}}validate(n,i){return i.isTwoDigitYear||i.year>0}set(n,i,r){const s=n.getFullYear();if(r.isTwoDigitYear){const a=IP(r.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in i)||i.era===1?r.year:1-r.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class hH extends le{constructor(){super(...arguments);I(this,"priority",130);I(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,i,r){const s=o=>({year:o,isTwoDigitYear:i==="YY"});switch(i){case"Y":return je(Le(4,n),s);case"Yo":return je(r.ordinalNumber(n,{unit:"year"}),s);default:return je(Le(i.length,n),s)}}validate(n,i){return i.isTwoDigitYear||i.year>0}set(n,i,r,s){const o=l_(n,s);if(r.isTwoDigitYear){const l=IP(r.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Oi(n,s)}const a=!("era"in i)||i.era===1?r.year:1-r.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Oi(n,s)}}class fH extends le{constructor(){super(...arguments);I(this,"priority",130);I(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,i){return yh(i==="R"?4:i.length,n)}set(n,i,r){const s=fe(n,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),qo(s)}}class pH extends le{constructor(){super(...arguments);I(this,"priority",130);I(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,i){return yh(i==="u"?4:i.length,n)}set(n,i,r){return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}class mH extends le{constructor(){super(...arguments);I(this,"priority",120);I(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"Q":case"QQ":return Le(i.length,n);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})||r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=1&&i<=4}set(n,i,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class gH extends le{constructor(){super(...arguments);I(this,"priority",120);I(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"q":case"qq":return Le(i.length,n);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})||r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,i){return i>=1&&i<=4}set(n,i,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class yH extends le{constructor(){super(...arguments);I(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);I(this,"priority",110)}parse(n,i,r){const s=o=>o-1;switch(i){case"M":return je(Pe(Be.month,n),s);case"MM":return je(Le(2,n),s);case"Mo":return je(r.ordinalNumber(n,{unit:"month"}),s);case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})||r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=0&&i<=11}set(n,i,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}class vH extends le{constructor(){super(...arguments);I(this,"priority",110);I(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,i,r){const s=o=>o-1;switch(i){case"L":return je(Pe(Be.month,n),s);case"LL":return je(Le(2,n),s);case"Lo":return je(r.ordinalNumber(n,{unit:"month"}),s);case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})||r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"})}}validate(n,i){return i>=0&&i<=11}set(n,i,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}function _H(t,e,n){const i=z(t,n==null?void 0:n.in),r=kP(i,n)-e;return i.setDate(i.getDate()-r*7),z(i,n==null?void 0:n.in)}class wH extends le{constructor(){super(...arguments);I(this,"priority",100);I(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,i,r){switch(i){case"w":return Pe(Be.week,n);case"wo":return r.ordinalNumber(n,{unit:"week"});default:return Le(i.length,n)}}validate(n,i){return i>=1&&i<=53}set(n,i,r,s){return Oi(_H(n,r,s),s)}}function bH(t,e,n){const i=z(t,n==null?void 0:n.in),r=a_(i,n)-e;return i.setDate(i.getDate()-r*7),i}class xH extends le{constructor(){super(...arguments);I(this,"priority",100);I(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,i,r){switch(i){case"I":return Pe(Be.week,n);case"Io":return r.ordinalNumber(n,{unit:"week"});default:return Le(i.length,n)}}validate(n,i){return i>=1&&i<=53}set(n,i,r){return qo(bH(n,r))}}const SH=[31,28,31,30,31,30,31,31,30,31,30,31],kH=[31,29,31,30,31,30,31,31,30,31,30,31];class CH extends le{constructor(){super(...arguments);I(this,"priority",90);I(this,"subPriority",1);I(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"d":return Pe(Be.date,n);case"do":return r.ordinalNumber(n,{unit:"date"});default:return Le(i.length,n)}}validate(n,i){const r=n.getFullYear(),s=MP(r),o=n.getMonth();return s?i>=1&&i<=kH[o]:i>=1&&i<=SH[o]}set(n,i,r){return n.setDate(r),n.setHours(0,0,0,0),n}}class EH extends le{constructor(){super(...arguments);I(this,"priority",90);I(this,"subpriority",1);I(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,i,r){switch(i){case"D":case"DD":return Pe(Be.dayOfYear,n);case"Do":return r.ordinalNumber(n,{unit:"date"});default:return Le(i.length,n)}}validate(n,i){const r=n.getFullYear();return MP(r)?i>=1&&i<=366:i>=1&&i<=365}set(n,i,r){return n.setMonth(0,r),n.setHours(0,0,0,0),n}}function u_(t,e,n){var d,h,f,p;const i=$s(),r=(n==null?void 0:n.weekStartsOn)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??i.weekStartsOn??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,s=z(t,n==null?void 0:n.in),o=s.getDay(),l=(e%7+7)%7,c=7-r,u=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return Tn(s,u,n)}class TH extends le{constructor(){super(...arguments);I(this,"priority",90);I(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=0&&i<=6}set(n,i,r,s){return n=u_(n,r,s),n.setHours(0,0,0,0),n}}class DH extends le{constructor(){super(...arguments);I(this,"priority",90);I(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,i,r,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(i){case"e":case"ee":return je(Le(i.length,n),o);case"eo":return je(r.ordinalNumber(n,{unit:"day"}),o);case"eee":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=0&&i<=6}set(n,i,r,s){return n=u_(n,r,s),n.setHours(0,0,0,0),n}}class PH extends le{constructor(){super(...arguments);I(this,"priority",90);I(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,i,r,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(i){case"c":case"cc":return je(Le(i.length,n),o);case"co":return je(r.ordinalNumber(n,{unit:"day"}),o);case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})||r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"})}}validate(n,i){return i>=0&&i<=6}set(n,i,r,s){return n=u_(n,r,s),n.setHours(0,0,0,0),n}}function IH(t,e,n){const i=z(t,n==null?void 0:n.in),r=iH(i,n),s=e-r;return Tn(i,s,n)}class MH extends le{constructor(){super(...arguments);I(this,"priority",90);I(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,i,r){const s=o=>o===0?7:o;switch(i){case"i":case"ii":return Le(i.length,n);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return je(r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return je(r.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return je(r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return je(r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,i){return i>=1&&i<=7}set(n,i,r){return n=IH(n,r),n.setHours(0,0,0,0),n}}class RH extends le{constructor(){super(...arguments);I(this,"priority",80);I(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,i,r){switch(i){case"a":case"aa":case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,i,r){return n.setHours(c_(r),0,0,0),n}}class AH extends le{constructor(){super(...arguments);I(this,"priority",80);I(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,i,r){switch(i){case"b":case"bb":case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,i,r){return n.setHours(c_(r),0,0,0),n}}class OH extends le{constructor(){super(...arguments);I(this,"priority",80);I(this,"incompatibleTokens",["a","b","t","T"])}parse(n,i,r){switch(i){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,i,r){return n.setHours(c_(r),0,0,0),n}}class NH extends le{constructor(){super(...arguments);I(this,"priority",70);I(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,i,r){switch(i){case"h":return Pe(Be.hour12h,n);case"ho":return r.ordinalNumber(n,{unit:"hour"});default:return Le(i.length,n)}}validate(n,i){return i>=1&&i<=12}set(n,i,r){const s=n.getHours()>=12;return s&&r<12?n.setHours(r+12,0,0,0):!s&&r===12?n.setHours(0,0,0,0):n.setHours(r,0,0,0),n}}class LH extends le{constructor(){super(...arguments);I(this,"priority",70);I(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,i,r){switch(i){case"H":return Pe(Be.hour23h,n);case"Ho":return r.ordinalNumber(n,{unit:"hour"});default:return Le(i.length,n)}}validate(n,i){return i>=0&&i<=23}set(n,i,r){return n.setHours(r,0,0,0),n}}class FH extends le{constructor(){super(...arguments);I(this,"priority",70);I(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,i,r){switch(i){case"K":return Pe(Be.hour11h,n);case"Ko":return r.ordinalNumber(n,{unit:"hour"});default:return Le(i.length,n)}}validate(n,i){return i>=0&&i<=11}set(n,i,r){return n.getHours()>=12&&r<12?n.setHours(r+12,0,0,0):n.setHours(r,0,0,0),n}}class VH extends le{constructor(){super(...arguments);I(this,"priority",70);I(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,i,r){switch(i){case"k":return Pe(Be.hour24h,n);case"ko":return r.ordinalNumber(n,{unit:"hour"});default:return Le(i.length,n)}}validate(n,i){return i>=1&&i<=24}set(n,i,r){const s=r<=24?r%24:r;return n.setHours(s,0,0,0),n}}class BH extends le{constructor(){super(...arguments);I(this,"priority",60);I(this,"incompatibleTokens",["t","T"])}parse(n,i,r){switch(i){case"m":return Pe(Be.minute,n);case"mo":return r.ordinalNumber(n,{unit:"minute"});default:return Le(i.length,n)}}validate(n,i){return i>=0&&i<=59}set(n,i,r){return n.setMinutes(r,0,0),n}}class jH extends le{constructor(){super(...arguments);I(this,"priority",50);I(this,"incompatibleTokens",["t","T"])}parse(n,i,r){switch(i){case"s":return Pe(Be.second,n);case"so":return r.ordinalNumber(n,{unit:"second"});default:return Le(i.length,n)}}validate(n,i){return i>=0&&i<=59}set(n,i,r){return n.setSeconds(r,0),n}}class WH extends le{constructor(){super(...arguments);I(this,"priority",30);I(this,"incompatibleTokens",["t","T"])}parse(n,i){const r=s=>Math.trunc(s*Math.pow(10,-i.length+3));return je(Le(i.length,n),r)}set(n,i,r){return n.setMilliseconds(r),n}}class zH extends le{constructor(){super(...arguments);I(this,"priority",10);I(this,"incompatibleTokens",["t","T","x"])}parse(n,i){switch(i){case"X":return Un(zn.basicOptionalMinutes,n);case"XX":return Un(zn.basic,n);case"XXXX":return Un(zn.basicOptionalSeconds,n);case"XXXXX":return Un(zn.extendedOptionalSeconds,n);case"XXX":default:return Un(zn.extended,n)}}set(n,i,r){return i.timestampIsSet?n:fe(n,n.getTime()-dh(n)-r)}}class UH extends le{constructor(){super(...arguments);I(this,"priority",10);I(this,"incompatibleTokens",["t","T","X"])}parse(n,i){switch(i){case"x":return Un(zn.basicOptionalMinutes,n);case"xx":return Un(zn.basic,n);case"xxxx":return Un(zn.basicOptionalSeconds,n);case"xxxxx":return Un(zn.extendedOptionalSeconds,n);case"xxx":default:return Un(zn.extended,n)}}set(n,i,r){return i.timestampIsSet?n:fe(n,n.getTime()-dh(n)-r)}}class HH extends le{constructor(){super(...arguments);I(this,"priority",40);I(this,"incompatibleTokens","*")}parse(n){return PP(n)}set(n,i,r){return[fe(n,r*1e3),{timestampIsSet:!0}]}}class YH extends le{constructor(){super(...arguments);I(this,"priority",20);I(this,"incompatibleTokens","*")}parse(n){return PP(n)}set(n,i,r){return[fe(n,r),{timestampIsSet:!0}]}}const $H={G:new uH,y:new dH,Y:new hH,R:new fH,u:new pH,Q:new mH,q:new gH,M:new yH,L:new vH,w:new wH,I:new xH,d:new CH,D:new EH,E:new TH,e:new DH,c:new PH,i:new MH,a:new RH,b:new AH,B:new OH,h:new NH,H:new LH,K:new FH,k:new VH,m:new BH,s:new jH,S:new WH,X:new zH,x:new UH,t:new HH,T:new YH},KH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GH=/^'([^]*?)'?$/,QH=/''/g,XH=/\S/,JH=/[a-zA-Z]/;function ZH(t,e,n,i){var v,g,y,_,b,w,S,C;const r=()=>fe((i==null?void 0:i.in)||n,NaN),s=nH(),o=(i==null?void 0:i.locale)??s.locale??SP,a=(i==null?void 0:i.firstWeekContainsDate)??((g=(v=i==null?void 0:i.locale)==null?void 0:v.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((_=(y=s.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??1,l=(i==null?void 0:i.weekStartsOn)??((w=(b=i==null?void 0:i.locale)==null?void 0:b.options)==null?void 0:w.weekStartsOn)??s.weekStartsOn??((C=(S=s.locale)==null?void 0:S.options)==null?void 0:C.weekStartsOn)??0;if(!e)return t?r():z(n,i==null?void 0:i.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},u=[new cH(i==null?void 0:i.in,n)],d=e.match(qH).map(x=>{const E=x[0];if(E in Pg){const T=Pg[E];return T(x,o.formatLong)}return x}).join("").match(KH),h=[];for(let x of d){!(i!=null&&i.useAdditionalWeekYearTokens)&&TP(x)&&Ig(x,e,t),!(i!=null&&i.useAdditionalDayOfYearTokens)&&EP(x)&&Ig(x,e,t);const E=x[0],T=$H[E];if(T){const{incompatibleTokens:R}=T;if(Array.isArray(R)){const H=h.find(q=>R.includes(q.token)||q.token===E);if(H)throw new RangeError(`The format string mustn't contain \`${H.fullToken}\` and \`${x}\` at the same time`)}else if(T.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${x}\` and any other token at the same time`);h.push({token:E,fullToken:x});const N=T.run(t,x,o.match,c);if(!N)return r();u.push(N.setter),t=N.rest}else{if(E.match(JH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(x==="''"?x="'":E==="'"&&(x=e3(x)),t.indexOf(x)===0)t=t.slice(x.length);else return r()}}if(t.length>0&&XH.test(t))return r();const f=u.map(x=>x.priority).sort((x,E)=>E-x).filter((x,E,T)=>T.indexOf(x)===E).map(x=>u.filter(E=>E.priority===x).sort((E,T)=>T.subPriority-E.subPriority)).map(x=>x[0]);let p=z(n,i==null?void 0:i.in);if(isNaN(+p))return r();const m={};for(const x of f){if(!x.validate(p,c))return r();const E=x.set(p,m,c);Array.isArray(E)?(p=E[0],Object.assign(m,E[1])):p=E}return p}function e3(t){return t.match(GH)[1].replace(QH,"'")}function t3(t,e,n){const[i,r]=Vi(n==null?void 0:n.in,t,e);return i.getFullYear()===r.getFullYear()&&i.getMonth()===r.getMonth()}function n3(t,e,n){const[i,r]=Vi(n==null?void 0:n.in,t,e);return+Dg(i)==+Dg(r)}function i3(t,e,n){const[i,r]=Vi(n==null?void 0:n.in,t,e);return i.getFullYear()===r.getFullYear()}function Zl(t,e,n){const i=+z(t,n==null?void 0:n.in),[r,s]=[+z(e.start,n==null?void 0:n.in),+z(e.end,n==null?void 0:n.in)].sort((o,a)=>o-a);return i>=r&&i<=s}function RP(t,e,n){return Tn(t,-e,n)}function r3(t,e){const n=()=>fe(e==null?void 0:e.in,NaN),i=(e==null?void 0:e.additionalDigits)??2,r=l3(t);let s;if(r.date){const c=c3(r.date,i);s=u3(c.restDateString,c.year)}if(!s||isNaN(+s))return n();const o=+s;let a=0,l;if(r.time&&(a=d3(r.time),isNaN(a)))return n();if(r.timezone){if(l=h3(r.timezone),isNaN(l))return n()}else{const c=new Date(o+a),u=z(0,e==null?void 0:e.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return z(o+a+l,e==null?void 0:e.in)}const uu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},s3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,o3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,a3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function l3(t){const e={},n=t.split(uu.dateTimeDelimiter);let i;if(n.length>2)return e;if(/:/.test(n[0])?i=n[0]:(e.date=n[0],i=n[1],uu.timeZoneDelimiter.test(e.date)&&(e.date=t.split(uu.timeZoneDelimiter)[0],i=t.substr(e.date.length,t.length))),i){const r=uu.timezone.exec(i);r?(e.time=i.replace(r[1],""),e.timezone=r[1]):e.time=i}return e}function c3(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=t.match(n);if(!i)return{year:NaN,restDateString:""};const r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:s===null?r:s*100,restDateString:t.slice((i[1]||i[2]).length)}}function u3(t,e){if(e===null)return new Date(NaN);const n=t.match(s3);if(!n)return new Date(NaN);const i=!!n[4],r=Oa(n[1]),s=Oa(n[2])-1,o=Oa(n[3]),a=Oa(n[4]),l=Oa(n[5])-1;if(i)return y3(e,a,l)?f3(e,a,l):new Date(NaN);{const c=new Date(0);return!m3(e,s,o)||!g3(e,r)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(r,o)),c)}}function Oa(t){return t?parseInt(t):1}function d3(t){const e=t.match(o3);if(!e)return NaN;const n=Rp(e[1]),i=Rp(e[2]),r=Rp(e[3]);return v3(n,i,r)?n*Sf+i*xf+r*1e3:NaN}function Rp(t){return t&&parseFloat(t.replace(",","."))||0}function h3(t){if(t==="Z")return 0;const e=t.match(a3);if(!e)return 0;const n=e[1]==="+"?-1:1,i=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return _3(i,r)?n*(i*Sf+r*xf):NaN}function f3(t,e,n){const i=new Date(0);i.setUTCFullYear(t,0,4);const r=i.getUTCDay()||7,s=(e-1)*7+n+1-r;return i.setUTCDate(i.getUTCDate()+s),i}const p3=[31,null,31,30,31,30,31,31,30,31,30,31];function AP(t){return t%400===0||t%4===0&&t%100!==0}function m3(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(p3[e]||(AP(t)?29:28))}function g3(t,e){return e>=1&&e<=(AP(t)?366:365)}function y3(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function v3(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function _3(t,e){return e>=0&&e<=59}function tn(t,e,n){const i=z(t,n==null?void 0:n.in),r=i.getFullYear(),s=i.getDate(),o=fe((n==null?void 0:n.in)||t,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const a=tH(o);return i.setMonth(e,Math.min(s,a)),i}function Zu(t,e,n){const i=z(t,n==null?void 0:n.in);return i.setHours(e),i}function ed(t,e,n){const i=z(t,n==null?void 0:n.in);return i.setMinutes(e),i}function Zs(t,e,n){const i=z(t,n==null?void 0:n.in),r=Math.trunc(i.getMonth()/3)+1,s=e-r;return tn(i,i.getMonth()+s*3)}function td(t,e,n){const i=z(t,n==null?void 0:n.in);return i.setSeconds(e),i}function Bn(t,e,n){const i=z(t,n==null?void 0:n.in);return isNaN(+i)?fe((n==null?void 0:n.in)||t,NaN):(i.setFullYear(e),i)}function ms(t,e,n){return Mn(t,-e,n)}function OP(t,e,n){return o_(t,-e,n)}function ex(t,e,n){return hh(t,-e,n)}function Qo(t,e,n){return wi(t,-e,n)}const w3=t=>{const e=`https://youglish.com/pronounce/${t}/english/us`;window.open(e,"_blank")};function b3(t){return/[^a-zA-Z\s.,!?';:"()\-\u2019]/.test(t)}const x3=t=>{const e=`https://translate.google.com/?sl=zh-CN&tl=en&text=${t}&op=translate`;window.open(e,"_blank")},S3=t=>{const e=`https://pixabay.com/images/search/${t}/`;window.open(e,"_blank")};function d_(t){return t.replace(/[^a-zA-Z]/g,"")}const k3=async t=>{var e;try{const n=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${t}`);if(!n.ok)throw new Error("Network response was not ok");const i=await n.json();if(i&&i.length>0){const r={word:i[0].word,phonetic:((e=i[0].phonetics[0])==null?void 0:e.text)||"",EnglishDefinition:[""],exampleSentences:[""]};if(i[0].meanings){for(const s of i[0].meanings)if(s.definitions)for(const o of s.definitions)r.EnglishDefinition.push(o.definition),o.example&&r.exampleSentences.length<8&&r.exampleSentences.push(o.example)}return r}else return null}catch(n){return console.error("Error fetching word data:",n),null}};async function C3(t,e){const n=Tr(new Date,"yyyy-MM-dd"),i=Io(Oo,`users/${t}/dailyQueries/${n}/words`),r=Io(Oo,`users/${t}/dailyQueries/${n}/count`),s=Io(Oo,`users/${t}/allTimeQueries/${e}`),o=await mf(i);if(!(o.exists()&&o.val()[e]))try{await Cp(i,l=>l?(l[e]=!0,l):{[e]:!0}),await Cp(r,l=>l?l+1:1)}catch(l){throw console.error("Daily queries transaction failed:",l),l}try{await Cp(s,l=>(l||0)+1)}catch(l){throw console.error("All-time queries transaction failed:",l),l}}async function tx(t,e){const n=Io(Oo,`users/${t}/allTimeQueries`),i=oB(n,sB("count"),iB(e)),r=await mf(i);if(r.exists()){const s={};return Object.keys(r.val()).reverse().forEach(a=>{s[a]=r.val()[a]}),s}else return null}async function NP(t,e){const n=Io(Oo,`users/${t}/dailyQueries/${e}`),i=await mf(n);return i.exists()?i.val():null}async function E3(t,e){const n=new Date,i={},r=Array.from({length:e},(s,o)=>Tr(RP(n,o),"yyyy-MM-dd")).reverse();return await Promise.all(r.map(async s=>{const o=Io(Oo,`users/${t}/dailyQueries/${s}/count`),a=await mf(o);i[s]=a.exists()?a.val():0})),i}const T3=({word:t,phonetic:e,EnglishDefinitions:n,exampleSentences:i,onSearch:r})=>{const{play:s,stop:o}=kN(t),a=k.useCallback(()=>{o(),s()},[s,o]);k.useEffect(()=>o,[t,o]);const l=c=>{r(d_(c))};return D.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-4 relative",children:[D.jsxs("h2",{className:"text-6xl font-bold mb-2",children:[D.jsxs("span",{className:"cursor-pointer text-blue-500",children:[t," "," "]}),D.jsx("button",{className:"text-green-500 hover:text-green-700 focus:outline-none",onClick:()=>S3(t),children:D.jsx(cN,{className:"inline-block h-10 w-10"})})," ",D.jsx("button",{className:"text-red-500 hover:text-red-700 focus:outline-none",onClick:()=>w3(t),children:D.jsx(hN,{className:"inline-block h-12 w-12"})})," ",D.jsx("button",{className:"text-blue-500 hover:text-blue-700 focus:outline-none",onClick:a,children:D.jsx(uN,{className:"inline-block h-10 w-10"})})]}),D.jsx("p",{className:"text-gray-600 mb-2",children:e}),D.jsx("h4",{className:"text-2xl font-bold mb-2 py-8",children:"Meanings"}),D.jsx("ul",{children:n.map((c,u)=>D.jsxs("li",{className:"text-gray-800 mt-2",children:[u>0&&D.jsxs("span",{children:[" ",u," ","."," "]}),c.split(" ").map((d,h)=>D.jsxs("span",{className:"cursor-pointer hover:underline hover:text-blue-500",onClick:()=>l(d),children:[d," "," "]},h))]},u))}),i.length>1&&D.jsx("h4",{className:"text-2xl font-bold mb-2 py-8",children:"Example Sentences"}),D.jsx("ul",{children:i.map((c,u)=>D.jsxs("li",{className:"text-gray-800 mt-2",children:[u>0&&D.jsxs("span",{children:[" ",u," ","."," "]}),c.split(" ").map((d,h)=>D.jsxs("span",{className:"cursor-pointer hover:underline hover:text-blue-500",onClick:()=>l(d),children:[d," "," "]},h))]},u))})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ac(t){return t+.5|0}const er=(t,e,n)=>Math.max(Math.min(t,n),e);function qa(t){return er(Ac(t*2.55),0,255)}function vr(t){return er(Ac(t*255),0,255)}function ci(t){return er(Ac(t/2.55)/100,0,1)}function nx(t){return er(Ac(t*100),0,100)}const Xt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Rg=[..."0123456789ABCDEF"],D3=t=>Rg[t&15],P3=t=>Rg[(t&240)>>4]+Rg[t&15],du=t=>(t&240)>>4===(t&15),I3=t=>du(t.r)&&du(t.g)&&du(t.b)&&du(t.a);function M3(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Xt[t[1]]*17,g:255&Xt[t[2]]*17,b:255&Xt[t[3]]*17,a:e===5?Xt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Xt[t[1]]<<4|Xt[t[2]],g:Xt[t[3]]<<4|Xt[t[4]],b:Xt[t[5]]<<4|Xt[t[6]],a:e===9?Xt[t[7]]<<4|Xt[t[8]]:255})),n}const R3=(t,e)=>t<255?e(t):"";function A3(t){var e=I3(t)?D3:P3;return t?"#"+e(t.r)+e(t.g)+e(t.b)+R3(t.a,e):void 0}const O3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function LP(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function N3(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function L3(t,e,n){const i=LP(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function F3(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function h_(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=F3(n,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function f_(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(vr)}function p_(t,e,n){return f_(LP,t,e,n)}function V3(t,e,n){return f_(L3,t,e,n)}function B3(t,e,n){return f_(N3,t,e,n)}function FP(t){return(t%360+360)%360}function j3(t){const e=O3.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?qa(+e[5]):vr(+e[5]));const r=FP(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=V3(r,s,o):e[1]==="hsv"?i=B3(r,s,o):i=p_(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function W3(t,e){var n=h_(t);n[0]=FP(n[0]+e),n=p_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function z3(t){if(!t)return;const e=h_(t),n=e[0],i=nx(e[1]),r=nx(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${ci(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const ix={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},rx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function U3(){const t={},e=Object.keys(rx),n=Object.keys(ix);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,ix[s]);s=parseInt(rx[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let hu;function H3(t){hu||(hu=U3(),hu.transparent=[0,0,0,0]);const e=hu[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Y3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function $3(t){const e=Y3.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?qa(o):er(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?qa(i):er(i,0,255)),r=255&(e[4]?qa(r):er(r,0,255)),s=255&(e[6]?qa(s):er(s,0,255)),{r:i,g:r,b:s,a:n}}}function K3(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ci(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ap=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Js=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function q3(t,e,n){const i=Js(ci(t.r)),r=Js(ci(t.g)),s=Js(ci(t.b));return{r:vr(Ap(i+n*(Js(ci(e.r))-i))),g:vr(Ap(r+n*(Js(ci(e.g))-r))),b:vr(Ap(s+n*(Js(ci(e.b))-s))),a:t.a+n*(e.a-t.a)}}function fu(t,e,n){if(t){let i=h_(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=p_(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function VP(t,e){return t&&Object.assign(e||{},t)}function sx(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=vr(t[3]))):(e=VP(t,{r:0,g:0,b:0,a:1}),e.a=vr(e.a)),e}function G3(t){return t.charAt(0)==="r"?$3(t):j3(t)}class ec{constructor(e){if(e instanceof ec)return e;const n=typeof e;let i;n==="object"?i=sx(e):n==="string"&&(i=M3(e)||H3(e)||G3(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=VP(this._rgb);return e&&(e.a=ci(e.a)),e}set rgb(e){this._rgb=sx(e)}rgbString(){return this._valid?K3(this._rgb):void 0}hexString(){return this._valid?A3(this._rgb):void 0}hslString(){return this._valid?z3(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=q3(this._rgb,e._rgb,n)),this}clone(){return new ec(this.rgb)}alpha(e){return this._rgb.a=vr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ac(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return fu(this._rgb,2,e),this}darken(e){return fu(this._rgb,2,-e),this}saturate(e){return fu(this._rgb,1,e),this}desaturate(e){return fu(this._rgb,1,-e),this}rotate(e){return W3(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ri(){}const Q3=(()=>{let t=0;return()=>t++})();function se(t){return t==null}function Ce(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ae(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Je(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Vt(t,e){return Je(t)?t:e}function te(t,e){return typeof t>"u"?e:t}const X3=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ge(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function de(t,e,n,i){let r,s,o;if(Ce(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(ae(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function vh(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function _h(t){if(Ce(t))return t.map(_h);if(ae(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=_h(t[n[r]]);return e}return t}function BP(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function J3(t,e,n,i){if(!BP(t))return;const r=e[t],s=n[t];ae(r)&&ae(s)?tc(r,s,i):e[t]=_h(s)}function tc(t,e,n){const i=Ce(e)?e:[e],r=i.length;if(!ae(t))return t;n=n||{};const s=n.merger||J3;let o;for(let a=0;a<r;++a){if(o=i[a],!ae(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function yl(t,e){return tc(t,e,{merger:Z3})}function Z3(t,e,n){if(!BP(t))return;const i=e[t],r=n[t];ae(i)&&ae(r)?yl(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=_h(r))}const ox={"":t=>t,x:t=>t.x,y:t=>t.y};function e5(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function t5(t){const e=e5(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Xo(t,e){return(ox[e]||(ox[e]=t5(e)))(t)}function m_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const nc=t=>typeof t<"u",Pr=t=>typeof t=="function",ax=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function n5(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ze=Math.PI,dn=2*ze,i5=dn+ze,wh=Number.POSITIVE_INFINITY,r5=ze/180,Wt=ze/2,Wr=ze/4,lx=ze*2/3,tr=Math.log10,Gn=Math.sign;function vl(t,e,n){return Math.abs(t-e)<n}function cx(t){const e=Math.round(t);t=vl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(tr(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function s5(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function o5(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ic(t){return!o5(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function a5(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function jP(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function nr(t){return t*(ze/180)}function g_(t){return t*(180/ze)}function ux(t){if(!Je(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function l5(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*ze&&(s+=dn),{angle:s,distance:r}}function Ag(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function c5(t,e){return(t-e+i5)%dn-ze}function _n(t){return(t%dn+dn)%dn}function WP(t,e,n,i){const r=_n(t),s=_n(e),o=_n(n),a=_n(s-r),l=_n(o-r),c=_n(r-s),u=_n(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function zt(t,e,n){return Math.max(e,Math.min(n,t))}function u5(t){return zt(t,-32768,32767)}function ss(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function y_(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const os=(t,e,n,i)=>y_(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),d5=(t,e,n)=>y_(t,n,i=>t[i][e]>=n);function h5(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const zP=["push","pop","shift","splice","unshift"];function f5(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),zP.forEach(n=>{const i="_onData"+m_(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function dx(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(zP.forEach(s=>{delete t[s]}),delete t._chartjs)}function UP(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const HP=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function YP(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,HP.call(window,()=>{i=!1,t.apply(e,n)}))}}function p5(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const v_=t=>t==="start"?"left":t==="end"?"right":"center",ct=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,m5=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function g5(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:d,max:h,minDefined:f,maxDefined:p}=o.getUserBounds();if(f){if(r=Math.min(os(l,u,d).lo,n?i:os(e,u,o.getPixelForValue(d)).lo),c){const m=l.slice(0,r+1).reverse().findIndex(v=>!se(v[a.axis]));r-=Math.max(0,m)}r=zt(r,0,i-1)}if(p){let m=Math.max(os(l,o.axis,h,!0).hi+1,n?0:os(e,u,o.getPixelForValue(h),!0).hi+1);if(c){const v=l.slice(m-1).findIndex(g=>!se(g[a.axis]));m+=Math.max(0,v)}s=zt(m,r,i)-r}else s=i-r}return{start:r,count:s}}function y5(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const pu=t=>t===0||t===1,hx=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*dn/n)),fx=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*dn/n)+1,_l={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Wt)+1,easeOutSine:t=>Math.sin(t*Wt),easeInOutSine:t=>-.5*(Math.cos(ze*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>pu(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>pu(t)?t:hx(t,.075,.3),easeOutElastic:t=>pu(t)?t:fx(t,.075,.3),easeInOutElastic(t){return pu(t)?t:t<.5?.5*hx(t*2,.1125,.45):.5+.5*fx(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-_l.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?_l.easeInBounce(t*2)*.5:_l.easeOutBounce(t*2-1)*.5+.5};function __(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function px(t){return __(t)?t:new ec(t)}function Op(t){return __(t)?t:new ec(t).saturate(.5).darken(.1).hexString()}const v5=["x","y","borderWidth","radius","tension"],_5=["color","borderColor","backgroundColor"];function w5(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:_5},numbers:{type:"number",properties:v5}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function b5(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const mx=new Map;function x5(t,e){e=e||{};const n=t+JSON.stringify(e);let i=mx.get(n);return i||(i=new Intl.NumberFormat(t,e),mx.set(n,i)),i}function w_(t,e,n){return x5(e,n).format(t)}const $P={values(t){return Ce(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=S5(t,n)}const o=tr(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),w_(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(tr(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?$P.numeric.call(this,t,e,n):""}};function S5(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Cf={formatters:$P};function k5(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Cf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ls=Object.create(null),Og=Object.create(null);function wl(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function Np(t,e,n){return typeof e=="string"?tc(wl(t,e),n):tc(wl(t,""),e)}class C5{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Op(r.backgroundColor),this.hoverBorderColor=(i,r)=>Op(r.borderColor),this.hoverColor=(i,r)=>Op(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Np(this,e,n)}get(e){return wl(this,e)}describe(e,n){return Np(Og,e,n)}override(e,n){return Np(Ls,e,n)}route(e,n,i,r){const s=wl(this,e),o=wl(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return ae(l)?Object.assign({},c,l):te(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ne=new C5({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[w5,b5,k5]);function E5(t){return!t||se(t.size)||se(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function bh(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function T5(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,d,h;for(l=0;l<a;l++)if(d=n[l],d!=null&&!Ce(d))o=bh(t,r,s,o,d);else if(Ce(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!Ce(h)&&(o=bh(t,r,s,o,h));t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function zr(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function gx(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Ng(t,e,n,i){KP(t,e,n,i,null)}function KP(t,e,n,i,r){let s,o,a,l,c,u,d,h;const f=e.pointStyle,p=e.rotation,m=e.radius;let v=(p||0)*r5;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,m,0,0,dn):t.arc(n,i,m,0,dn),t.closePath();break;case"triangle":u=r?r/2:m,t.moveTo(n+Math.sin(v)*u,i-Math.cos(v)*m),v+=lx,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*m),v+=lx,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(v+Wr)*l,d=Math.cos(v+Wr)*(r?r/2-c:l),a=Math.sin(v+Wr)*l,h=Math.sin(v+Wr)*(r?r/2-c:l),t.arc(n-d,i-a,c,v-ze,v-Wt),t.arc(n+h,i-o,c,v-Wt,v),t.arc(n+d,i+a,c,v,v+Wt),t.arc(n-h,i+o,c,v+Wt,v+ze),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}v+=Wr;case"rectRot":d=Math.cos(v)*(r?r/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,h=Math.sin(v)*(r?r/2:m),t.moveTo(n-d,i-a),t.lineTo(n+h,i-o),t.lineTo(n+d,i+a),t.lineTo(n-h,i+o),t.closePath();break;case"crossRot":v+=Wr;case"cross":d=Math.cos(v)*(r?r/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,h=Math.sin(v)*(r?r/2:m),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o);break;case"star":d=Math.cos(v)*(r?r/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,h=Math.sin(v)*(r?r/2:m),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o),v+=Wr,d=Math.cos(v)*(r?r/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,h=Math.sin(v)*(r?r/2:m),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o);break;case"line":o=r?r/2:Math.cos(v)*m,a=Math.sin(v)*m,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(v)*(r?r/2:m),i+Math.sin(v)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function gi(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function b_(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function x_(t){t.restore()}function D5(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function P5(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function I5(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),se(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function M5(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function R5(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Fs(t,e,n,i,r,s={}){const o=Ce(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,I5(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&R5(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),se(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),M5(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function rc(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*ze,ze,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,ze,Wt,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Wt,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Wt,!0),t.lineTo(n+o.topLeft,i)}const A5=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,O5=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function N5(t,e){const n=(""+t).match(A5);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const L5=t=>+t||0;function qP(t,e){const n={},i=ae(e),r=i?Object.keys(e):e,s=ae(t)?i?o=>te(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=L5(s(o));return n}function GP(t){return qP(t,{top:"y",right:"x",bottom:"y",left:"x"})}function gs(t){return qP(t,["topLeft","topRight","bottomLeft","bottomRight"])}function mt(t){const e=GP(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ke(t,e){t=t||{},e=e||Ne.font;let n=te(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=te(t.style,e.style);i&&!(""+i).match(O5)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:te(t.family,e.family),lineHeight:N5(te(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:te(t.weight,e.weight),string:""};return r.string=E5(r),r}function mu(t,e,n,i){let r=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),n!==void 0&&Ce(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function F5(t,e,n){const{min:i,max:r}=t,s=X3(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Vr(t,e){return Object.assign(Object.create(t),e)}function S_(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=ZP("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>S_([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return XP(a,l,()=>Y5(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return vx(a).includes(l)},ownKeys(a){return vx(a)},set(a,l,c){const u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function Jo(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:QP(t,i),setContext:s=>Jo(t,s,n,i),override:s=>Jo(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return XP(s,o,()=>B5(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function QP(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Pr(n)?n:()=>n,isIndexable:Pr(i)?i:()=>i}}const V5=(t,e)=>t?t+m_(e):e,k_=(t,e)=>ae(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function XP(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function B5(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return Pr(a)&&o.isScriptable(e)&&(a=j5(e,a,t,n)),Ce(a)&&a.length&&(a=W5(e,a,t,o.isIndexable)),k_(e,a)&&(a=Jo(a,r,s&&s[e],o)),a}function j5(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),k_(t,l)&&(l=C_(r._scopes,r,t,l)),l}function W5(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(ae(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=C_(c,r,t,u);e.push(Jo(d,s,o&&o[t],a))}}return e}function JP(t,e,n){return Pr(t)?t(e,n):t}const z5=(t,e)=>t===!0?e:typeof t=="string"?Xo(e,t):void 0;function U5(t,e,n,i,r){for(const s of e){const o=z5(n,s);if(o){t.add(o);const a=JP(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function C_(t,e,n,i){const r=e._rootScopes,s=JP(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=yx(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=yx(a,o,s,l,i),l===null)?!1:S_(Array.from(a),[""],r,s,()=>H5(e,n,i))}function yx(t,e,n,i,r){for(;n;)n=U5(t,e,n,i,r);return n}function H5(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Ce(r)&&ae(n)?n:r||{}}function Y5(t,e,n,i){let r;for(const s of e)if(r=ZP(V5(s,t),n),typeof r<"u")return k_(t,r)?C_(n,i,t,r):r}function ZP(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function vx(t){let e=t._keys;return e||(e=t._keys=$5(t._scopes)),e}function $5(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const K5=Number.EPSILON||1e-14,Zo=(t,e)=>e<t.length&&!t[e].skip&&t[e],eI=t=>t==="x"?"y":"x";function q5(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=Ag(s,r),l=Ag(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,h=i*u;return{previous:{x:s.x-d*(o.x-r.x),y:s.y-d*(o.y-r.y)},next:{x:s.x+h*(o.x-r.x),y:s.y+h*(o.y-r.y)}}}function G5(t,e,n){const i=t.length;let r,s,o,a,l,c=Zo(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Zo(t,u+1),!(!l||!c)){if(vl(e[u],0,K5)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])}}function Q5(t,e,n="x"){const i=eI(n),r=t.length;let s,o,a,l=Zo(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Zo(t,c+1),!a)continue;const u=a[n],d=a[i];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${i}`]=d-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${i}`]=d+s*e[c])}}function X5(t,e="x"){const n=eI(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Zo(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Zo(t,o+1),!!l){if(c){const u=c[e]-l[e];r[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Gn(r[o-1])!==Gn(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}G5(t,r,s),Q5(t,s,e)}function gu(t,e,n){return Math.max(Math.min(t,n),e)}function J5(t,e){let n,i,r,s,o,a=gi(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&gi(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=gu(r.cp1x,e.left,e.right),r.cp1y=gu(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=gu(r.cp2x,e.left,e.right),r.cp2y=gu(r.cp2y,e.top,e.bottom)))}function Z5(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")X5(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=q5(c,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&J5(t,n)}function E_(){return typeof window<"u"&&typeof document<"u"}function T_(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function xh(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Ef=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function eY(t,e){return Ef(t).getPropertyValue(e)}const tY=["top","right","bottom","left"];function ys(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=tY[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const nY=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function iY(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(nY(r,s,t.target))a=r,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Xr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Ef(n),s=r.boxSizing==="border-box",o=ys(r,"padding"),a=ys(r,"border","width"),{x:l,y:c,box:u}=iY(t,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-d)/f*n.width/i),y:Math.round((c-h)/p*n.height/i)}}function rY(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&T_(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Ef(s),l=ys(a,"border","width"),c=ys(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=xh(a.maxWidth,s,"clientWidth"),r=xh(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||wh,maxHeight:r||wh}}const yu=t=>Math.round(t*10)/10;function sY(t,e,n,i){const r=Ef(t),s=ys(r,"margin"),o=xh(r.maxWidth,t,"clientWidth")||wh,a=xh(r.maxHeight,t,"clientHeight")||wh,l=rY(t,e,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const h=ys(r,"border","width"),f=ys(r,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=yu(Math.min(c,o,l.maxWidth)),u=yu(Math.min(u,a,l.maxHeight)),c&&!u&&(u=yu(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=yu(Math.floor(u*i))),{width:c,height:u}}function _x(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const oY=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};E_()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function wx(t,e){const n=eY(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Jr(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function aY(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function lY(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Jr(t,r,n),a=Jr(r,s,n),l=Jr(s,e,n),c=Jr(o,a,n),u=Jr(a,l,n);return Jr(c,u,n)}const cY=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},uY=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function No(t,e,n){return t?cY(e,n):uY()}function tI(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function nI(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function iI(t){return t==="angle"?{between:WP,compare:c5,normalize:_n}:{between:ss,compare:(e,n)=>e-n,normalize:e=>e}}function bx({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function dY(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=iI(i),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(e[c%l][i]),r,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function hY(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=iI(i),{start:u,end:d,loop:h,style:f}=dY(t,e,n),p=[];let m=!1,v=null,g,y,_;const b=()=>l(r,_,g)&&a(r,_)!==0,w=()=>a(s,g)===0||l(s,_,g),S=()=>m||b(),C=()=>!m||w();for(let x=u,E=u;x<=d;++x)y=e[x%o],!y.skip&&(g=c(y[i]),g!==_&&(m=l(g,r,s),v===null&&S()&&(v=a(g,r)===0?x:E),v!==null&&C()&&(p.push(bx({start:v,end:x,loop:h,count:o,style:f})),v=null),E=x,_=g));return v!==null&&p.push(bx({start:v,end:d,loop:h,count:o,style:f})),p}function fY(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=hY(i[r],t.points,e);s.length&&n.push(...s)}return n}function pY(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function mY(t,e,n,i){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function gY(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=pY(n,r,s,i);if(i===!0)return xx(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return xx(t,mY(n,o,l,c),n,e)}function xx(t,e,n,i){return!i||!i.setContext||!n?e:yY(t,e,n,i)}function yY(t,e,n,i){const r=t._chart.getContext(),s=Sx(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,d=e[0].start,h=d;function f(p,m,v,g){const y=a?-1:1;if(p!==m){for(p+=l;n[p%l].skip;)p-=y;for(;n[m%l].skip;)m+=y;p%l!==m%l&&(c.push({start:p%l,end:m%l,loop:v,style:g}),u=g,d=m%l)}}for(const p of e){d=a?d:p.start;let m=n[d%l],v;for(h=d+1;h<=p.end;h++){const g=n[h%l];v=Sx(i.setContext(Vr(r,{type:"segment",p0:m,p1:g,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),vY(v,u)&&f(d,h-1,p.loop,u),m=g,u=v}d<h-1&&f(d,h-1,p.loop,u)}return c}function Sx(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function vY(t,e){if(!e)return!1;const n=[],i=function(r,s){return __(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class _Y{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=HP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var si=new _Y;const kx="transparent",wY={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=px(t||kx),r=i.valid&&px(e||kx);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class bY{constructor(e,n,i,r){const s=n[i];r=mu([e.to,r,s,e.from]);const o=mu([e.from,s,r]);this._active=!0,this._fn=e.fn||wY[e.type||typeof o],this._easing=_l[e.easing]||_l.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=mu([e.to,n,r,e.from]),this._from=mu([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class rI{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ae(e))return;const n=Object.keys(Ne.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!ae(s))return;const o={};for(const a of n)o[a]=s[a];(Ce(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=SY(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&xY(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[c];let d=s[c];const h=i.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}s[c]=d=new bY(h,e,c,u),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return si.add(this._chart,i),!0}}function xY(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function SY(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Cx(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function kY(t,e,n){if(n===!1)return!1;const i=Cx(t,n),r=Cx(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function CY(t){let e,n,i,r;return ae(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function sI(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function Ex(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(u=!0,i.all)continue;break}c=t.values[l],Je(c)&&(s||e===0||Gn(e)===Gn(c))&&(e+=c)}return!u&&!i.all?0:e}function EY(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[s]:t[u]};return a}function Lp(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function TY(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function DY(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function PY(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Tx(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function Dx(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=TY(s,o,i),d=e.length;let h;for(let f=0;f<d;++f){const p=e[f],{[l]:m,[c]:v}=p,g=p._stacks||(p._stacks={});h=g[c]=PY(r,u,m),h[a]=v,h._top=Tx(h,o,!0,i.type),h._bottom=Tx(h,o,!1,i.type);const y=h._visualValues||(h._visualValues={});y[a]=v}}function Fp(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function IY(t,e){return Vr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function MY(t,e,n){return Vr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Na(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Vp=t=>t==="reset"||t==="none",Px=(t,e)=>e?t:Object.assign({},t),RY=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:sI(n,!0),values:null};class Lo{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Lp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Na(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(d,h,f,p)=>d==="x"?h:d==="r"?p:f,s=n.xAxisID=te(i.xAxisID,Fp(e,"x")),o=n.yAxisID=te(i.yAxisID,Fp(e,"y")),a=n.rAxisID=te(i.rAxisID,Fp(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),u=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&dx(this._data,this),e._stacked&&Na(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(ae(n)){const r=this._cachedMeta;this._data=EY(n,r)}else if(i!==n){if(i){dx(i,this);const r=this._cachedMeta;Na(r),r._parsed=[]}n&&Object.isExtensible(n)&&f5(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=Lp(n.vScale,n),n.stack!==i.stack&&(r=!0,Na(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(Dx(this,n._parsed),n._stacked=Lp(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,d,h;if(this._parsing===!1)i._parsed=r,i._sorted=!0,h=r;else{Ce(r[e])?h=this.parseArrayData(i,r,e,n):ae(r[e])?h=this.parseObjectData(i,r,e,n):h=this.parsePrimitiveData(i,r,e,n);const f=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);i._sorted=l}o&&Dx(this,h)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,d=new Array(r);let h,f,p;for(h=0,f=r;h<f;++h)p=h+i,d[h]={[a]:u||s.parse(c[p],p),[l]:o.parse(n[p],p)};return d}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,c,u,d;for(l=0,c=r;l<c;++l)u=l+i,d=n[u],a[l]={x:s.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,d,h,f;for(u=0,d=r;u<d;++u)h=u+i,f=n[h],c[u]={x:s.parse(Xo(f,a),h),y:o.parse(Xo(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:sI(r,!0),values:n._stacks[e.axis]._visualValues};return Ex(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=Ex(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=RY(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=DY(a);let h,f;function p(){f=r[h];const m=f[a.axis];return!Je(f[e.axis])||u>m||d<m}for(h=0;h<o&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),s));++h);if(s){for(h=o-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],Je(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=CY(te(this.options.clip,kY(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const d=r[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=MY(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=IY(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&nc(i);if(a)return Px(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Ne.elements[e]),p=()=>this.getContext(i,r,n),m=c.resolveNamedOptions(h,f,p,d);return m.$shared&&(m.$shared=l,s[o]=Object.freeze(Px(m,l))),m}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,i,n))}const c=new rI(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Vp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){Vp(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Vp(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Na(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}I(Lo,"defaults",{}),I(Lo,"datasetElementType",null),I(Lo,"dataElementType",null);function AY(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=UP(i.sort((r,s)=>r-s))}return t._cache.$bar}function OY(t){const e=t.iScale,n=AY(e,t.type);let i=e._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(nc(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function NY(t,e,n,i){const r=n.barThickness;let s,o;return se(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function LY(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function FY(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function oI(t,e,n,i){return Ce(t)?FY(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Ix(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,d,h;for(c=n,u=n+i;c<u;++c)h=e[c],d={},d[r.axis]=a||r.parse(o[c],c),l.push(oI(h,d,s,c));return l}function Bp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function VY(t,e,n){return t!==0?Gn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function BY(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function jY(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=BY(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[Mx(u,o,a,l)]=!0,r=c)),s[Mx(r,o,a,l)]=!0,t.borderSkipped=s}function Mx(t,e,n,i){return i?(t=WY(t,e,n),t=Rx(t,n,e)):t=Rx(t,e,n),t}function WY(t,e,n){return t===e?n:t===n?e:t}function Rx(t,e,n){return t==="start"?e:t==="end"?n:t}function zY(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class nd extends Lo{parsePrimitiveData(e,n,i,r){return Ix(e,n,i,r)}parseArrayData(e,n,i,r){return Ix(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let h,f,p,m;for(h=i,f=i+r;h<f;++h)m=n[h],p={},p[s.axis]=s.parse(Xo(m,c),h),d.push(oI(Xo(m,u),p,o,h));return d}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),o=s._custom,a=Bp(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,r);for(let f=n;f<n+i;f++){const p=this.getParsed(f),m=s||se(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,u),g=(p._stacks||{})[a.axis],y={horizontal:c,base:m.base,enableBorderRadius:!g||Bp(p._custom)||o===g._top||o===g._bottom,x:c?m.head:v.center,y:c?v.center:m.head,height:c?v.size:Math.abs(m.size),width:c?Math.abs(m.size):v.size};h&&(y.options=d||this.resolveDataElementOptions(f,e[f].active?"active":r));const _=y.options||e[f].options;jY(y,_,g,o),zY(y,_,u.ratio),this.updateElement(e[f],f,y,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[i.axis],c=u=>{const d=u._parsed.find(f=>f[i.axis]===l),h=d&&d[u.vScale.axis];if(se(h)||isNaN(h))return!0};for(const u of r)if(!(n!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=e.barThickness;return{min:a||OY(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=Bp(c);let d=l[n.axis],h=0,f=i?this.applyStack(n,l,i):d,p,m;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&Gn(d)!==Gn(c.barEnd)&&(h=0),h+=d);const v=!se(s)&&!u?s:h;let g=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(h+f):p=g,m=p-g,Math.abs(m)<o){m=VY(m,n,a)*o,d===a&&(g-=m/2);const y=n.getPixelForDecimal(0),_=n.getPixelForDecimal(1),b=Math.min(y,_),w=Math.max(y,_);g=Math.max(Math.min(g,w),b),p=g+m,i&&!u&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(p)-n.getValueForPixel(g))}if(g===n.getPixelForValue(a)){const y=Gn(m)*n.getLineWidthForValue(a)/2;g+=y,m-=y}return{size:m,base:g,head:p,center:p+m/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,o=te(r.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=r.barThickness==="flex"?LY(e,n,r,c):NY(e,n,r,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}I(nd,"id","bar"),I(nd,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),I(nd,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class id extends Lo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=g5(n,r,o);this._drawStart=a,this._drawCount=l,y5(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,r),h=o.axis,f=a.axis,{spanGaps:p,segment:m}=this.options,v=ic(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||r==="none",y=n+i,_=e.length;let b=n>0&&this.getParsed(n-1);for(let w=0;w<_;++w){const S=e[w],C=g?S:{};if(w<n||w>=y){C.skip=!0;continue}const x=this.getParsed(w),E=se(x[f]),T=C[h]=o.getPixelForValue(x[h],w),R=C[f]=s||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[f],w);C.skip=isNaN(T)||isNaN(R)||E,C.stop=w>0&&Math.abs(x[h]-b[h])>v,m&&(C.parsed=x,C.raw=c.data[w]),d&&(C.options=u||this.resolveDataElementOptions(w,S.active?"active":r)),g||this.updateElement(S,w,C,r),b=x}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}I(id,"id","line"),I(id,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),I(id,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Ur(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class D_{constructor(e){I(this,"options");this.options=e||{}}static override(e){Object.assign(D_.prototype,e)}init(){}formats(){return Ur()}parse(){return Ur()}format(){return Ur()}add(){return Ur()}diff(){return Ur()}startOf(){return Ur()}endOf(){return Ur()}}var UY={_date:D_};function HY(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?d5:os;if(i){if(r._sharedOptions){const u=s[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(s,e,n-d),f=c(s,e,n+d);return{lo:h.lo,hi:f.hi}}}}else{const u=c(s,e,n);if(l){const{vScale:d}=r._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(m=>!se(m[d.axis]));u.lo-=Math.max(0,f);const p=h.slice(u.hi).findIndex(m=>!se(m[d.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:s.length-1}}function Oc(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:h}=HY(s[a],e,o,r);for(let f=d;f<=h;++f){const p=u[f];p.skip||i(p,c,f)}}}function YY(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function jp(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||Oc(t,n,e,function(a,l,c){!r&&!gi(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function $Y(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:d}=l5(o,{x:e.x,y:e.y});WP(d,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return Oc(t,n,e,s),r}function KY(t,e,n,i,r,s){let o=[];const a=YY(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,r);if(i&&!f)return;const p=u.getCenterPoint(r);if(!(!!s||t.isPointInArea(p))&&!f)return;const v=a(e,p);v<l?(o=[{element:u,datasetIndex:d,index:h}],l=v):v===l&&o.push({element:u,datasetIndex:d,index:h})}return Oc(t,n,e,c),o}function Wp(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?$Y(t,e,n,r):KY(t,e,n,i,r,s)}function Ax(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Oc(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var qY={evaluateInteractionItems:Oc,modes:{index(t,e,n,i){const r=Xr(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?jp(t,r,s,i,o):Wp(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const r=Xr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?jp(t,r,s,i,o):Wp(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const r=Xr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return jp(t,r,s,i,o)},nearest(t,e,n,i){const r=Xr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Wp(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=Xr(e,t);return Ax(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=Xr(e,t);return Ax(t,r,"y",n.intersect,i)}}};const aI=["left","top","right","bottom"];function La(t,e){return t.filter(n=>n.pos===e)}function Ox(t,e){return t.filter(n=>aI.indexOf(n.pos)===-1&&n.box.axis===e)}function Fa(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function GY(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function QY(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!aI.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function XY(t,e){const n=QY(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return n}function JY(t){const e=GY(t),n=Fa(e.filter(c=>c.box.fullSize),!0),i=Fa(La(e,"left"),!0),r=Fa(La(e,"right")),s=Fa(La(e,"top"),!0),o=Fa(La(e,"bottom")),a=Ox(e,"x"),l=Ox(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:La(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function Nx(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function lI(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ZY(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!ae(r)){n.size&&(t[r]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[r]+=n.size}s.getPadding&&lI(o,s.getPadding());const a=Math.max(0,e.outerWidth-Nx(o,t,"left","right")),l=Math.max(0,e.outerHeight-Nx(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function e$(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function t$(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function Ga(t,e,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,t$(a.horizontal,e));const{same:d,other:h}=ZY(e,n,a,i);c|=d&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&Ga(r,e,n,i)||u}function vu(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function Lx(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;nc(c.start)&&(o=c.start),l.fullSize?vu(l,r.left,o,n.outerWidth-r.right-r.left,h):vu(l,e.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,h=c.size||l.width;nc(c.start)&&(s=c.start),l.fullSize?vu(l,s,r.top,h,n.outerHeight-r.bottom-r.top):vu(l,s,e.top+c.placed,h,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var ln={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=mt(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=JY(t.boxes),l=a.vertical,c=a.horizontal;de(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,v)=>v.box.options&&v.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},r);lI(h,mt(i));const f=Object.assign({maxPadding:h,w:s,h:o,x:r.left,y:r.top},r),p=XY(l.concat(c),d);Ga(a.fullSize,f,d,p),Ga(l,f,d,p),Ga(c,f,d,p)&&Ga(l,f,d,p),e$(f),Lx(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,Lx(a.rightAndBottom,f,d,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},de(a.chartArea,m=>{const v=m.box;Object.assign(v,t.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class cI{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class n$ extends cI{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const rd="$chartjs",i$={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Fx=t=>t===null||t==="";function r$(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[rd]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Fx(r)){const s=wx(t,"width");s!==void 0&&(t.width=s)}if(Fx(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=wx(t,"height");s!==void 0&&(t.height=s)}return t}const uI=oY?{passive:!0}:!1;function s$(t,e,n){t&&t.addEventListener(e,n,uI)}function o$(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,uI)}function a$(t,e){const n=i$[t.type]||t.type,{x:i,y:r}=Xr(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Sh(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function l$(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Sh(a.addedNodes,i),o=o&&!Sh(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function c$(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Sh(a.removedNodes,i),o=o&&!Sh(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const sc=new Map;let Vx=0;function dI(){const t=window.devicePixelRatio;t!==Vx&&(Vx=t,sc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function u$(t,e){sc.size||window.addEventListener("resize",dI),sc.set(t,e)}function d$(t){sc.delete(t),sc.size||window.removeEventListener("resize",dI)}function h$(t,e,n){const i=t.canvas,r=i&&T_(i);if(!r)return;const s=YP((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),u$(t,s),o}function zp(t,e,n){n&&n.disconnect(),e==="resize"&&d$(t)}function f$(t,e,n){const i=t.canvas,r=YP(s=>{t.ctx!==null&&n(a$(s,t))},t);return s$(i,e,r),r}class p$ extends cI{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(r$(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[rd])return!1;const i=n[rd].initial;["height","width"].forEach(s=>{const o=i[s];se(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[rd],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:l$,detach:c$,resize:h$}[n]||f$;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:zp,detach:zp,resize:zp}[n]||o$)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return sY(e,n,i,r)}isAttached(e){const n=e&&T_(e);return!!(n&&n.isConnected)}}function m$(t){return!E_()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?n$:p$}var Lu;let Br=(Lu=class{constructor(){I(this,"x");I(this,"y");I(this,"active",!1);I(this,"options");I(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ic(this.x)&&ic(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},I(Lu,"defaults",{}),I(Lu,"defaultRoutes"),Lu);function g$(t,e){const n=t.options.ticks,i=y$(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?_$(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return w$(e,c,s,o/r),c;const u=v$(s,e,r);if(o>0){let d,h;const f=o>1?Math.round((l-a)/(o-1)):null;for(_u(e,c,u,se(f)?0:a-f,a),d=0,h=o-1;d<h;d++)_u(e,c,u,s[d],s[d+1]);return _u(e,c,u,l,se(f)?e.length:l+f),c}return _u(e,c,u),c}function y$(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function v$(t,e,n){const i=b$(t),r=e.length/n;if(!i)return Math.max(r,1);const s=s5(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function _$(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function w$(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function _u(t,e,n,i,r){const s=te(i,0),o=Math.min(te(r,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function b$(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const x$=t=>t==="left"?"right":t==="right"?"left":t,Bx=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,jx=(t,e)=>Math.min(e||t,t);function Wx(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function S$(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function k$(t,e){de(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function Va(t){return t.drawTicks?t.tickLength:0}function zx(t,e){if(!t.display)return 0;const n=Ke(t.font,e),i=mt(t.padding);return(Ce(t.text)?t.text.length:1)*n.lineHeight+i.height}function C$(t,e){return Vr(t,{scale:e,type:"scale"})}function E$(t,e,n){return Vr(t,{tick:n,index:e,type:"tick"})}function T$(t,e,n){let i=v_(t);return(n&&e!=="right"||!n&&e==="right")&&(i=x$(i)),i}function D$(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,p;const m=o-r,v=a-s;if(t.isHorizontal()){if(f=ct(i,s,a),ae(n)){const g=Object.keys(n)[0],y=n[g];p=u[g].getPixelForValue(y)+m-e}else n==="center"?p=(c.bottom+c.top)/2+m-e:p=Bx(t,n,e);h=a-s}else{if(ae(n)){const g=Object.keys(n)[0],y=n[g];f=u[g].getPixelForValue(y)-v+e}else n==="center"?f=(c.left+c.right)/2-v+e:f=Bx(t,n,e);p=ct(i,o,r),d=n==="left"?-Wt:Wt}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}class Ks extends Br{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Vt(e,Number.POSITIVE_INFINITY),n=Vt(n,Number.NEGATIVE_INFINITY),i=Vt(i,Number.POSITIVE_INFINITY),r=Vt(r,Number.NEGATIVE_INFINITY),{min:Vt(e,i),max:Vt(n,r),minDefined:Je(e),maxDefined:Je(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Vt(n,Vt(i,n)),max:Vt(i,Vt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ge(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=F5(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Wx(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=g$(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ge(this.options.afterUpdate,[this])}beforeSetDimensions(){ge(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ge(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ge(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ge(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=ge(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){ge(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ge(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=jx(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=zt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),d+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-Va(e.grid)-n.padding-zx(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=g_(Math.min(Math.asin(zt((u.highest.height+6)/a,-1,1)),Math.asin(zt(l/c,-1,1))-Math.asin(zt(h/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){ge(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ge(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=zx(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=Va(s)+l):(e.height=this.maxHeight,e.width=Va(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=i.padding*2,p=nr(this.labelRotation),m=Math.cos(p),v=Math.sin(p);if(a){const g=i.mirror?0:v*d.width+m*h.height;e.height=Math.min(this.maxHeight,e.height+g+f)}else{const g=i.mirror?0:m*d.width+v*h.height;e.width=Math.min(this.maxWidth,e.width+g+f)}this._calculatePadding(c,u,v,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=r*e.width,f=i*n.height):(h=i*e.height,f=r*n.width):s==="start"?f=n.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ge(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)se(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Wx(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/jx(n,i));let c=0,u=0,d,h,f,p,m,v,g,y,_,b,w;for(d=0;d<n;d+=l){if(p=e[d].label,m=this._resolveTickFontOptions(d),r.font=v=m.string,g=s[v]=s[v]||{data:{},gc:[]},y=m.lineHeight,_=b=0,!se(p)&&!Ce(p))_=bh(r,g.data,g.gc,_,p),b=y;else if(Ce(p))for(h=0,f=p.length;h<f;++h)w=p[h],!se(w)&&!Ce(w)&&(_=bh(r,g.data,g.gc,_,w),b+=y);o.push(_),a.push(b),c=Math.max(_,c),u=Math.max(b,u)}k$(s,n);const S=o.indexOf(c),C=a.indexOf(u),x=E=>({width:o[E]||0,height:a[E]||0});return{first:x(0),last:x(n-1),widest:x(S),highest:x(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return u5(this._alignToPixels?zr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=E$(this.getContext(),e,i))}return this.$context||(this.$context=C$(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=nr(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=Va(s),f=[],p=a.setContext(this.getContext()),m=p.display?p.width:0,v=m/2,g=function(B){return zr(i,B,m)};let y,_,b,w,S,C,x,E,T,R,N,H;if(o==="top")y=g(this.bottom),C=this.bottom-h,E=y-v,R=g(e.top)+v,H=e.bottom;else if(o==="bottom")y=g(this.top),R=e.top,H=g(e.bottom)-v,C=y+v,E=this.top+h;else if(o==="left")y=g(this.right),S=this.right-h,x=y-v,T=g(e.left)+v,N=e.right;else if(o==="right")y=g(this.left),T=e.left,N=g(e.right)-v,S=y+v,x=this.left+h;else if(n==="x"){if(o==="center")y=g((e.top+e.bottom)/2+.5);else if(ae(o)){const B=Object.keys(o)[0],F=o[B];y=g(this.chart.scales[B].getPixelForValue(F))}R=e.top,H=e.bottom,C=y+v,E=C+h}else if(n==="y"){if(o==="center")y=g((e.left+e.right)/2);else if(ae(o)){const B=Object.keys(o)[0],F=o[B];y=g(this.chart.scales[B].getPixelForValue(F))}S=y-v,x=S-h,T=e.left,N=e.right}const q=te(r.ticks.maxTicksLimit,d),U=Math.max(1,Math.ceil(d/q));for(_=0;_<d;_+=U){const B=this.getContext(_),F=s.setContext(B),M=a.setContext(B),V=F.lineWidth,W=F.color,G=M.dash||[],we=M.dashOffset,On=F.tickWidth,gt=F.tickColor,ii=F.tickBorderDash||[],yt=F.tickBorderDashOffset;b=S$(this,_,l),b!==void 0&&(w=zr(i,b,V),c?S=x=T=N=w:C=E=R=H=w,f.push({tx1:S,ty1:C,tx2:x,ty2:E,x1:T,y1:R,x2:N,y2:H,width:V,color:W,borderDash:G,borderDashOffset:we,tickWidth:On,tickColor:gt,tickBorderDash:ii,tickBorderDashOffset:yt}))}return this._ticksLength=d,this._borderValue=y,f}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,h=Va(i.grid),f=h+u,p=d?-u:f,m=-nr(this.labelRotation),v=[];let g,y,_,b,w,S,C,x,E,T,R,N,H="middle";if(r==="top")S=this.bottom-p,C=this._getXAxisLabelAlignment();else if(r==="bottom")S=this.top+p,C=this._getXAxisLabelAlignment();else if(r==="left"){const U=this._getYAxisLabelAlignment(h);C=U.textAlign,w=U.x}else if(r==="right"){const U=this._getYAxisLabelAlignment(h);C=U.textAlign,w=U.x}else if(n==="x"){if(r==="center")S=(e.top+e.bottom)/2+f;else if(ae(r)){const U=Object.keys(r)[0],B=r[U];S=this.chart.scales[U].getPixelForValue(B)+f}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")w=(e.left+e.right)/2-f;else if(ae(r)){const U=Object.keys(r)[0],B=r[U];w=this.chart.scales[U].getPixelForValue(B)}C=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?H="top":l==="end"&&(H="bottom"));const q=this._getLabelSizes();for(g=0,y=a.length;g<y;++g){_=a[g],b=_.label;const U=s.setContext(this.getContext(g));x=this.getPixelForTick(g)+s.labelOffset,E=this._resolveTickFontOptions(g),T=E.lineHeight,R=Ce(b)?b.length:1;const B=R/2,F=U.color,M=U.textStrokeColor,V=U.textStrokeWidth;let W=C;o?(w=x,C==="inner"&&(g===y-1?W=this.options.reverse?"left":"right":g===0?W=this.options.reverse?"right":"left":W="center"),r==="top"?c==="near"||m!==0?N=-R*T+T/2:c==="center"?N=-q.highest.height/2-B*T+T:N=-q.highest.height+T/2:c==="near"||m!==0?N=T/2:c==="center"?N=q.highest.height/2-B*T:N=q.highest.height-R*T,d&&(N*=-1),m!==0&&!U.showLabelBackdrop&&(w+=T/2*Math.sin(m))):(S=x,N=(1-R)*T/2);let G;if(U.showLabelBackdrop){const we=mt(U.backdropPadding),On=q.heights[g],gt=q.widths[g];let ii=N-we.top,yt=0-we.left;switch(H){case"middle":ii-=On/2;break;case"bottom":ii-=On;break}switch(C){case"center":yt-=gt/2;break;case"right":yt-=gt;break;case"inner":g===y-1?yt-=gt:g>0&&(yt-=gt/2);break}G={left:yt,top:ii,width:gt+we.width,height:On+we.height,color:U.backdropColor}}v.push({label:b,font:E,textOffset:N,options:{rotation:m,color:F,strokeColor:M,strokeWidth:V,textAlign:W,textBaseline:H,translation:[w,S],backdrop:G}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-nr(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=zr(e,this.left,o)-o/2,u=zr(e,this.right,a)+a/2,d=h=l):(d=zr(e,this.top,o)-o/2,h=zr(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&b_(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Fs(i,c,0,u,l,a)}r&&x_(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=Ke(i.font),o=mt(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||ae(n)?(l+=o.bottom,Ce(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=D$(this,l,n,a);Fs(e,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:h,textAlign:T$(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=te(e.grid&&e.grid.z,-1),r=te(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ks.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ke(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class wu{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;M$(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,P$(e,o,i),this.override&&Ne.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Ne[r]&&(delete Ne[r][i],this.override&&delete Ls[i])}}function P$(t,e,n){const i=tc(Object.create(null),[n?Ne.get(n):{},Ne.get(e),t.defaults]);Ne.set(e,i),t.defaultRoutes&&I$(e,t.defaultRoutes),t.descriptors&&Ne.describe(e,t.descriptors)}function I$(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Ne.route(s,r,l,a)})}function M$(t){return"id"in t&&"defaults"in t}class R${constructor(){this.controllers=new wu(Lo,"datasets",!0),this.elements=new wu(Br,"elements"),this.plugins=new wu(Object,"plugins"),this.scales=new wu(Ks,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):de(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=m_(e);ge(i["before"+r],[],i),n[e](i),ge(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Vn=new R$;class A${constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(ge(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=te(i.options&&i.options.plugins,{}),s=O$(i);return r===!1&&!n?[]:L$(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function O$(t){const e={},n=[],i=Object.keys(Vn.plugins.items);for(let s=0;s<i.length;s++)n.push(Vn.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function N$(t,e){return!e&&t===!1?null:t===!0?{}:t}function L$(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=N$(i[l],r);c!==null&&s.push({plugin:a,options:F$(t.config,{plugin:a,local:n[l]},c,o)})}return s}function F$(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Lg(t,e){const n=Ne.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function V$(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function B$(t,e){return t===e?"_index_":"_value_"}function Ux(t){if(t==="x"||t==="y"||t==="r")return t}function j$(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Fg(t,...e){if(Ux(t))return t;for(const n of e){const i=n.axis||j$(n.position)||t.length>1&&Ux(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Hx(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function W$(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Hx(t,"x",n[0])||Hx(t,"y",n[0])}return{}}function z$(t,e){const n=Ls[t.type]||{scales:{}},i=e.scales||{},r=Lg(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!ae(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Fg(o,a,W$(o,t),Ne.scales[a.type]),c=B$(l,r),u=n.scales||{};s[o]=yl(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Lg(a,e),u=(Ls[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=V$(d,l),f=o[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),yl(s[f],[{axis:h},i[f],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];yl(a,[Ne.scales[a.type],Ne.scale])}),s}function hI(t){const e=t.options||(t.options={});e.plugins=te(e.plugins,{}),e.scales=z$(t,e)}function fI(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function U$(t){return t=t||{},t.data=fI(t.data),hI(t),t}const Yx=new Map,pI=new Set;function bu(t,e){let n=Yx.get(t);return n||(n=e(),Yx.set(t,n),pI.add(n)),n}const Ba=(t,e,n)=>{const i=Xo(e,n);i!==void 0&&t.add(i)};class H${constructor(e){this._config=U$(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=fI(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),hI(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return bu(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return bu(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return bu(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return bu(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Ba(l,e,d))),u.forEach(d=>Ba(l,r,d)),u.forEach(d=>Ba(l,Ls[s]||{},d)),u.forEach(d=>Ba(l,Ne,d)),u.forEach(d=>Ba(l,Og,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),pI.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ls[n]||{},Ne.datasets[n]||{},{type:n},Ne,Og]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=$x(this._resolverCache,e,r);let l=o;if($$(o,n)){s.$shared=!1,i=Pr(i)?i():i;const c=this.createResolver(e,i,a);l=Jo(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=$x(this._resolverCache,e,i);return ae(n)?Jo(s,n,void 0,r):s}}function $x(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:S_(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const Y$=t=>ae(t)&&Object.getOwnPropertyNames(t).some(e=>Pr(t[e]));function $$(t,e){const{isScriptable:n,isIndexable:i}=QP(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(Pr(a)||Y$(a))||o&&Ce(a))return!0}return!1}var K$="4.4.8";const q$=["top","bottom","left","right","chartArea"];function Kx(t,e){return t==="top"||t==="bottom"||q$.indexOf(t)===-1&&e==="x"}function qx(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Gx(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ge(n&&n.onComplete,[t],e)}function G$(t){const e=t.chart,n=e.options.animation;ge(n&&n.onProgress,[t],e)}function mI(t){return E_()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const sd={},Qx=t=>{const e=mI(t);return Object.values(sd).filter(n=>n.canvas===e).pop()};function Q$(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function X$(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function xu(t,e,n){return t.options.clip?t[n]:e[n]}function J$(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:xu(n,e,"left"),right:xu(n,e,"right"),top:xu(i,e,"top"),bottom:xu(i,e,"bottom")}:e}var zi;let Tf=(zi=class{static register(...e){Vn.add(...e),Xx()}static unregister(...e){Vn.remove(...e),Xx()}constructor(e,n){const i=this.config=new H$(n),r=mI(e),s=Qx(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||m$(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Q3(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new A$,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=p5(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],sd[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}si.listen(this,"complete",Gx),si.listen(this,"progress",G$),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return se(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Vn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():_x(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gx(this.canvas,this.ctx),this}stop(){return si.stop(this),this}resize(e,n){si.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,_x(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ge(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};de(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Fg(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),de(s,o=>{const a=o.options,l=a.id,c=Fg(l,a),u=te(a.type,o.dtype);(a.position===void 0||Kx(a.position,c)!==Kx(o.dposition))&&(a.position=o.dposition),r[l]=!0;let d=null;if(l in i&&i[l].type===u)d=i[l];else{const h=Vn.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),de(r,(o,a)=>{o||delete i[a]}),de(i,o=>{ln.configure(this,o,o.options),ln.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(qx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||Lg(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Vn.getController(a),{datasetElementType:c,dataElementType:u}=Ne.datasets[a];Object.assign(l,{dataElementType:Vn.getElement(u),datasetElementType:c&&Vn.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){de(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!r&&s.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||de(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(qx("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){de(this.scales,e=>{ln.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!ax(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;Q$(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!ax(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ln.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],de(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Pr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(si.has(this)?this.attached&&!si.running(this)&&si.start(this):(this.draw(),Gx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,s=J$(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&b_(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&x_(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return gi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=qY.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Vr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);nc(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),si.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),gx(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete sd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};de(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){de(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},de(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!vh(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=n5(e),c=X$(e,this._lastEvent,i,l);i&&(this._lastEvent=null,ge(s.onHover,[e,a,this],this),l&&ge(s.onClick,[e,a,this],this));const u=!vh(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},I(zi,"defaults",Ne),I(zi,"instances",sd),I(zi,"overrides",Ls),I(zi,"registry",Vn),I(zi,"version",K$),I(zi,"getChart",Qx),zi);function Xx(){return de(Tf.instances,t=>t._plugins.invalidate())}function gI(t,e,n=e){t.lineCap=te(n.borderCapStyle,e.borderCapStyle),t.setLineDash(te(n.borderDash,e.borderDash)),t.lineDashOffset=te(n.borderDashOffset,e.borderDashOffset),t.lineJoin=te(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=te(n.borderWidth,e.borderWidth),t.strokeStyle=te(n.borderColor,e.borderColor)}function Z$(t,e,n){t.lineTo(n.x,n.y)}function e4(t){return t.stepped?D5:t.tension||t.cubicInterpolationMode==="monotone"?P5:Z$}function yI(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function t4(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=yI(r,n,i),u=e4(s);let{move:d=!0,reverse:h}=i||{},f,p,m;for(f=0;f<=c;++f)p=r[(a+(h?c-f:f))%o],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,m,p,h,s.stepped),m=p);return l&&(p=r[(a+(h?c:0))%o],u(t,m,p,h,s.stepped)),!!l}function n4(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=yI(r,n,i),{move:l=!0,reverse:c}=i||{};let u=0,d=0,h,f,p,m,v,g;const y=b=>(o+(c?a-b:b))%s,_=()=>{m!==v&&(t.lineTo(u,v),t.lineTo(u,m),t.lineTo(u,g))};for(l&&(f=r[y(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=r[y(h)],f.skip)continue;const b=f.x,w=f.y,S=b|0;S===p?(w<m?m=w:w>v&&(v=w),u=(d*u+b)/++d):(_(),t.lineTo(b,w),p=S,d=0,m=v=w),g=w}_()}function Vg(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?n4:t4}function i4(t){return t.stepped?aY:t.tension||t.cubicInterpolationMode==="monotone"?lY:Jr}function r4(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),gI(t,e.options),t.stroke(r)}function s4(t,e,n,i){const{segments:r,options:s}=e,o=Vg(e);for(const a of r)gI(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const o4=typeof Path2D=="function";function a4(t,e,n,i){o4&&!e.options.segment?r4(t,e,n,i):s4(t,e,n,i)}class Qa extends Br{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;Z5(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=gY(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=fY(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=i4(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:h}=o[c],f=s[d],p=s[h];if(f===p){a.push(f);continue}const m=Math.abs((r-f[n])/(p[n]-f[n])),v=l(f,p,m,i.stepped);v[n]=e[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Vg(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=Vg(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),a4(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}I(Qa,"id","line"),I(Qa,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),I(Qa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),I(Qa,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Jx(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class od extends Br{constructor(n){super();I(this,"parsed");I(this,"skip");I(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return Jx(this,n,"x",i)}inYRange(n,i){return Jx(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!gi(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Ng(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}I(od,"id","point"),I(od,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),I(od,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function vI(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-d,u=i+d):(d=s/2,a=n-d,l=n+d,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function ir(t,e,n,i){return t?0:zt(e,n,i)}function l4(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=GP(i);return{t:ir(r.top,s.top,0,n),r:ir(r.right,s.right,0,e),b:ir(r.bottom,s.bottom,0,n),l:ir(r.left,s.left,0,e)}}function c4(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=gs(r),o=Math.min(e,n),a=t.borderSkipped,l=i||ae(r);return{topLeft:ir(!l||a.top||a.left,s.topLeft,0,o),topRight:ir(!l||a.top||a.right,s.topRight,0,o),bottomLeft:ir(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:ir(!l||a.bottom||a.right,s.bottomRight,0,o)}}function u4(t){const e=vI(t),n=e.right-e.left,i=e.bottom-e.top,r=l4(t,n/2,i/2),s=c4(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Up(t,e,n,i){const r=e===null,s=n===null,a=t&&!(r&&s)&&vI(t,i);return a&&(r||ss(e,a.left,a.right))&&(s||ss(n,a.top,a.bottom))}function d4(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function h4(t,e){t.rect(e.x,e.y,e.w,e.h)}function Hp(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class ad extends Br{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=u4(this),a=d4(o.radius)?rc:h4;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,Hp(o,n,s)),e.clip(),a(e,Hp(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,Hp(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return Up(this,e,n,i)}inXRange(e,n){return Up(this,e,null,n)}inYRange(e,n){return Up(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}I(ad,"id","bar"),I(ad,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),I(ad,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Zx=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},f4=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class eS extends Br{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ge(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Ke(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Zx(i,s);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let d=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,m)=>{const v=i+n/2+s.measureText(p.text).width;(m===0||c[c.length-1]+v+2*a>o)&&(d+=u,c[c.length-(m>0?0:1)]=0,f+=u,h++),l[m]={left:0,top:f,row:h,width:v,height:r},c[c.length-1]+=v+a}),d}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,h=0,f=0,p=0,m=0;return this.legendItems.forEach((v,g)=>{const{itemWidth:y,itemHeight:_}=p4(i,n,s,v,r);g>0&&f+_+2*a>u&&(d+=h+a,c.push({width:h,height:f}),p+=h+a,m++,h=f=0),l[g]={left:p,top:f,col:m,width:y,height:_},h=Math.max(h,y),f+=_+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=No(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=ct(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=ct(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=ct(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=ct(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;b_(e,this),this._draw(),x_(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=Ne.color,l=No(e.rtl,this.left,this.width),c=Ke(o.font),{padding:u}=o,d=c.size,h=d/2;let f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:p,boxHeight:m,itemHeight:v}=Zx(o,d),g=function(S,C,x){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;r.save();const E=te(x.lineWidth,1);if(r.fillStyle=te(x.fillStyle,a),r.lineCap=te(x.lineCap,"butt"),r.lineDashOffset=te(x.lineDashOffset,0),r.lineJoin=te(x.lineJoin,"miter"),r.lineWidth=E,r.strokeStyle=te(x.strokeStyle,a),r.setLineDash(te(x.lineDash,[])),o.usePointStyle){const T={radius:m*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:E},R=l.xPlus(S,p/2),N=C+h;KP(r,T,R,N,o.pointStyleWidth&&p)}else{const T=C+Math.max((d-m)/2,0),R=l.leftForLtr(S,p),N=gs(x.borderRadius);r.beginPath(),Object.values(N).some(H=>H!==0)?rc(r,{x:R,y:T,w:p,h:m,radius:N}):r.rect(R,T,p,m),r.fill(),E!==0&&r.stroke()}r.restore()},y=function(S,C,x){Fs(r,x.text,S,C+v/2,c,{strikethrough:x.hidden,textAlign:l.textAlign(x.textAlign)})},_=this.isHorizontal(),b=this._computeTitleHeight();_?f={x:ct(s,this.left+u,this.right-i[0]),y:this.top+u+b,line:0}:f={x:this.left+u,y:ct(s,this.top+b+u,this.bottom-n[0].height),line:0},tI(this.ctx,e.textDirection);const w=v+u;this.legendItems.forEach((S,C)=>{r.strokeStyle=S.fontColor,r.fillStyle=S.fontColor;const x=r.measureText(S.text).width,E=l.textAlign(S.textAlign||(S.textAlign=o.textAlign)),T=p+h+x;let R=f.x,N=f.y;l.setWidth(this.width),_?C>0&&R+T+u>this.right&&(N=f.y+=w,f.line++,R=f.x=ct(s,this.left+u,this.right-i[f.line])):C>0&&N+w>this.bottom&&(R=f.x=R+n[f.line].width+u,f.line++,N=f.y=ct(s,this.top+b+u,this.bottom-n[f.line].height));const H=l.x(R);if(g(H,N,S),R=m5(E,R+p+h,_?R+T:this.right,e.rtl),y(l.x(R),N,S),_)f.x+=T+u;else if(typeof S.text!="string"){const q=c.lineHeight;f.y+=_I(S,q)+u}else f.y+=w}),nI(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Ke(n.font),r=mt(n.padding);if(!n.display)return;const s=No(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=ct(e.align,d,this.right-h);else{const p=this.columnSizes.reduce((m,v)=>Math.max(m,v.height),0);u=c+ct(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=ct(a,d,d+h);o.textAlign=s.textAlign(v_(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Fs(o,n.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,n=Ke(e.font),i=mt(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(ss(e,this.left,this.right)&&ss(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],ss(e,r.left,r.left+r.width)&&ss(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!y4(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=f4(r,i);r&&!s&&ge(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&ge(n.onHover,[e,i,this],this)}else i&&ge(n.onClick,[e,i,this],this)}}function p4(t,e,n,i,r){const s=m4(i,t,e,n),o=g4(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function m4(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function g4(t,e,n){let i=t;return typeof e.text!="string"&&(i=_I(e,n)),i}function _I(t,e){const n=t.text?t.text.length:0;return e*n}function y4(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var v4={id:"legend",_element:eS,start(t,e,n){const i=t.legend=new eS({ctx:t.ctx,options:n,chart:t});ln.configure(t,i,n),ln.addBox(t,i)},stop(t){ln.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;ln.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=mt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class wI extends Br{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Ce(i.text)?i.text.length:1;this._padding=mt(i.padding);const s=r*Ke(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=ct(a,i,s),d=n+e,c=s-i):(o.position==="left"?(u=i+e,d=ct(a,r,n),l=ze*-.5):(u=s-e,d=ct(a,n,r),l=ze*.5),c=r-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Ke(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Fs(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:v_(n.align),textBaseline:"middle",translation:[o,a]})}}function _4(t,e){const n=new wI({ctx:t.ctx,options:e,chart:t});ln.configure(t,n,e),ln.addBox(t,n),t.titleBlock=n}var w4={id:"title",_element:wI,start(t,e,n){_4(t,n)},stop(t){const e=t.titleBlock;ln.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;ln.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xa={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Ag(e,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Ln(t,e){return e&&(Ce(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function oi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function b4(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function tS(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Ke(e.bodyFont),c=Ke(e.titleFont),u=Ke(e.footerFont),d=s.length,h=r.length,f=i.length,p=mt(e.padding);let m=p.height,v=0,g=i.reduce((b,w)=>b+w.before.length+w.lines.length+w.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),g){const b=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=f*b+(g-f)*l.lineHeight+(g-1)*e.bodySpacing}h&&(m+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let y=0;const _=function(b){v=Math.max(v,n.measureText(b).width+y)};return n.save(),n.font=c.string,de(t.title,_),n.font=l.string,de(t.beforeBody.concat(t.afterBody),_),y=e.displayColors?o+2+e.boxPadding:0,de(i,b=>{de(b.before,_),de(b.lines,_),de(b.after,_)}),y=0,n.font=u.string,de(t.footer,_),n.restore(),v+=p.width,{width:v,height:m}}function x4(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function S4(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function k4(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),S4(c,t,e,n)&&(c="center"),c}function nS(t,e,n){const i=n.yAlign||e.yAlign||x4(t,n);return{xAlign:n.xAlign||e.xAlign||k4(t,e,n,i),yAlign:i}}function C4(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function E4(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function iS(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=gs(o);let p=C4(e,a);const m=E4(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,h)+r:a==="right"&&(p+=Math.max(d,f)+r),{x:zt(p,0,i.width-e.width),y:zt(m,0,i.height-e.height)}}function Su(t,e,n){const i=mt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function rS(t){return Ln([],oi(t))}function T4(t,e,n){return Vr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function sS(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const bI={beforeTitle:ri,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:ri,beforeBody:ri,beforeLabel:ri,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return se(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ri,afterBody:ri,beforeFooter:ri,footer:ri,afterFooter:ri};function Dt(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?bI[e].call(n,i):r}class Bg extends Br{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new rI(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=T4(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Dt(i,"beforeTitle",this,e),s=Dt(i,"title",this,e),o=Dt(i,"afterTitle",this,e);let a=[];return a=Ln(a,oi(r)),a=Ln(a,oi(s)),a=Ln(a,oi(o)),a}getBeforeBody(e,n){return rS(Dt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return de(e,s=>{const o={before:[],lines:[],after:[]},a=sS(i,s);Ln(o.before,oi(Dt(a,"beforeLabel",this,s))),Ln(o.lines,Dt(a,"label",this,s)),Ln(o.after,oi(Dt(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return rS(Dt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Dt(i,"beforeFooter",this,e),s=Dt(i,"footer",this,e),o=Dt(i,"afterFooter",this,e);let a=[];return a=Ln(a,oi(r)),a=Ln(a,oi(s)),a=Ln(a,oi(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(b4(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,h)=>e.filter(u,d,h,i))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,i))),de(a,u=>{const d=sS(e.callbacks,u);r.push(Dt(d,"labelColor",this,u)),s.push(Dt(d,"labelPointStyle",this,u)),o.push(Dt(d,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=Xa[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=tS(this,i),c=Object.assign({},a,l),u=nS(this.chart,i,c),d=iS(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=gs(a),{x:h,y:f}=e,{width:p,height:m}=n;let v,g,y,_,b,w;return s==="center"?(b=f+m/2,r==="left"?(v=h,g=v-o,_=b+o,w=b-o):(v=h+p,g=v+o,_=b-o,w=b+o),y=v):(r==="left"?g=h+Math.max(l,u)+o:r==="right"?g=h+p-Math.max(c,d)-o:g=this.caretX,s==="top"?(_=f,b=_-o,v=g-o,y=g+o):(_=f+m,b=_+o,v=g+o,y=g-o),w=_),{x1:v,x2:g,x3:y,y1:_,y2:b,y3:w}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=No(i.rtl,this.x,this.width);for(e.x=Su(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=Ke(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,u=Ke(s.bodyFont),d=Su(this,"left",s),h=r.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+f;if(s.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=r.leftForLtr(h,c)+c/2,g=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Ng(e,m,v,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Ng(e,m,v,g)}else{e.lineWidth=ae(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=r.leftForLtr(h,c),v=r.leftForLtr(r.xPlus(h,1),c-2),g=gs(o.borderRadius);Object.values(g).some(y=>y!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,rc(e,{x:m,y:p,w:c,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),rc(e,{x:v,y:p+1,w:c-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,p,c,l),e.strokeRect(m,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(v,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,d=Ke(i.bodyFont);let h=d.lineHeight,f=0;const p=No(i.rtl,this.x,this.width),m=function(x){n.fillText(x,p.x(e.x+f),e.y+h/2),e.y+=h+s},v=p.textAlign(o);let g,y,_,b,w,S,C;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Su(this,v,i),n.fillStyle=i.bodyColor,de(this.beforeBody,m),f=a&&v!=="right"?o==="center"?c/2+u:c+2+u:0,b=0,S=r.length;b<S;++b){for(g=r[b],y=this.labelTextColors[b],n.fillStyle=y,de(g.before,m),_=g.lines,a&&_.length&&(this._drawColorBox(n,e,b,p,i),h=Math.max(d.lineHeight,l)),w=0,C=_.length;w<C;++w)m(_[w]),h=d.lineHeight;de(g.after,m)}f=0,h=d.lineHeight,de(this.afterBody,m),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=No(i.rtl,this.x,this.width);for(e.x=Su(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=Ke(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=gs(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Xa[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=tS(this,e),l=Object.assign({},o,this._size),c=nS(n,e,l),u=iS(e,l,c,n);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=mt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),tI(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),nI(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!vh(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!vh(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=Xa[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}I(Bg,"positioners",Xa);var D4={id:"tooltip",_element:Bg,positioners:Xa,afterInit(t,e,n){n&&(t.tooltip=new Bg({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:bI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const P4=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function I4(t,e,n,i){const r=t.indexOf(e);if(r===-1)return P4(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const M4=(t,e)=>t===null?null:zt(Math.round(t),0,e);function oS(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class jg extends Ks{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(se(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:I4(i,e,te(n,e),this._addedLabels),M4(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return oS.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}I(jg,"id","category"),I(jg,"defaults",{ticks:{callback:oS}});function R4(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=s||1,p=u-1,{min:m,max:v}=e,g=!se(o),y=!se(a),_=!se(c),b=(v-m)/(d+1);let w=cx((v-m)/p/f)*f,S,C,x,E;if(w<1e-14&&!g&&!y)return[{value:m},{value:v}];E=Math.ceil(v/w)-Math.floor(m/w),E>p&&(w=cx(E*w/p/f)*f),se(l)||(S=Math.pow(10,l),w=Math.ceil(w*S)/S),r==="ticks"?(C=Math.floor(m/w)*w,x=Math.ceil(v/w)*w):(C=m,x=v),g&&y&&s&&a5((a-o)/s,w/1e3)?(E=Math.round(Math.min((a-o)/w,u)),w=(a-o)/E,C=o,x=a):_?(C=g?o:C,x=y?a:x,E=c-1,w=(x-C)/E):(E=(x-C)/w,vl(E,Math.round(E),w/1e3)?E=Math.round(E):E=Math.ceil(E));const T=Math.max(ux(w),ux(C));S=Math.pow(10,se(l)?T:l),C=Math.round(C*S)/S,x=Math.round(x*S)/S;let R=0;for(g&&(h&&C!==o?(n.push({value:o}),C<o&&R++,vl(Math.round((C+R*w)*S)/S,o,aS(o,b,t))&&R++):C<o&&R++);R<E;++R){const N=Math.round((C+R*w)*S)/S;if(y&&N>a)break;n.push({value:N})}return y&&h&&x!==a?n.length&&vl(n[n.length-1].value,a,aS(a,b,t))?n[n.length-1].value=a:n.push({value:a}):(!y||x===a)&&n.push({value:x}),n}function aS(t,e,{horizontal:n,minRotation:i}){const r=nr(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class kh extends Ks{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return se(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=Gn(r),c=Gn(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=R4(r,s);return e.bounds==="ticks"&&jP(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return w_(e,this.chart.options.locale,this.options.ticks.format)}}class Wg extends kh{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Je(e)?e:0,this.max=Je(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=nr(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}I(Wg,"id","linear"),I(Wg,"defaults",{ticks:{callback:Cf.formatters.numeric}});const oc=t=>Math.floor(tr(t)),Hr=(t,e)=>Math.pow(10,oc(t)+e);function lS(t){return t/Math.pow(10,oc(t))===1}function cS(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function A4(t,e){const n=e-t;let i=oc(n);for(;cS(t,e,i)>10;)i++;for(;cS(t,e,i)<10;)i--;return Math.min(i,oc(t))}function O4(t,{min:e,max:n}){e=Vt(t.min,e);const i=[],r=oc(e);let s=A4(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,s)),h=Vt(t.min,Math.round((l+u+d*Math.pow(10,s))*o)/o);for(;h<n;)i.push({value:h,major:lS(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),h=Math.round((l+u+d*Math.pow(10,s))*o)/o;const f=Vt(t.max,h);return i.push({value:f,major:lS(f),significand:d}),i}class uS extends Ks{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=kh.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Je(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Je(e)?Math.max(0,e):null,this.max=Je(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Je(this._userMin)&&(this.min=e===Hr(this.min,0)?Hr(this.min,-1):Hr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=a=>i=e?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(Hr(i,-1)),o(Hr(r,1)))),i<=0&&s(Hr(r,-1)),r<=0&&o(Hr(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=O4(n,this);return e.bounds==="ticks"&&jP(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":w_(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=tr(e),this._valueRange=tr(this.max)-tr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(tr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}I(uS,"id","logarithmic"),I(uS,"defaults",{ticks:{callback:Cf.formatters.logarithmic,major:{enabled:!0}}});function zg(t){const e=t.ticks;if(e.display&&t.display){const n=mt(e.backdropPadding);return te(e.font&&e.font.size,Ne.font.size)+n.height}return 0}function N4(t,e,n){return n=Ce(n)?n:[n],{w:T5(t,e.string,n),h:n.length*e.lineHeight}}function dS(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function L4(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?ze/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));r[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+r[l],a),d=Ke(c.font),h=N4(t.ctx,d,t._pointLabels[l]);i[l]=h;const f=_n(t.getIndexAngle(l)+a),p=Math.round(g_(f)),m=dS(p,u.x,h.w,0,180),v=dS(p,u.y,h.h,90,270);F4(n,e,f,m,v)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=j4(t,i,r)}function F4(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function V4(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,i+r+o,s),c=Math.round(g_(_n(l.angle+Wt))),u=U4(l.y,a.h,c),d=W4(c),h=z4(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function B4(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(gi({x:n,y:i},e)||gi({x:n,y:s},e)||gi({x:r,y:i},e)||gi({x:r,y:s},e))}function j4(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:zg(s)/2,additionalAngle:o?ze/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];const d=V4(t,u,l);i.push(d),a==="auto"&&(d.visible=B4(d,c),d.visible&&(c=d))}return i}function W4(t){return t===0||t===180?"center":t<180?"left":"right"}function z4(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function U4(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function H4(t,e,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!se(a)){const l=gs(e.borderRadius),c=mt(e.backdropPadding);t.fillStyle=a;const u=i-c.left,d=r-c.top,h=s-i+c.width,f=o-r+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),rc(t,{x:u,y:d,w:h,h:f,radius:l}),t.fill()):t.fillRect(u,d,h,f)}}function Y4(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const s=t._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(t.getPointLabelContext(r));H4(n,o,s);const a=Ke(o.font),{x:l,y:c,textAlign:u}=s;Fs(n,t._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function xI(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,dn);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function $4(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),xI(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function K4(t,e,n){return Vr(t,{label:n,index:e,type:"pointLabel"})}class ku extends kh{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=mt(zg(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Je(e)&&!isNaN(e)?e:0,this.max=Je(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/zg(this.options))}generateTickLabels(e){kh.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const r=ge(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?L4(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){const n=dn/(this._pointLabels.length||1),i=this.options.startAngle||0;return _n(e*n+nr(i))}getDistanceFromCenterForValue(e){if(se(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(se(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return K4(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const r=this.getIndexAngle(e)-Wt+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),xI(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&Y4(this,o),r.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),f=r.setContext(h),p=s.setContext(h);$4(this,f,l,o,p)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=Ke(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=mt(c.backdropPadding);e.fillRect(-o/2-d.left,-s-u.size/2-d.top,o+d.width,u.size+d.height)}Fs(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}I(ku,"id","radialLinear"),I(ku,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Cf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),I(ku,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),I(ku,"descriptors",{angleLines:{_fallback:"grid"}});const Df={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},It=Object.keys(Df);function hS(t,e){return t-e}function fS(t,e){if(se(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Je(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(ic(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function pS(t,e,n,i){const r=It.length;for(let s=It.indexOf(t);s<r-1;++s){const o=Df[It[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return It[s]}return It[r-1]}function q4(t,e,n,i,r){for(let s=It.length-1;s>=It.indexOf(n);s--){const o=It[s];if(Df[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return It[n?It.indexOf(n):0]}function G4(t){for(let e=It.indexOf(t)+1,n=It.length;e<n;++e)if(Df[It[e]].common)return It[e]}function mS(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=y_(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function Q4(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function gS(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:Q4(t,i,r,n)}class Ch extends Ks{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new UY._date(e.adapters.date);r.init(n),yl(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:fS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Je(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=Je(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=h5(r,s,o);return this._unit=n.unit||(i.autoSkip?pS(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):q4(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:G4(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),gS(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=zt(n,0,o),i=zt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||pS(s.minUnit,n,i,this._getLabelCapacity(n)),a=te(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=ic(l)||l===!0,u={};let d=n,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=r.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<i;h=+e.add(h,a,o),f++)mS(u,h,p);return(h===i||r.bounds==="ticks"||f===1)&&mS(u,h,p),Object.keys(u).sort(hS).map(m=>+m)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return ge(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=i[n],f=c&&d&&h&&h.major;return this._adapter.format(e,r||(f?d:u))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=nr(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,gS(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(fS(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return UP(e.sort(hS))}}I(Ch,"id","time"),I(Ch,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Cu(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=os(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=os(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class yS extends Ch{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Cu(n,this.min),this._tableRange=Cu(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Cu(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Cu(this._table,i*this._tableRange+this._minPos,!0)}}I(yS,"id","timeseries"),I(yS,"defaults",Ch.defaults);const SI="label";function vS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function X4(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function kI(t,e){t.labels=e}function CI(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:SI;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function J4(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SI;const n={labels:[],datasets:[]};return kI(n,t.labels),CI(n,t.datasets,e),n}function Z4(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...h}=t,f=k.useRef(null),p=k.useRef(null),m=()=>{f.current&&(p.current=new Tf(f.current,{type:o,data:J4(a,s),options:l&&{...l},plugins:c}),vS(e,p.current))},v=()=>{vS(e,null),p.current&&(p.current.destroy(),p.current=null)};return k.useEffect(()=>{!r&&p.current&&l&&X4(p.current,l)},[r,l]),k.useEffect(()=>{!r&&p.current&&kI(p.current.config.data,a.labels)},[r,a.labels]),k.useEffect(()=>{!r&&p.current&&a.datasets&&CI(p.current.config.data,a.datasets,s)},[r,a.datasets]),k.useEffect(()=>{p.current&&(r?(v(),setTimeout(m)):p.current.update(d))},[r,l,a.labels,a.datasets,d]),k.useEffect(()=>{p.current&&(v(),setTimeout(m))},[o]),k.useEffect(()=>(m(),()=>v()),[]),P.createElement("canvas",{ref:f,role:"img",height:n,width:i,...h},u)}const e6=k.forwardRef(Z4);function EI(t,e){return Tf.register(e),k.forwardRef((n,i)=>P.createElement(e6,{...n,ref:i,type:t}))}const t6=EI("line",id),n6=EI("bar",nd);Tf.register(jg,Wg,ad,od,Qa,w4,D4,v4);const i6=({todayWords:t,wordSearchCounts:e,dailyWordCounts:n,onSearch:i})=>{let r=Array.from(t),s=Array.from({length:5},(y,_)=>({date:`mockDay ${_+1}`,count:Math.floor(Math.random()*20)+5}));if(n)for(const y in n)s.push({date:y,count:n[y]});let o={};if(e)for(const y in e)o[y]=e[y];const a=Object.entries(o).sort(([,y],[,_])=>_-y).slice(0,15),l={labels:a.map(([y])=>y),datasets:[{label:"Query Frequency",data:a.map(([,y])=>y),backgroundColor:"rgba(54, 162, 235, 0.8)"}]},[c,u]=k.useState(10),d=k.useRef(null),h=y=>{u(parseInt(y.target.value,10))},f={labels:s.slice(-c).map(y=>y.date),datasets:[{label:"Daily Search Count",data:s.slice(-c).map(y=>y.count),fill:!1,borderColor:"rgba(75, 192, 192, 1)",tension:.1}]},[p,m]=k.useState("dailyWords"),v=[{id:"dailyWords",label:"Daily Search Words"},{id:"wordFrequency",label:"Word Search Frequency"},{id:"dailyQueryCount",label:"Daily Search Count"}],g=y=>{i(d_(y))};return D.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-4",children:[D.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Statistics"}),D.jsx("div",{className:"flex mb-4 justify-center items-center",children:v.map(y=>D.jsx("button",{className:`mr-4 px-4 py-2 rounded-lg ${p===y.id?"bg-blue-500 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,onClick:()=>m(y.id),children:y.label},y.id))}),D.jsxs("div",{children:[p==="dailyWords"&&D.jsxs("div",{children:[D.jsx("h3",{className:"text-lg font-semibold text-blue-500",children:"Daily Search Words"}),D.jsxs("span",{className:"text-gray-600",children:["Total: ",r.length]}),D.jsx("ul",{className:"columns-2 md:columns-3 gap-4 list-disc list-inside text-gray-600",children:r.map((y,_)=>D.jsx("li",{children:D.jsx("span",{className:"text-gray-600 cursor-pointer hover:underline hover:text-blue-500",onClick:()=>g(y),children:y})},_))})]}),p==="wordFrequency"&&D.jsxs("div",{children:[D.jsx("h3",{className:"text-lg font-semibold text-blue-500",children:"Word Search Frequency (Top 15)"}),D.jsx("ul",{className:"columns-2 md:columns-3 gap-4 list-disc list-inside text-gray-600",children:a.map(([y,_],b)=>D.jsxs("li",{children:[D.jsx("span",{className:"text-gray-600 cursor-pointer hover:underline hover:text-blue-500",onClick:()=>g(y),children:y}),": ",_]},b))}),D.jsx("div",{className:"mt-4",children:D.jsx(n6,{data:l})})]}),p==="dailyQueryCount"&&D.jsxs("div",{children:[D.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[D.jsx("h3",{className:"text-lg font-semibold text-blue-500",children:"Daily Search Count"}),D.jsxs("div",{className:"flex space-x-6",children:[D.jsx("label",{htmlFor:"xLabelsCount",className:"mr-2",children:"Show Days:"}),D.jsxs("select",{id:"xLabelsCount",value:c,onChange:h,children:[D.jsx("option",{value:5,children:"5"}),D.jsx("option",{value:10,children:"10"}),D.jsx("option",{value:30,children:"30"}),D.jsx("option",{value:50,children:"50"})]})]})]}),D.jsxs("div",{className:"mt-4",style:{overflowX:"auto"},children:[" ",D.jsx(t6,{data:f,ref:d})," "]})]})]})]})};function TI(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=TI(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function rt(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=TI(t))&&(i&&(i+=" "),i+=e);return i}function Pf(){return typeof window<"u"}function ga(t){return DI(t)?(t.nodeName||"").toLowerCase():"#document"}function $t(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ni(t){var e;return(e=(DI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function DI(t){return Pf()?t instanceof Node||t instanceof $t(t).Node:!1}function xt(t){return Pf()?t instanceof Element||t instanceof $t(t).Element:!1}function ei(t){return Pf()?t instanceof HTMLElement||t instanceof $t(t).HTMLElement:!1}function _S(t){return!Pf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $t(t).ShadowRoot}function Nc(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=pn(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function r6(t){return["table","td","th"].includes(ga(t))}function If(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function P_(t){const e=I_(),n=xt(t)?pn(t):t;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function s6(t){let e=Ir(t);for(;ei(e)&&!ea(e);){if(P_(e))return e;if(If(e))return null;e=Ir(e)}return null}function I_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ea(t){return["html","body","#document"].includes(ga(t))}function pn(t){return $t(t).getComputedStyle(t)}function Mf(t){return xt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ir(t){if(ga(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_S(t)&&t.host||ni(t);return _S(e)?e.host:e}function PI(t){const e=Ir(t);return ea(e)?t.ownerDocument?t.ownerDocument.body:t.body:ei(e)&&Nc(e)?e:PI(e)}function ac(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=PI(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),o=$t(r);if(s){const a=Ug(o);return e.concat(o,o.visualViewport||[],Nc(r)?r:[],a&&n?ac(a):[])}return e.concat(r,ac(r,[],n))}function Ug(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const ta=Math.min,vs=Math.max,Eh=Math.round,Eu=Math.floor,Qn=t=>({x:t,y:t}),o6={left:"right",right:"left",bottom:"top",top:"bottom"},a6={start:"end",end:"start"};function l6(t,e,n){return vs(t,ta(e,n))}function Rf(t,e){return typeof t=="function"?t(e):t}function na(t){return t.split("-")[0]}function Lc(t){return t.split("-")[1]}function c6(t){return t==="x"?"y":"x"}function M_(t){return t==="y"?"height":"width"}function lc(t){return["top","bottom"].includes(na(t))?"y":"x"}function R_(t){return c6(lc(t))}function u6(t,e,n){n===void 0&&(n=!1);const i=Lc(t),r=R_(t),s=M_(r);let o=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Th(o)),[o,Th(o)]}function d6(t){const e=Th(t);return[Hg(t),e,Hg(e)]}function Hg(t){return t.replace(/start|end/g,e=>a6[e])}function h6(t,e,n){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:i:e?i:r;case"left":case"right":return e?s:o;default:return[]}}function f6(t,e,n,i){const r=Lc(t);let s=h6(na(t),n==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(Hg)))),s}function Th(t){return t.replace(/left|right|bottom|top/g,e=>o6[e])}function p6(t){return{top:0,right:0,bottom:0,left:0,...t}}function II(t){return typeof t!="number"?p6(t):{top:t,right:t,bottom:t,left:t}}function Dh(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function wS(t,e,n){let{reference:i,floating:r}=t;const s=lc(e),o=R_(e),a=M_(o),l=na(e),c=s==="y",u=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,h=i[a]/2-r[a]/2;let f;switch(l){case"top":f={x:u,y:i.y-r.height};break;case"bottom":f={x:u,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:d};break;case"left":f={x:i.x-r.width,y:d};break;default:f={x:i.x,y:i.y}}switch(Lc(e)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1);break}return f}const m6=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:d}=wS(c,i,l),h=i,f={},p=0;for(let m=0;m<a.length;m++){const{name:v,fn:g}=a[m],{x:y,y:_,data:b,reset:w}=await g({x:u,y:d,initialPlacement:i,placement:h,strategy:r,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,d=_??d,f={...f,[v]:{...f[v],...b}},w&&p<=50&&(p++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(c=w.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):w.rects),{x:u,y:d}=wS(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:r,middlewareData:f}};async function g6(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Rf(e,t),p=II(f),v=a[h?d==="floating"?"reference":"floating":d],g=Dh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},w=Dh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:_,strategy:l}):y);return{top:(g.top-w.top+p.top)/b.y,bottom:(w.bottom-g.bottom+p.bottom)/b.y,left:(g.left-w.left+p.left)/b.x,right:(w.right-g.right+p.right)/b.x}}const y6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Rf(t,e)||{};if(c==null)return{};const d=II(u),h={x:n,y:i},f=R_(r),p=M_(f),m=await o.getDimensions(c),v=f==="y",g=v?"top":"left",y=v?"bottom":"right",_=v?"clientHeight":"clientWidth",b=s.reference[p]+s.reference[f]-h[f]-s.floating[p],w=h[f]-s.reference[f],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=S?S[_]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=a.floating[_]||s.floating[p]);const x=b/2-w/2,E=C/2-m[p]/2-1,T=ta(d[g],E),R=ta(d[y],E),N=T,H=C-m[p]-R,q=C/2-m[p]/2+x,U=l6(N,q,H),B=!l.arrow&&Lc(r)!=null&&q!==U&&s.reference[p]/2-(q<N?T:R)-m[p]/2<0,F=B?q<N?q-N:q-H:0;return{[f]:h[f]+F,data:{[f]:U,centerOffset:q-U-F,...B&&{alignmentOffset:F}},reset:B}}}),v6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...v}=Rf(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=na(r),y=lc(a),_=na(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=h||(_||!m?[Th(a)]:d6(a)),S=p!=="none";!h&&S&&w.push(...f6(a,m,p,b));const C=[a,...w],x=await g6(e,v),E=[];let T=((i=s.flip)==null?void 0:i.overflows)||[];if(u&&E.push(x[g]),d){const q=u6(r,o,b);E.push(x[q[0]],x[q[1]])}if(T=[...T,{placement:r,overflows:E}],!E.every(q=>q<=0)){var R,N;const q=(((R=s.flip)==null?void 0:R.index)||0)+1,U=C[q];if(U)return{data:{index:q,overflows:T},reset:{placement:U}};let B=(N=T.filter(F=>F.overflows[0]<=0).sort((F,M)=>F.overflows[1]-M.overflows[1])[0])==null?void 0:N.placement;if(!B)switch(f){case"bestFit":{var H;const F=(H=T.filter(M=>{if(S){const V=lc(M.placement);return V===y||V==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(V=>V>0).reduce((V,W)=>V+W,0)]).sort((M,V)=>M[1]-V[1])[0])==null?void 0:H[0];F&&(B=F);break}case"initialPlacement":B=a;break}if(r!==B)return{reset:{placement:B}}}return{}}}};async function _6(t,e){const{placement:n,platform:i,elements:r}=t,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=na(n),a=Lc(n),l=lc(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=Rf(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const w6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await _6(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}};function MI(t){const e=pn(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=ei(t),s=r?t.offsetWidth:n,o=r?t.offsetHeight:i,a=Eh(n)!==s||Eh(i)!==o;return a&&(n=s,i=o),{width:n,height:i,$:a}}function A_(t){return xt(t)?t:t.contextElement}function Fo(t){const e=A_(t);if(!ei(e))return Qn(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=MI(e);let o=(s?Eh(n.width):n.width)/i,a=(s?Eh(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const b6=Qn(0);function RI(t){const e=$t(t);return!I_()||!e.visualViewport?b6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function x6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==$t(t)?!1:e}function Vs(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=A_(t);let o=Qn(1);e&&(i?xt(i)&&(o=Fo(i)):o=Fo(t));const a=x6(s,n,i)?RI(s):Qn(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,d=r.height/o.y;if(s){const h=$t(s),f=i&&xt(i)?$t(i):i;let p=h,m=Ug(p);for(;m&&i&&f!==p;){const v=Fo(m),g=m.getBoundingClientRect(),y=pn(m),_=g.left+(m.clientLeft+parseFloat(y.paddingLeft))*v.x,b=g.top+(m.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=_,c+=b,p=$t(m),m=Ug(p)}}return Dh({width:u,height:d,x:l,y:c})}function O_(t,e){const n=Mf(t).scrollLeft;return e?e.left+n:Vs(ni(t)).left+n}function AI(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=i.left+e.scrollLeft-(n?0:O_(t,i)),s=i.top+e.scrollTop;return{x:r,y:s}}function S6(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const s=r==="fixed",o=ni(i),a=e?If(e.floating):!1;if(i===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Qn(1);const u=Qn(0),d=ei(i);if((d||!d&&!s)&&((ga(i)!=="body"||Nc(o))&&(l=Mf(i)),ei(i))){const f=Vs(i);c=Fo(i),u.x=f.x+i.clientLeft,u.y=f.y+i.clientTop}const h=o&&!d&&!s?AI(o,l,!0):Qn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function k6(t){return Array.from(t.getClientRects())}function C6(t){const e=ni(t),n=Mf(t),i=t.ownerDocument.body,r=vs(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=vs(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+O_(t);const a=-n.scrollTop;return pn(i).direction==="rtl"&&(o+=vs(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function E6(t,e){const n=$t(t),i=ni(t),r=n.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const c=I_();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function T6(t,e){const n=Vs(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=ei(t)?Fo(t):Qn(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function bS(t,e,n){let i;if(e==="viewport")i=E6(t,n);else if(e==="document")i=C6(ni(t));else if(xt(e))i=T6(e,n);else{const r=RI(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Dh(i)}function OI(t,e){const n=Ir(t);return n===e||!xt(n)||ea(n)?!1:pn(n).position==="fixed"||OI(n,e)}function D6(t,e){const n=e.get(t);if(n)return n;let i=ac(t,[],!1).filter(a=>xt(a)&&ga(a)!=="body"),r=null;const s=pn(t).position==="fixed";let o=s?Ir(t):t;for(;xt(o)&&!ea(o);){const a=pn(o),l=P_(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Nc(o)&&!l&&OI(t,o))?i=i.filter(u=>u!==o):r=a,o=Ir(o)}return e.set(t,i),i}function P6(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const o=[...n==="clippingAncestors"?If(e)?[]:D6(e,this._c):[].concat(n),i],a=o[0],l=o.reduce((c,u)=>{const d=bS(e,u,r);return c.top=vs(d.top,c.top),c.right=ta(d.right,c.right),c.bottom=ta(d.bottom,c.bottom),c.left=vs(d.left,c.left),c},bS(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function I6(t){const{width:e,height:n}=MI(t);return{width:e,height:n}}function M6(t,e,n){const i=ei(e),r=ni(e),s=n==="fixed",o=Vs(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Qn(0);if(i||!i&&!s)if((ga(e)!=="body"||Nc(r))&&(a=Mf(e)),i){const h=Vs(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else r&&(l.x=O_(r));const c=r&&!i&&!s?AI(r,a):Qn(0),u=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:o.width,height:o.height}}function Yp(t){return pn(t).position==="static"}function xS(t,e){if(!ei(t)||pn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ni(t)===n&&(n=n.ownerDocument.body),n}function NI(t,e){const n=$t(t);if(If(t))return n;if(!ei(t)){let r=Ir(t);for(;r&&!ea(r);){if(xt(r)&&!Yp(r))return r;r=Ir(r)}return n}let i=xS(t,e);for(;i&&r6(i)&&Yp(i);)i=xS(i,e);return i&&ea(i)&&Yp(i)&&!P_(i)?n:i||s6(t)||n}const R6=async function(t){const e=this.getOffsetParent||NI,n=this.getDimensions,i=await n(t.floating);return{reference:M6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function A6(t){return pn(t).direction==="rtl"}const O6={convertOffsetParentRelativeRectToViewportRelativeRect:S6,getDocumentElement:ni,getClippingRect:P6,getOffsetParent:NI,getElementRects:R6,getClientRects:k6,getDimensions:I6,getScale:Fo,isElement:xt,isRTL:A6};function LI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function N6(t,e){let n=null,i;const r=ni(t);function s(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(a||e(),!h||!f)return;const p=Eu(d),m=Eu(r.clientWidth-(u+h)),v=Eu(r.clientHeight-(d+f)),g=Eu(u),_={rootMargin:-p+"px "+-m+"px "+-v+"px "+-g+"px",threshold:vs(0,ta(1,l))||1};let b=!0;function w(S){const C=S[0].intersectionRatio;if(C!==l){if(!b)return o();C?o(!1,C):i=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!LI(c,t.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(w,{..._,root:r.ownerDocument})}catch{n=new IntersectionObserver(w,_)}n.observe(t)}return o(!0),s}function L6(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=A_(t),u=r||s?[...c?ac(c):[],...ac(e)]:[];u.forEach(g=>{r&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const d=c&&a?N6(c,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(g=>{let[y]=g;y&&y.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=f)==null||_.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let p,m=l?Vs(t):null;l&&v();function v(){const g=Vs(t);m&&!LI(m,g)&&n(),m=g,p=requestAnimationFrame(v)}return n(),()=>{var g;u.forEach(y=>{r&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),d==null||d(),(g=f)==null||g.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const F6=w6,V6=v6,SS=y6,B6=(t,e,n)=>{const i=new Map,r={platform:O6,...n},s={...r.platform,_c:i};return m6(t,e,{...r,platform:s})};var ld=typeof document<"u"?k.useLayoutEffect:k.useEffect;function Ph(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!Ph(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const s=r[i];if(!(s==="_owner"&&t.$$typeof)&&!Ph(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function FI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function kS(t,e){const n=FI(t);return Math.round(e*n)/n}function $p(t){const e=k.useRef(t);return ld(()=>{e.current=t}),e}function j6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=k.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=k.useState(i);Ph(h,i)||f(i);const[p,m]=k.useState(null),[v,g]=k.useState(null),y=k.useCallback(M=>{M!==S.current&&(S.current=M,m(M))},[]),_=k.useCallback(M=>{M!==C.current&&(C.current=M,g(M))},[]),b=s||p,w=o||v,S=k.useRef(null),C=k.useRef(null),x=k.useRef(u),E=l!=null,T=$p(l),R=$p(r),N=$p(c),H=k.useCallback(()=>{if(!S.current||!C.current)return;const M={placement:e,strategy:n,middleware:h};R.current&&(M.platform=R.current),B6(S.current,C.current,M).then(V=>{const W={...V,isPositioned:N.current!==!1};q.current&&!Ph(x.current,W)&&(x.current=W,ov.flushSync(()=>{d(W)}))})},[h,e,n,R,N]);ld(()=>{c===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,d(M=>({...M,isPositioned:!1})))},[c]);const q=k.useRef(!1);ld(()=>(q.current=!0,()=>{q.current=!1}),[]),ld(()=>{if(b&&(S.current=b),w&&(C.current=w),b&&w){if(T.current)return T.current(b,w,H);H()}},[b,w,H,T,E]);const U=k.useMemo(()=>({reference:S,floating:C,setReference:y,setFloating:_}),[y,_]),B=k.useMemo(()=>({reference:b,floating:w}),[b,w]),F=k.useMemo(()=>{const M={position:n,left:0,top:0};if(!B.floating)return M;const V=kS(B.floating,u.x),W=kS(B.floating,u.y);return a?{...M,transform:"translate("+V+"px, "+W+"px)",...FI(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:W}},[n,a,B.floating,u.x,u.y]);return k.useMemo(()=>({...u,update:H,refs:U,elements:B,floatingStyles:F}),[u,H,U,B,F])}const W6=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?SS({element:i.current,padding:r}).fn(n):{}:i?SS({element:i,padding:r}).fn(n):{}}}},z6=(t,e)=>({...F6(t),options:[t,e]}),U6=(t,e)=>({...V6(t),options:[t,e]}),H6=(t,e)=>({...W6(t),options:[t,e]}),VI={...CC},Y6=VI.useInsertionEffect,$6=Y6||(t=>t());function K6(t){const e=k.useRef(()=>{});return $6(()=>{e.current=t}),k.useCallback(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.current==null?void 0:e.current(...i)},[])}var Ih=typeof document<"u"?k.useLayoutEffect:k.useEffect;let CS=!1,q6=0;const ES=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+q6++;function G6(){const[t,e]=k.useState(()=>CS?ES():void 0);return Ih(()=>{t==null&&e(ES())},[]),k.useEffect(()=>{CS=!0},[]),t}const Q6=VI.useId,BI=Q6||G6,X6=k.forwardRef(function(e,n){const{context:{placement:i,elements:{floating:r},middlewareData:{arrow:s,shift:o}},width:a=14,height:l=7,tipRadius:c=0,strokeWidth:u=0,staticOffset:d,stroke:h,d:f,style:{transform:p,...m}={},...v}=e,g=BI(),[y,_]=k.useState(!1);if(Ih(()=>{if(!r)return;pn(r).direction==="rtl"&&_(!0)},[r]),!r)return null;const[b,w]=i.split("-"),S=b==="top"||b==="bottom";let C=d;(S&&o!=null&&o.x||!S&&o!=null&&o.y)&&(C=null);const x=u*2,E=x/2,T=a/2*(c/-8+1),R=l/2*c/4,N=!!f,H=C&&w==="end"?"bottom":"top";let q=C&&w==="end"?"right":"left";C&&y&&(q=w==="end"?"left":"right");const U=(s==null?void 0:s.x)!=null?C||s.x:"",B=(s==null?void 0:s.y)!=null?C||s.y:"",F=f||"M0,0"+(" H"+a)+(" L"+(a-T)+","+(l-R))+(" Q"+a/2+","+l+" "+T+","+(l-R))+" Z",M={top:N?"rotate(180deg)":"",left:N?"rotate(90deg)":"rotate(-90deg)",bottom:N?"":"rotate(180deg)",right:N?"rotate(-90deg)":"rotate(90deg)"}[b];return D.jsxs("svg",{...v,"aria-hidden":!0,ref:n,width:N?a:a+x,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[q]:U,[H]:B,[b]:S||N?"100%":"calc(100% - "+x/2+"px)",transform:[M,p].filter(V=>!!V).join(" "),...m},children:[x>0&&D.jsx("path",{clipPath:"url(#"+g+")",fill:"none",stroke:h,strokeWidth:x+(f?0:1),d:F}),D.jsx("path",{stroke:x&&!f?v.fill:"none",d:F}),D.jsx("clipPath",{id:g,children:D.jsx("rect",{x:-E,y:E*(N?-1:1),width:a+x,height:a})})]})});function J6(){const t=new Map;return{emit(e,n){var i;(i=t.get(e))==null||i.forEach(r=>r(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var i;t.set(e,((i=t.get(e))==null?void 0:i.filter(r=>r!==n))||[])}}}const Z6=k.createContext(null),e8=k.createContext(null),t8=()=>{var t;return((t=k.useContext(Z6))==null?void 0:t.id)||null},n8=()=>k.useContext(e8);function i8(t){const{open:e=!1,onOpenChange:n,elements:i}=t,r=BI(),s=k.useRef({}),[o]=k.useState(()=>J6()),a=t8()!=null,[l,c]=k.useState(i.reference),u=K6((f,p,m)=>{s.current.openEvent=f?p:void 0,o.emit("openchange",{open:f,event:p,reason:m,nested:a}),n==null||n(f,p,m)}),d=k.useMemo(()=>({setPositionReference:c}),[]),h=k.useMemo(()=>({reference:l||i.reference||null,floating:i.floating||null,domReference:i.reference}),[l,i.reference,i.floating]);return k.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:h,events:o,floatingId:r,refs:d}),[e,u,h,o,r,d])}function r8(t){t===void 0&&(t={});const{nodeId:e}=t,n=i8({...t,elements:{reference:null,floating:null,...t.elements}}),i=t.rootContext||n,r=i.elements,[s,o]=k.useState(null),[a,l]=k.useState(null),u=(r==null?void 0:r.domReference)||s,d=k.useRef(null),h=n8();Ih(()=>{u&&(d.current=u)},[u]);const f=j6({...t,elements:{...r,...a&&{reference:a}}}),p=k.useCallback(_=>{const b=xt(_)?{getBoundingClientRect:()=>_.getBoundingClientRect(),contextElement:_}:_;l(b),f.refs.setReference(b)},[f.refs]),m=k.useCallback(_=>{(xt(_)||_===null)&&(d.current=_,o(_)),(xt(f.refs.reference.current)||f.refs.reference.current===null||_!==null&&!xt(_))&&f.refs.setReference(_)},[f.refs]),v=k.useMemo(()=>({...f.refs,setReference:m,setPositionReference:p,domReference:d}),[f.refs,m,p]),g=k.useMemo(()=>({...f.elements,domReference:u}),[f.elements,u]),y=k.useMemo(()=>({...f,...i,refs:v,elements:g,nodeId:e}),[f,v,g,e,i]);return Ih(()=>{i.dataRef.current.floatingContext=y;const _=h==null?void 0:h.nodesRef.current.find(b=>b.id===e);_&&(_.context=y)}),k.useMemo(()=>({...f,context:y,refs:v,elements:g}),[f,v,g,y])}/*!
  react-datepicker v8.1.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Yg=function(e,n){return Yg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},Yg(e,n)};function tt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Yg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ie=function(){return ie=Object.assign||function(n){for(var i,r=1,s=arguments.length;r<s;r++){i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},ie.apply(this,arguments)};function Hn(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}var s8=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,i=t.showTime,r=i===void 0?!1:i,s=t.className,o=t.children,a=n?"Choose Time":"Choose Date".concat(r?" and Time":"");return P.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},o8=function(t,e){var n=k.useRef(null),i=k.useRef(t);i.current=t;var r=k.useCallback(function(s){var o,a=s.composed&&s.composedPath&&s.composedPath().find(function(l){return l instanceof Node})||s.target;n.current&&!n.current.contains(a)&&(e&&a instanceof HTMLElement&&a.classList.contains(e)||(o=i.current)===null||o===void 0||o.call(i,s))},[e]);return k.useEffect(function(){return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[r]),n},Af=function(t){var e=t.children,n=t.onClickOutside,i=t.className,r=t.containerRef,s=t.style,o=t.ignoreClass,a=o8(n,o);return P.createElement("div",{className:i,style:s,ref:function(l){a.current=l,r&&(r.current=l)}},e)},L;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(L||(L={}));function jI(){var t=typeof window<"u"?window:globalThis;return t}var Fc=12;function ce(t){if(t==null)return new Date;var e=typeof t=="string"?r3(t):z(t);return Of(e)?e:new Date}function Kp(t,e,n,i,r){r===void 0&&(r=ce());for(var s=ia(n)||ia(N_()),o=Array.isArray(e)?e:[e],a=0,l=o;a<l.length;a++){var c=l[a],u=ZH(t,c,r,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(Of(u)&&(!i||t===Te(u,c,n)))return u}return null}function Of(t,e){return fh(t)&&!Ns(t,new Date("1/1/1800"))}function Te(t,e,n){if(n==="en")return Tr(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var i=n?ia(n):void 0;return n&&!i&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),i=i||ia(N_()),Tr(t,e,{locale:i,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function en(t,e){var n=e.dateFormat,i=e.locale,r=Array.isArray(n)&&n.length>0?n[0]:n;return t&&Te(t,r,i)||""}function a8(t,e,n){if(!t)return"";var i=en(t,n),r=e?en(e,n):"";return"".concat(i," - ").concat(r)}function l8(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?en(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var i=en(t[1],e);return"".concat(n,", ").concat(i)}var r=t.length-1;return"".concat(n," (+").concat(r,")")}function qp(t,e){var n=e.hour,i=n===void 0?0:n,r=e.minute,s=r===void 0?0:r,o=e.second,a=o===void 0?0:o;return Zu(ed(td(t,a),s),i)}function c8(t){return a_(t)}function u8(t,e){return Te(t,"ddd",e)}function cd(t){return Os(t)}function _r(t,e,n){var i=ia(e||N_());return Oi(t,{locale:i,weekStartsOn:n})}function ki(t){return bP(t)}function Ja(t){return kf(t)}function TS(t){return Dg(t)}function DS(){return Os(ce())}function PS(t){return _P(t)}function d8(t){return lU(t)}function h8(t){return wP(t)}function jn(t,e){return t&&e?i3(t,e):!t&&!e}function _t(t,e){return t&&e?t3(t,e):!t&&!e}function Mh(t,e){return t&&e?n3(t,e):!t&&!e}function ne(t,e){return t&&e?oU(t,e):!t&&!e}function as(t,e){return t&&e?rH(t,e):!t&&!e}function Za(t,e,n){var i,r=Os(e),s=_P(n);try{i=Zl(t,{start:r,end:s})}catch{i=!1}return i}function N_(){var t=jI();return t.__localeId__}function ia(t){if(typeof t=="string"){var e=jI();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function f8(t,e,n){return e(Te(t,"EEEE",n))}function p8(t,e){return Te(t,"EEEEEE",e)}function m8(t,e){return Te(t,"EEE",e)}function L_(t,e){return Te(tn(ce(),t),"LLLL",e)}function WI(t,e){return Te(tn(ce(),t),"LLL",e)}function g8(t,e){return Te(Zs(ce(),t),"QQQ",e)}function sn(t,e){var n=e===void 0?{}:e,i=n.minDate,r=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,c=n.filterDate;return Vc(t,{minDate:i,maxDate:r})||s&&s.some(function(u){return u instanceof Date?ne(t,u):ne(t,u.date)})||o&&o.some(function(u){var d=u.start,h=u.end;return Zl(t,{start:d,end:h})})||a&&!a.some(function(u){return ne(t,u)})||l&&!l.some(function(u){var d=u.start,h=u.end;return Zl(t,{start:d,end:h})})||c&&!c(ce(t))||!1}function F_(t,e){var n=e===void 0?{}:e,i=n.excludeDates,r=n.excludeDateIntervals;return r&&r.length>0?r.some(function(s){var o=s.start,a=s.end;return Zl(t,{start:o,end:a})}):i&&i.some(function(s){var o;return s instanceof Date?ne(t,s):ne(t,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function zI(t,e){var n=e===void 0?{}:e,i=n.minDate,r=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return Vc(t,{minDate:i?bP(i):void 0,maxDate:r?wP(r):void 0})||(s==null?void 0:s.some(function(l){return _t(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return _t(t,l)})||a&&!a(ce(t))||!1}function Tu(t,e,n,i){var r=J(t),s=bt(t),o=J(e),a=bt(e),l=J(i);return r===o&&r===l?s<=n&&n<=a:r<o?l===r&&s<=n||l===o&&a>=n||l<o&&l>r:!1}function y8(t,e){var n=e===void 0?{}:e,i=n.minDate,r=n.maxDate,s=n.excludeDates,o=n.includeDates;return Vc(t,{minDate:i,maxDate:r})||s&&s.some(function(a){return _t(a instanceof Date?a:a.date,t)})||o&&!o.some(function(a){return _t(a,t)})||!1}function Du(t,e){var n=e===void 0?{}:e,i=n.minDate,r=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return Vc(t,{minDate:i,maxDate:r})||(s==null?void 0:s.some(function(l){return Mh(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return Mh(t,l)})||a&&!a(ce(t))||!1}function Pu(t,e,n){if(!e||!n||!fh(e)||!fh(n))return!1;var i=J(e),r=J(n);return i<=t&&r>=t}function ud(t,e){var n=e===void 0?{}:e,i=n.minDate,r=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate,l=new Date(t,0,1);return Vc(l,{minDate:i?kf(i):void 0,maxDate:r?xP(r):void 0})||(s==null?void 0:s.some(function(c){return jn(l,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return jn(l,c)})||a&&!a(ce(l))||!1}function Iu(t,e,n,i){var r=J(t),s=ps(t),o=J(e),a=ps(e),l=J(i);return r===o&&r===l?s<=n&&n<=a:r<o?l===r&&s<=n||l===o&&a>=n||l<o&&l>r:!1}function Vc(t,e){var n,i=e===void 0?{}:e,r=i.minDate,s=i.maxDate;return(n=r&&Go(t,r)<0||s&&Go(t,s)>0)!==null&&n!==void 0?n:!1}function IS(t,e){return e.some(function(n){return xi(n)===xi(t)&&Si(n)===Si(t)&&yr(n)===yr(t)})}function MS(t,e){var n=e===void 0?{}:e,i=n.excludeTimes,r=n.includeTimes,s=n.filterTime;return i&&IS(t,i)||r&&!IS(t,r)||s&&!s(t)||!1}function RS(t,e){var n=e.minTime,i=e.maxTime;if(!n||!i)throw new Error("Both minTime and maxTime props required");var r=ce();r=Zu(r,xi(t)),r=ed(r,Si(t)),r=td(r,yr(t));var s=ce();s=Zu(s,xi(n)),s=ed(s,Si(n)),s=td(s,yr(n));var o=ce();o=Zu(o,xi(i)),o=ed(o,Si(i)),o=td(o,yr(i));var a;try{a=!Zl(r,{start:s,end:o})}catch{a=!1}return a}function AS(t,e){var n=e===void 0?{}:e,i=n.minDate,r=n.includeDates,s=ms(t,1);return i&&ph(i,s)>0||r&&r.every(function(o){return ph(o,s)>0})||!1}function OS(t,e){var n=e===void 0?{}:e,i=n.maxDate,r=n.includeDates,s=Mn(t,1);return i&&ph(s,i)>0||r&&r.every(function(o){return ph(s,o)>0})||!1}function v8(t,e){var n=e===void 0?{}:e,i=n.minDate,r=n.includeDates,s=kf(t),o=OP(s,1);return i&&mh(i,o)>0||r&&r.every(function(a){return mh(a,o)>0})||!1}function _8(t,e){var n=e===void 0?{}:e,i=n.maxDate,r=n.includeDates,s=xP(t),o=o_(s,1);return i&&mh(o,i)>0||r&&r.every(function(a){return mh(o,a)>0})||!1}function NS(t,e){var n=e===void 0?{}:e,i=n.minDate,r=n.includeDates,s=Qo(t,1);return i&&gh(i,s)>0||r&&r.every(function(o){return gh(o,s)>0})||!1}function w8(t,e){var n=e===void 0?{}:e,i=n.minDate,r=n.yearItemNumber,s=r===void 0?Fc:r,o=Ja(Qo(t,s)),a=rr(o,s).endPeriod,l=i&&J(i);return l&&l>a||!1}function LS(t,e){var n=e===void 0?{}:e,i=n.maxDate,r=n.includeDates,s=wi(t,1);return i&&gh(s,i)>0||r&&r.every(function(o){return gh(s,o)>0})||!1}function b8(t,e){var n=e===void 0?{}:e,i=n.maxDate,r=n.yearItemNumber,s=r===void 0?Fc:r,o=wi(t,s),a=rr(o,s).startPeriod,l=i&&J(i);return l&&l<a||!1}function UI(t){var e=t.minDate,n=t.includeDates;if(n&&e){var i=n.filter(function(r){return Go(r,e)>=0});return Kb(i)}else return n?Kb(n):e}function HI(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var i=n.filter(function(r){return Go(r,e)<=0});return $b(i)}else return n?$b(n):e}function FS(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var i=new Map,r=0,s=t.length;r<s;r++){var o=t[r];if(bi(o)){var a=Te(o,"MM.dd.yyyy"),l=i.get(a)||[];l.includes(e)||(l.push(e),i.set(a,l))}else if(typeof o=="object"){var c=Object.keys(o),u=(n=c[0])!==null&&n!==void 0?n:"",d=o[u];if(typeof u=="string"&&Array.isArray(d))for(var h=0,f=d.length;h<f;h++){var p=d[h];if(p){var a=Te(p,"MM.dd.yyyy"),l=i.get(a)||[];l.includes(u)||(l.push(u),i.set(a,l))}}}}return i}function x8(t,e){return t.length!==e.length?!1:t.every(function(n,i){return n===e[i]})}function S8(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(i){var r=i.date,s=i.holidayName;if(bi(r)){var o=Te(r,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&x8(a.holidayNames,[s]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?Hn(Hn([],l,!0),[s],!1):[s],n.set(o,a)}}}),n}function k8(t,e,n,i,r){for(var s=r.length,o=[],a=0;a<s;a++){var l=t,c=r[a];c&&(l=nU(l,xi(c)),l=Tg(l,Si(c)),l=sU(l,yr(c)));var u=Tg(t,(n+1)*i);Dr(l,e)&&Ns(l,u)&&c!=null&&o.push(c)}return o}function VS(t){return t<10?"0".concat(t):"".concat(t)}function rr(t,e){e===void 0&&(e=Fc);var n=Math.ceil(J(t)/e)*e,i=n-(e-1);return{startPeriod:i,endPeriod:n}}function C8(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function BS(t){var e=t.getSeconds(),n=t.getMilliseconds();return z(t.getTime()-e*1e3-n)}function E8(t,e){return BS(t).getTime()===BS(e).getTime()}function jS(t){if(!bi(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function WS(t,e){if(!bi(t)||!bi(e))throw new Error("Invalid date received");var n=jS(t),i=jS(e);return Ns(n,i)}function YI(t){return t.key===L.Space}var T8=function(t){tt(e,t);function e(n){var i=t.call(this,n)||this;return i.inputRef=P.createRef(),i.onTimeChange=function(r){var s,o;i.setState({time:r});var a=i.props.date,l=a instanceof Date&&!isNaN(+a),c=l?a:new Date;if(r!=null&&r.includes(":")){var u=r.split(":"),d=u[0],h=u[1];c.setHours(Number(d)),c.setMinutes(Number(h))}(o=(s=i.props).onChange)===null||o===void 0||o.call(s,c)},i.renderTimeInput=function(){var r=i.state.time,s=i.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?k.cloneElement(l,{date:o,value:r,onChange:i.onTimeChange}):P.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:i.inputRef,onClick:function(){var c;(c=i.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:r,onChange:function(c){i.onTimeChange(c.target.value||a)}})},i.state={time:i.props.timeString},i}return e.getDerivedStateFromProps=function(n,i){return n.timeString!==i.time?{time:n.timeString}:null},e.prototype.render=function(){return P.createElement("div",{className:"react-datepicker__input-time-container"},P.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),P.createElement("div",{className:"react-datepicker-time__input-container"},P.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(k.Component),D8=function(t){tt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=k.createRef(),n.handleClick=function(i){!n.isDisabled()&&n.props.onClick&&n.props.onClick(i)},n.handleMouseEnter=function(i){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(i)},n.handleOnKeyDown=function(i){var r,s,o=i.key;o===L.Space&&(i.preventDefault(),i.key=L.Enter),(s=(r=n.props).handleOnKeyDown)===null||s===void 0||s.call(r,i)},n.isSameDay=function(i){return ne(n.props.day,i)},n.isKeyboardSelected=function(){var i;if(n.props.disabledKeyboardNavigation)return!1;var r=n.props.selectsMultiple?(i=n.props.selectedDates)===null||i===void 0?void 0:i.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!r&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(i){return i===void 0&&(i=n.props.day),sn(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return F_(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return ne(n.props.day,_r(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(i){return n.props.showWeekPicker&&ne(i,_r(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(i){return n.isSameDay(i)||n.isSameWeek(i)},n.getHighLightedClass=function(){var i=n.props,r=i.day,s=i.highlightDates;if(!s)return!1;var o=Te(r,"MM.dd.yyyy");return s.get(o)},n.getHolidaysClass=function(){var i,r=n.props,s=r.day,o=r.holidays;if(!o)return[void 0];var a=Te(s,"MM.dd.yyyy");return o.has(a)?[(i=o.get(a))===null||i===void 0?void 0:i.className]:[void 0]},n.isInRange=function(){var i=n.props,r=i.day,s=i.startDate,o=i.endDate;return!s||!o?!1:Za(r,s,o)},n.isInSelectingRange=function(){var i,r=n.props,s=r.day,o=r.selectsStart,a=r.selectsEnd,l=r.selectsRange,c=r.selectsDisabledDaysInRange,u=r.startDate,d=r.endDate,h=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(o||a||l)||!h||!c&&n.isDisabled()?!1:o&&d&&(Ns(h,d)||as(h,d))?Za(s,h,d):a&&u&&(Dr(h,u)||as(h,u))||l&&u&&!d&&(Dr(h,u)||as(h,u))?Za(s,u,h):!1},n.isSelectingRangeStart=function(){var i;if(!n.isInSelectingRange())return!1;var r=n.props,s=r.day,o=r.startDate,a=r.selectsStart,l=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return a?ne(s,l):ne(s,o)},n.isSelectingRangeEnd=function(){var i;if(!n.isInSelectingRange())return!1;var r=n.props,s=r.day,o=r.endDate,a=r.selectsEnd,l=r.selectsRange,c=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return a||l?ne(s,c):ne(s,o)},n.isRangeStart=function(){var i=n.props,r=i.day,s=i.startDate,o=i.endDate;return!s||!o?!1:ne(s,r)},n.isRangeEnd=function(){var i=n.props,r=i.day,s=i.startDate,o=i.endDate;return!s||!o?!1:ne(o,r)},n.isWeekend=function(){var i=eH(n.props.day);return i===0||i===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===bt(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(bt(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(ce())},n.isSelected=function(){var i;return n.props.selectsMultiple?(i=n.props.selectedDates)===null||i===void 0?void 0:i.some(function(r){return n.isSameDayOrWeek(r)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(i){var r=n.props.dayClassName?n.props.dayClassName(i):void 0;return rt("react-datepicker__day",r,"react-datepicker__day--"+u8(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var i=n.props,r=i.day,s=i.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=i.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,c=n.isDisabled()||n.isExcluded()?l:o;return"".concat(c," ").concat(Te(r,"PPPP",n.props.locale))},n.getTitle=function(){var i=n.props,r=i.day,s=i.holidays,o=s===void 0?new Map:s,a=i.excludeDates,l=Te(r,"MM.dd.yyyy"),c=[];return o.has(l)&&c.push.apply(c,o.get(l).holidayNames),n.isExcluded()&&c.push(a==null?void 0:a.filter(function(u){return u instanceof Date?ne(u,r):ne(u==null?void 0:u.date,r)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),c.join(", ")},n.getTabIndex=function(){var i=n.props.selected,r=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(i)&&ne(r,i))?0:-1;return s},n.handleFocusDay=function(){var i;n.shouldFocusDay()&&((i=n.dayEl.current)===null||i===void 0||i.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(Zb(n.props.day),n.props.day):Zb(n.props.day)},n.render=function(){return P.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&P.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,i,r;return((i=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||i===void 0?void 0:i.contains(document.activeElement))&&((r=document.activeElement)===null||r===void 0?void 0:r.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(k.Component),P8=function(t){tt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=k.createRef(),n.handleClick=function(i){n.props.onClick&&n.props.onClick(i)},n.handleOnKeyDown=function(i){var r,s,o=i.key;o===L.Space&&(i.preventDefault(),i.key=L.Enter),(s=(r=n.props).handleOnKeyDown)===null||s===void 0||s.call(r,i)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!ne(n.props.date,n.props.selected)&&ne(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||ne(n.props.date,n.props.selected)&&ne(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(i){var r=!1;n.getTabIndex()===0&&!(i!=null&&i.isInputFocused)&&ne(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(r=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(r=!0)),r&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,i=n.weekNumber,r=n.isWeekDisabled,s=n.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,a=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!r,"react-datepicker__week-number--selected":!!a&&ne(this.props.date,this.props.selected)};return P.createElement("div",{ref:this.weekNumberEl,className:rt(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},i)},e}(k.Component),I8=function(t){tt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(i){return sn(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(i,r){n.props.onDayClick&&n.props.onDayClick(i,r)},n.handleDayMouseEnter=function(i){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleWeekClick=function(i,r,s){for(var o,a,l,c=new Date(i),u=0;u<7;u++){var d=new Date(i);d.setDate(d.getDate()+u);var h=!n.isDisabled(d);if(h){c=d;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(c,r,s),n.props.showWeekPicker&&n.handleDayClick(c,s),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(i){return n.props.formatWeekNumber?n.props.formatWeekNumber(i):c8(i)},n.isWeekDisabled=function(){for(var i=n.startOfWeek(),r=Tn(i,6),s=new Date(i);s<=r;){if(!n.isDisabled(s))return!1;s=Tn(s,1)}return!0},n.renderDays=function(){var i=n.startOfWeek(),r=[],s=n.formatWeekNumber(i);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,i,s):void 0;r.push(P.createElement(P8,ie({key:"W"},e.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:i,onClick:o})))}return r.concat([0,1,2,3,4,5,6].map(function(a){var l=Tn(i,a);return P.createElement(D8,ie({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return _r(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!ne(n.startOfWeek(),n.props.selected)&&ne(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":ne(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return P.createElement("div",{className:rt(n)},this.renderDays())},e}(k.Component),ja,M8=6,Vo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Gp=(ja={},ja[Vo.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},ja[Vo.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},ja[Vo.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},ja),Mu=1;function zS(t,e){return t?Vo.FOUR_COLUMNS:e?Vo.TWO_COLUMNS:Vo.THREE_COLUMNS}var R8=function(t){tt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=Hn([],Array(12),!0).map(function(){return k.createRef()}),n.QUARTER_REFS=Hn([],Array(4),!0).map(function(){return k.createRef()}),n.isDisabled=function(i){return sn(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return F_(i,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(i,r){var s,o;(o=(s=n.props).onDayClick)===null||o===void 0||o.call(s,i,r,n.props.orderInDisplay)},n.handleDayMouseEnter=function(i){var r,s;(s=(r=n.props).onDayMouseEnter)===null||s===void 0||s.call(r,i)},n.handleMouseLeave=function(){var i,r;(r=(i=n.props).onMouseLeave)===null||r===void 0||r.call(i)},n.isRangeStartMonth=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:_t(tn(s,i),o)},n.isRangeStartQuarter=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:Mh(Zs(s,i),o)},n.isRangeEndMonth=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:_t(tn(s,i),a)},n.isRangeEndQuarter=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:Mh(Zs(s,i),a)},n.isInSelectingRangeMonth=function(i){var r,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,u=s.startDate,d=s.endDate,h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(a||l||c)||!h?!1:a&&d?Tu(h,d,i,o):l&&u||c&&u&&!d?Tu(u,h,i,o):!1},n.isSelectingMonthRangeStart=function(i){var r;if(!n.isInSelectingRangeMonth(i))return!1;var s=n.props,o=s.day,a=s.startDate,l=s.selectsStart,c=tn(o,i),u=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l?_t(c,u):_t(c,a)},n.isSelectingMonthRangeEnd=function(i){var r;if(!n.isInSelectingRangeMonth(i))return!1;var s=n.props,o=s.day,a=s.endDate,l=s.selectsEnd,c=s.selectsRange,u=tn(o,i),d=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l||c?_t(u,d):_t(u,a)},n.isInSelectingRangeQuarter=function(i){var r,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,u=s.startDate,d=s.endDate,h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(a||l||c)||!h?!1:a&&d?Iu(h,d,i,o):l&&u||c&&u&&!d?Iu(u,h,i,o):!1},n.isWeekInMonth=function(i){var r=n.props.day,s=Tn(i,6);return _t(i,r)||_t(s,r)},n.isCurrentMonth=function(i,r){return J(i)===J(ce())&&r===bt(ce())},n.isCurrentQuarter=function(i,r){return J(i)===J(ce())&&r===ps(ce())},n.isSelectedMonth=function(i,r,s){return bt(s)===r&&J(i)===J(s)},n.isSelectMonthInList=function(i,r,s){return s.some(function(o){return n.isSelectedMonth(i,r,o)})},n.isSelectedQuarter=function(i,r,s){return ps(i)===r&&J(i)===J(s)},n.renderWeeks=function(){for(var i=[],r=n.props.fixedHeight,s=0,o=!1,a=_r(ki(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(p){return n.props.showWeekPicker?_r(p,n.props.locale,n.props.calendarStartDay):n.props.preSelection},c=function(p){return n.props.showWeekPicker?_r(p,n.props.locale,n.props.calendarStartDay):n.props.selected},u=n.props.selected?c(n.props.selected):void 0,d=n.props.preSelection?l(n.props.preSelection):void 0;i.push(P.createElement(I8,ie({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:a,month:bt(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:u,preSelection:d,showWeekNumber:n.props.showWeekNumbers}))),!o;){s++,a=hh(a,1);var h=r&&s>=M8,f=!r&&!n.isWeekInMonth(a);if(h||f)if(n.props.peekNextMonth)o=!0;else break}return i},n.onMonthClick=function(i,r){var s=n.isMonthDisabledForLabelDate(r),o=s.isDisabled,a=s.labelDate;o||n.handleDayClick(ki(a),i)},n.onMonthMouseEnter=function(i){var r=n.isMonthDisabledForLabelDate(i),s=r.isDisabled,o=r.labelDate;s||n.handleDayMouseEnter(ki(o))},n.handleMonthNavigation=function(i,r){var s,o,a,l;(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,r),(l=(a=n.MONTH_REFS[i])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(i,r,s){var o,a=n.props,l=a.selected,c=a.preSelection,u=a.setPreSelection,d=a.minDate,h=a.maxDate,f=a.showFourColumnMonthYearPicker,p=a.showTwoColumnMonthYearPicker;if(c){var m=zS(f,p),v=n.getVerticalOffset(m),g=(o=Gp[m])===null||o===void 0?void 0:o.grid,y=function(C,x,E){var T,R,N=x,H=E;switch(C){case L.ArrowRight:N=Mn(x,Mu),H=E===11?0:E+Mu;break;case L.ArrowLeft:N=ms(x,Mu),H=E===0?11:E-Mu;break;case L.ArrowUp:N=ms(x,v),H=!((T=g==null?void 0:g[0])===null||T===void 0)&&T.includes(E)?E+12-v:E-v;break;case L.ArrowDown:N=Mn(x,v),H=!((R=g==null?void 0:g[g.length-1])===null||R===void 0)&&R.includes(E)?E-12+v:E+v;break}return{newCalculatedDate:N,newCalculatedMonth:H}},_=function(C,x,E){for(var T=40,R=C,N=!1,H=0,q=y(R,x,E),U=q.newCalculatedDate,B=q.newCalculatedMonth;!N;){if(H>=T){U=x,B=E;break}if(d&&U<d){R=L.ArrowRight;var F=y(R,U,B);U=F.newCalculatedDate,B=F.newCalculatedMonth}if(h&&U>h){R=L.ArrowLeft;var F=y(R,U,B);U=F.newCalculatedDate,B=F.newCalculatedMonth}if(y8(U,n.props)){var F=y(R,U,B);U=F.newCalculatedDate,B=F.newCalculatedMonth}else N=!0;H++}return{newCalculatedDate:U,newCalculatedMonth:B}};if(r===L.Enter){n.isMonthDisabled(s)||(n.onMonthClick(i,s),u==null||u(l));return}var b=_(r,c,s),w=b.newCalculatedDate,S=b.newCalculatedMonth;switch(r){case L.ArrowRight:case L.ArrowLeft:case L.ArrowUp:case L.ArrowDown:n.handleMonthNavigation(S,w);break}}},n.getVerticalOffset=function(i){var r,s;return(s=(r=Gp[i])===null||r===void 0?void 0:r.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(i,r){var s=n.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,l=i.key;l!==L.Tab&&i.preventDefault(),o||n.handleKeyboardNavigation(i,l,r),a&&a(i)},n.onQuarterClick=function(i,r){var s=Zs(n.props.day,r);Du(s,n.props)||n.handleDayClick(TS(s),i)},n.onQuarterMouseEnter=function(i){var r=Zs(n.props.day,i);Du(r,n.props)||n.handleDayMouseEnter(TS(r))},n.handleQuarterNavigation=function(i,r){var s,o,a,l;n.isDisabled(r)||n.isExcluded(r)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,r),(l=(a=n.QUARTER_REFS[i-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(i,r){var s,o,a=i.key;if(!n.props.disabledKeyboardNavigation)switch(a){case L.Enter:n.onQuarterClick(i,r),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case L.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(r===4?1:r+1,o_(n.props.preSelection,1));break;case L.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(r===1?4:r-1,OP(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(i){var r,s=n.props,o=s.day,a=s.minDate,l=s.maxDate,c=s.excludeDates,u=s.includeDates,d=tn(o,i);return{isDisabled:(r=(a||l||c||u)&&zI(d,n.props))!==null&&r!==void 0?r:!1,labelDate:d}},n.isMonthDisabled=function(i){var r=n.isMonthDisabledForLabelDate(i).isDisabled;return r},n.getMonthClassNames=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate,l=r.preSelection,c=r.monthClassName,u=c?c(tn(s,i)):void 0,d=n.getSelection();return rt("react-datepicker__month-text","react-datepicker__month-".concat(i),u,{"react-datepicker__month-text--disabled":n.isMonthDisabled(i),"react-datepicker__month-text--selected":d?n.isSelectMonthInList(s,i,d):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(s,i,l)&&!n.isMonthDisabled(i),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(i),"react-datepicker__month-text--in-range":o&&a?Tu(o,a,i,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(i),"react-datepicker__month-text--range-end":n.isRangeEndMonth(i),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(i),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(i),"react-datepicker__month-text--today":n.isCurrentMonth(s,i)})},n.getTabIndex=function(i){if(n.props.preSelection==null)return"-1";var r=bt(n.props.preSelection),s=n.isMonthDisabledForLabelDate(r).isDisabled,o=i===r&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(i){if(n.props.preSelection==null)return"-1";var r=ps(n.props.preSelection),s=Du(n.props.day,n.props),o=i===r&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(i){var r=n.props,s=r.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=r.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,c=r.day,u=r.locale,d=tn(c,i),h=n.isDisabled(d)||n.isExcluded(d)?l:o;return"".concat(h," ").concat(Te(d,"MMMM yyyy",u))},n.getQuarterClassNames=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate,l=r.selected,c=r.minDate,u=r.maxDate,d=r.excludeDates,h=r.includeDates,f=r.filterDate,p=r.preSelection,m=r.disabledKeyboardNavigation,v=(c||u||d||h||f)&&Du(Zs(s,i),n.props);return rt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(i),{"react-datepicker__quarter-text--disabled":v,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(s,i,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!m&&p&&n.isSelectedQuarter(s,i,p)&&!v,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(i),"react-datepicker__quarter-text--in-range":o&&a?Iu(o,a,i,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(i),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(i)})},n.getMonthContent=function(i){var r=n.props,s=r.showFullMonthYearPicker,o=r.renderMonthContent,a=r.locale,l=r.day,c=WI(i,a),u=L_(i,a);return o?o(i,c,u,l):s?u:c},n.getQuarterContent=function(i){var r,s=n.props,o=s.renderQuarterContent,a=s.locale,l=g8(i,a);return(r=o==null?void 0:o(i,l))!==null&&r!==void 0?r:l},n.renderMonths=function(){var i,r=n.props,s=r.showTwoColumnMonthYearPicker,o=r.showFourColumnMonthYearPicker,a=r.day,l=r.selected,c=(i=Gp[zS(o,s)])===null||i===void 0?void 0:i.grid;return c==null?void 0:c.map(function(u,d){return P.createElement("div",{className:"react-datepicker__month-wrapper",key:d},u.map(function(h,f){return P.createElement("div",{ref:n.MONTH_REFS[h],key:f,onClick:function(p){n.onMonthClick(p,h)},onKeyDown:function(p){YI(p)&&(p.preventDefault(),p.key=L.Enter),n.onMonthKeyDown(p,h)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(h)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(h)}:void 0,tabIndex:Number(n.getTabIndex(h)),className:n.getMonthClassNames(h),"aria-disabled":n.isMonthDisabled(h),role:"option","aria-label":n.getAriaLabel(h),"aria-current":n.isCurrentMonth(a,h)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,h,l):void 0},n.getMonthContent(h))}))})},n.renderQuarters=function(){var i=n.props,r=i.day,s=i.selected,o=[1,2,3,4];return P.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return P.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(c){n.onQuarterClick(c,a)},onKeyDown:function(c){n.onQuarterKeyDown(c,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":s?n.isSelectedQuarter(r,a,s):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(r,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var i=n.props,r=i.selectingDate,s=i.selectsStart,o=i.selectsEnd,a=i.showMonthYearPicker,l=i.showQuarterYearPicker,c=i.showWeekPicker;return rt("react-datepicker__month",{"react-datepicker__month--selecting-range":r&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},n}return e.prototype.getSelection=function(){var n=this.props,i=n.selected,r=n.selectedDates,s=n.selectsMultiple;if(s)return r;if(i)return[i]},e.prototype.render=function(){var n=this.props,i=n.showMonthYearPicker,r=n.showQuarterYearPicker,s=n.day,o=n.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"";return P.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Te(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},i?this.renderMonths():r?this.renderQuarters():this.renderWeeks())},e}(k.Component),A8=function(t){tt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(i){return n.props.month===i},n.renderOptions=function(){return n.props.monthNames.map(function(i,r){return P.createElement("div",{className:n.isSelectedMonth(r)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:i,onClick:n.onChange.bind(n,r),"aria-selected":n.isSelectedMonth(r)?"true":void 0},n.isSelectedMonth(r)?P.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",i)})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return P.createElement(Af,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(k.Component),O8=function(t){tt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(i){return i.map(function(r,s){return P.createElement("option",{key:r,value:s},r)})},n.renderSelectMode=function(i){return P.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(r){return n.onChange(parseInt(r.target.value))}},n.renderSelectOptions(i))},n.renderReadView=function(i,r){return P.createElement("div",{key:"read",style:{visibility:i?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},P.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),P.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},r[n.props.month]))},n.renderDropdown=function(i){return P.createElement(A8,ie({key:"dropdown"},n.props,{monthNames:i,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(i){var r=n.state.dropdownVisible,s=[n.renderReadView(!r,i)];return r&&s.unshift(n.renderDropdown(i)),s},n.onChange=function(i){n.toggleDropdown(),i!==n.props.month&&n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,i=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return WI(s,n.props.locale)}:function(s){return L_(s,n.props.locale)}),r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(i);break;case"select":r=this.renderSelectMode(i);break}return P.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},r)},e}(k.Component);function N8(t,e){for(var n=[],i=ki(t),r=ki(e);!Dr(i,r);)n.push(ce(i)),i=Mn(i,1);return n}var L8=function(t){tt(e,t);function e(n){var i=t.call(this,n)||this;return i.renderOptions=function(){return i.state.monthYearsList.map(function(r){var s=Mg(r),o=jn(i.props.date,r)&&_t(i.props.date,r);return P.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:i.onChange.bind(i,s),"aria-selected":o?"true":void 0},o?P.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Te(r,i.props.dateFormat,i.props.locale))})},i.onChange=function(r){return i.props.onChange(r)},i.handleClickOutside=function(){i.props.onCancel()},i.state={monthYearsList:N8(i.props.minDate,i.props.maxDate)},i}return e.prototype.render=function(){var n=rt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return P.createElement(Af,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(k.Component),F8=function(t){tt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var i=ki(n.props.minDate),r=ki(n.props.maxDate),s=[];!Dr(i,r);){var o=Mg(i);s.push(P.createElement("option",{key:o,value:o},Te(i,n.props.dateFormat,n.props.locale))),i=Mn(i,1)}return s},n.onSelectChange=function(i){n.onChange(parseInt(i.target.value))},n.renderSelectMode=function(){return P.createElement("select",{value:Mg(ki(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(i){var r=Te(n.props.date,n.props.dateFormat,n.props.locale);return P.createElement("div",{key:"read",style:{visibility:i?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},P.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),P.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},r))},n.renderDropdown=function(){return P.createElement(L8,ie({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var i=n.state.dropdownVisible,r=[n.renderReadView(!i)];return i&&r.unshift(n.renderDropdown()),r},n.onChange=function(i){n.toggleDropdown();var r=ce(i);jn(n.props.date,r)&&_t(n.props.date,r)||n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return P.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(k.Component),V8=function(t){tt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var i,r,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((r=(i=n.header)===null||i===void 0?void 0:i.clientHeight)!==null&&r!==void 0?r:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(i){var r,s;(n.props.minTime||n.props.maxTime)&&RS(i,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&MS(i,n.props)||(s=(r=n.props).onChange)===null||s===void 0||s.call(r,i)},n.isSelectedTime=function(i){return n.props.selected&&E8(n.props.selected,i)},n.isDisabledTime=function(i){return(n.props.minTime||n.props.maxTime)&&RS(i,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&MS(i,n.props)},n.liClasses=function(i){var r,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(i):void 0];return n.isSelectedTime(i)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(i)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(xi(i)*3600+Si(i)*60+yr(i))%(((r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(i,r){var s,o;i.key===L.Space&&(i.preventDefault(),i.key=L.Enter),(i.key===L.ArrowUp||i.key===L.ArrowLeft)&&i.target instanceof HTMLElement&&i.target.previousSibling&&(i.preventDefault(),i.target.previousSibling instanceof HTMLElement&&i.target.previousSibling.focus()),(i.key===L.ArrowDown||i.key===L.ArrowRight)&&i.target instanceof HTMLElement&&i.target.nextSibling&&(i.preventDefault(),i.target.nextSibling instanceof HTMLElement&&i.target.nextSibling.focus()),i.key===L.Enter&&n.handleClick(r),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,i)},n.renderTimes=function(){for(var i,r=[],s=typeof n.props.format=="string"?n.props.format:"p",o=(i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||ce(),l=cd(a),c=n.props.injectTimes&&n.props.injectTimes.sort(function(v,g){return v.getTime()-g.getTime()}),u=60*C8(a),d=u/o,h=0;h<d;h++){var f=Tg(l,h*o);if(r.push(f),c){var p=k8(l,f,h,o,c);r=r.concat(p)}}var m=r.reduce(function(v,g){return g.getTime()<=a.getTime()?g:v},r[0]);return r.map(function(v){return P.createElement("li",{key:v.valueOf(),onClick:n.handleClick.bind(n,v),className:n.liClasses(v),ref:function(g){v===m&&(n.centerLi=g)},onKeyDown:function(g){n.handleOnKeyDown(g,v)},tabIndex:v===m?0:-1,role:"option","aria-selected":n.isSelectedTime(v)?"true":void 0,"aria-disabled":n.isDisabledTime(v)?"true":void 0},Te(v,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?P.createElement(P.Fragment,null):P.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(i){n.header=i}},P.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,i,r=this.state.height;return P.createElement("div",{className:"react-datepicker__time-container ".concat(((i=this.props.todayButton)!==null&&i!==void 0?i:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),P.createElement("div",{className:"react-datepicker__time"},P.createElement("div",{className:"react-datepicker__time-box"},P.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,i){return i.offsetTop-(n/2-i.clientHeight/2)},e}(k.Component),US=3,B8=function(t){tt(e,t);function e(n){var i=t.call(this,n)||this;return i.YEAR_REFS=Hn([],Array(i.props.yearItemNumber),!0).map(function(){return k.createRef()}),i.isDisabled=function(r){return sn(r,{minDate:i.props.minDate,maxDate:i.props.maxDate,excludeDates:i.props.excludeDates,includeDates:i.props.includeDates,filterDate:i.props.filterDate})},i.isExcluded=function(r){return F_(r,{excludeDates:i.props.excludeDates})},i.selectingDate=function(){var r;return(r=i.props.selectingDate)!==null&&r!==void 0?r:i.props.preSelection},i.updateFocusOnPaginate=function(r){var s=function(){var o,a;(a=(o=i.YEAR_REFS[r])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},i.handleYearClick=function(r,s){i.props.onDayClick&&i.props.onDayClick(r,s)},i.handleYearNavigation=function(r,s){var o,a,l,c,u=i.props,d=u.date,h=u.yearItemNumber;if(!(d===void 0||h===void 0)){var f=rr(d,h).startPeriod;i.isDisabled(s)||i.isExcluded(s)||((a=(o=i.props).setPreSelection)===null||a===void 0||a.call(o,s),r-f<0?i.updateFocusOnPaginate(h-(f-r)):r-f>=h?i.updateFocusOnPaginate(Math.abs(h-(r-f))):(c=(l=i.YEAR_REFS[r-f])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},i.isSameDay=function(r,s){return ne(r,s)},i.isCurrentYear=function(r){return r===J(ce())},i.isRangeStart=function(r){return i.props.startDate&&i.props.endDate&&jn(Bn(ce(),r),i.props.startDate)},i.isRangeEnd=function(r){return i.props.startDate&&i.props.endDate&&jn(Bn(ce(),r),i.props.endDate)},i.isInRange=function(r){return Pu(r,i.props.startDate,i.props.endDate)},i.isInSelectingRange=function(r){var s=i.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,c=s.startDate,u=s.endDate;return!(o||a||l)||!i.selectingDate()?!1:o&&u?Pu(r,i.selectingDate(),u):a&&c||l&&c&&!u?Pu(r,c,i.selectingDate()):!1},i.isSelectingRangeStart=function(r){var s;if(!i.isInSelectingRange(r))return!1;var o=i.props,a=o.startDate,l=o.selectsStart,c=Bn(ce(),r);return l?jn(c,(s=i.selectingDate())!==null&&s!==void 0?s:null):jn(c,a??null)},i.isSelectingRangeEnd=function(r){var s;if(!i.isInSelectingRange(r))return!1;var o=i.props,a=o.endDate,l=o.selectsEnd,c=o.selectsRange,u=Bn(ce(),r);return l||c?jn(u,(s=i.selectingDate())!==null&&s!==void 0?s:null):jn(u,a??null)},i.isKeyboardSelected=function(r){if(!(i.props.date===void 0||i.props.selected==null||i.props.preSelection==null)){var s=i.props,o=s.minDate,a=s.maxDate,l=s.excludeDates,c=s.includeDates,u=s.filterDate,d=Ja(Bn(i.props.date,r)),h=(o||a||l||c||u)&&ud(r,i.props);return!i.props.disabledKeyboardNavigation&&!i.props.inline&&!ne(d,Ja(i.props.selected))&&ne(d,Ja(i.props.preSelection))&&!h}},i.onYearClick=function(r,s){var o=i.props.date;o!==void 0&&i.handleYearClick(Ja(Bn(o,s)),r)},i.onYearKeyDown=function(r,s){var o,a,l=r.key,c=i.props,u=c.date,d=c.yearItemNumber,h=c.handleOnKeyDown;if(l!==L.Tab&&r.preventDefault(),!i.props.disabledKeyboardNavigation)switch(l){case L.Enter:if(i.props.selected==null)break;i.onYearClick(r,s),(a=(o=i.props).setPreSelection)===null||a===void 0||a.call(o,i.props.selected);break;case L.ArrowRight:if(i.props.preSelection==null)break;i.handleYearNavigation(s+1,wi(i.props.preSelection,1));break;case L.ArrowLeft:if(i.props.preSelection==null)break;i.handleYearNavigation(s-1,Qo(i.props.preSelection,1));break;case L.ArrowUp:{if(u===void 0||d===void 0||i.props.preSelection==null)break;var f=rr(u,d).startPeriod,p=US,m=s-p;if(m<f){var v=d%p;s>=f&&s<f+v?p=v:p+=v,m=s-p}i.handleYearNavigation(m,Qo(i.props.preSelection,p));break}case L.ArrowDown:{if(u===void 0||d===void 0||i.props.preSelection==null)break;var g=rr(u,d).endPeriod,p=US,m=s+p;if(m>g){var v=d%p;s<=g&&s>g-v?p=v:p+=v,m=s+p}i.handleYearNavigation(m,wi(i.props.preSelection,p));break}}h&&h(r)},i.getYearClassNames=function(r){var s=i.props,o=s.date,a=s.minDate,l=s.maxDate,c=s.selected,u=s.excludeDates,d=s.includeDates,h=s.filterDate,f=s.yearClassName;return rt("react-datepicker__year-text","react-datepicker__year-".concat(r),o?f==null?void 0:f(Bn(o,r)):void 0,{"react-datepicker__year-text--selected":c?r===J(c):void 0,"react-datepicker__year-text--disabled":(a||l||u||d||h)&&ud(r,i.props),"react-datepicker__year-text--keyboard-selected":i.isKeyboardSelected(r),"react-datepicker__year-text--range-start":i.isRangeStart(r),"react-datepicker__year-text--range-end":i.isRangeEnd(r),"react-datepicker__year-text--in-range":i.isInRange(r),"react-datepicker__year-text--in-selecting-range":i.isInSelectingRange(r),"react-datepicker__year-text--selecting-range-start":i.isSelectingRangeStart(r),"react-datepicker__year-text--selecting-range-end":i.isSelectingRangeEnd(r),"react-datepicker__year-text--today":i.isCurrentYear(r)})},i.getYearTabIndex=function(r){if(i.props.disabledKeyboardNavigation||i.props.preSelection==null)return"-1";var s=J(i.props.preSelection),o=ud(r,i.props);return r===s&&!o?"0":"-1"},i.getYearContent=function(r){return i.props.renderYearContent?i.props.renderYearContent(r):r},i}return e.prototype.render=function(){var n=this,i=[],r=this.props,s=r.date,o=r.yearItemNumber,a=r.onYearMouseEnter,l=r.onYearMouseLeave;if(s===void 0)return null;for(var c=rr(s,o),u=c.startPeriod,d=c.endPeriod,h=function(m){i.push(P.createElement("div",{ref:f.YEAR_REFS[m-u],onClick:function(v){n.onYearClick(v,m)},onKeyDown:function(v){YI(v)&&(v.preventDefault(),v.key=L.Enter),n.onYearKeyDown(v,m)},tabIndex:Number(f.getYearTabIndex(m)),className:f.getYearClassNames(m),onMouseEnter:f.props.usePointerEvent?void 0:function(v){return a(v,m)},onPointerEnter:f.props.usePointerEvent?function(v){return a(v,m)}:void 0,onMouseLeave:f.props.usePointerEvent?void 0:function(v){return l(v,m)},onPointerLeave:f.props.usePointerEvent?function(v){return l(v,m)}:void 0,key:m,"aria-current":f.isCurrentYear(m)?"date":void 0},f.getYearContent(m)))},f=this,p=u;p<=d;p++)h(p);return P.createElement("div",{className:"react-datepicker__year"},P.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},i))},e}(k.Component);function j8(t,e,n,i){for(var r=[],s=0;s<2*e+1;s++){var o=t+e-s,a=!0;n&&(a=J(n)<=o),i&&a&&(a=J(i)>=o),a&&r.push(o)}return r}var W8=function(t){tt(e,t);function e(n){var i=t.call(this,n)||this;i.renderOptions=function(){var a=i.props.year,l=i.state.yearsList.map(function(d){return P.createElement("div",{className:a===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:i.onChange.bind(i,d),"aria-selected":a===d?"true":void 0},a===d?P.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",d)}),c=i.props.minDate?J(i.props.minDate):null,u=i.props.maxDate?J(i.props.maxDate):null;return(!u||!i.state.yearsList.find(function(d){return d===u}))&&l.unshift(P.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:i.incrementYears},P.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!i.state.yearsList.find(function(d){return d===c}))&&l.push(P.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:i.decrementYears},P.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},i.onChange=function(a){i.props.onChange(a)},i.handleClickOutside=function(){i.props.onCancel()},i.shiftYears=function(a){var l=i.state.yearsList.map(function(c){return c+a});i.setState({yearsList:l})},i.incrementYears=function(){return i.shiftYears(1)},i.decrementYears=function(){return i.shiftYears(-1)};var r=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=r||(s?10:5);return i.state={yearsList:j8(i.props.year,o,i.props.minDate,i.props.maxDate)},i.dropdownRef=k.createRef(),i}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var i=n.children?Array.from(n.children):null,r=i?i.find(function(s){return s.ariaSelected}):null;n.scrollTop=r&&r instanceof HTMLElement?r.offsetTop+(r.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=rt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return P.createElement(Af,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(k.Component),z8=function(t){tt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var i=n.props.minDate?J(n.props.minDate):1900,r=n.props.maxDate?J(n.props.maxDate):2100,s=[],o=i;o<=r;o++)s.push(P.createElement("option",{key:o,value:o},o));return s},n.onSelectChange=function(i){n.onChange(parseInt(i.target.value))},n.renderSelectMode=function(){return P.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(i){return P.createElement("div",{key:"read",style:{visibility:i?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(r){return n.toggleDropdown(r)}},P.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),P.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return P.createElement(W8,ie({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var i=n.state.dropdownVisible,r=[n.renderReadView(!i)];return i&&r.unshift(n.renderDropdown()),r},n.onChange=function(i){n.toggleDropdown(),i!==n.props.year&&n.props.onChange(i)},n.toggleDropdown=function(i){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,i)})},n.handleYearChange=function(i,r){var s;(s=n.onSelect)===null||s===void 0||s.call(n,i,r),n.setOpen()},n.onSelect=function(i,r){var s,o;(o=(s=n.props).onSelect)===null||o===void 0||o.call(s,i,r)},n.setOpen=function(){var i,r;(r=(i=n.props).setOpen)===null||r===void 0||r.call(i,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return P.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(k.Component),U8=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],H8=function(t){var e=(t.className||"").split(/\s+/);return U8.some(function(n){return e.indexOf(n)>=0})},Y8=function(t){tt(e,t);function e(n){var i=t.call(this,n)||this;return i.monthContainer=void 0,i.handleClickOutside=function(r){i.props.onClickOutside(r)},i.setClickOutsideRef=function(){return i.containerRef.current},i.handleDropdownFocus=function(r){var s,o;H8(r.target)&&((o=(s=i.props).onDropdownFocus)===null||o===void 0||o.call(s,r))},i.getDateInView=function(){var r=i.props,s=r.preSelection,o=r.selected,a=r.openToDate,l=UI(i.props),c=HI(i.props),u=ce(),d=a||o||s;return d||(l&&Ns(u,l)?l:c&&Dr(u,c)?c:u)},i.increaseMonth=function(){i.setState(function(r){var s=r.date;return{date:Mn(s,1)}},function(){return i.handleMonthChange(i.state.date)})},i.decreaseMonth=function(){i.setState(function(r){var s=r.date;return{date:ms(s,1)}},function(){return i.handleMonthChange(i.state.date)})},i.handleDayClick=function(r,s,o){i.props.onSelect(r,s,o),i.props.setPreSelection&&i.props.setPreSelection(r)},i.handleDayMouseEnter=function(r){i.setState({selectingDate:r}),i.props.onDayMouseEnter&&i.props.onDayMouseEnter(r)},i.handleMonthMouseLeave=function(){i.setState({selectingDate:void 0}),i.props.onMonthMouseLeave&&i.props.onMonthMouseLeave()},i.handleYearMouseEnter=function(r,s){i.setState({selectingDate:Bn(ce(),s)}),i.props.onYearMouseEnter&&i.props.onYearMouseEnter(r,s)},i.handleYearMouseLeave=function(r,s){i.props.onYearMouseLeave&&i.props.onYearMouseLeave(r,s)},i.handleYearChange=function(r){var s,o,a,l;(o=(s=i.props).onYearChange)===null||o===void 0||o.call(s,r),i.setState({isRenderAriaLiveMessage:!0}),i.props.adjustDateOnChange&&(i.props.onSelect(r),(l=(a=i.props).setOpen)===null||l===void 0||l.call(a,!0)),i.props.setPreSelection&&i.props.setPreSelection(r)},i.getEnabledPreSelectionDateForMonth=function(r){if(!sn(r,i.props))return r;for(var s=ki(r),o=h8(r),a=aU(o,s),l=null,c=0;c<=a;c++){var u=Tn(s,c);if(!sn(u,i.props)){l=u;break}}return l},i.handleMonthChange=function(r){var s,o,a,l=(s=i.getEnabledPreSelectionDateForMonth(r))!==null&&s!==void 0?s:r;i.handleCustomMonthChange(l),i.props.adjustDateOnChange&&(i.props.onSelect(l),(a=(o=i.props).setOpen)===null||a===void 0||a.call(o,!0)),i.props.setPreSelection&&i.props.setPreSelection(l)},i.handleCustomMonthChange=function(r){var s,o;(o=(s=i.props).onMonthChange)===null||o===void 0||o.call(s,r),i.setState({isRenderAriaLiveMessage:!0})},i.handleMonthYearChange=function(r){i.handleYearChange(r),i.handleMonthChange(r)},i.changeYear=function(r){i.setState(function(s){var o=s.date;return{date:Bn(o,Number(r))}},function(){return i.handleYearChange(i.state.date)})},i.changeMonth=function(r){i.setState(function(s){var o=s.date;return{date:tn(o,Number(r))}},function(){return i.handleMonthChange(i.state.date)})},i.changeMonthYear=function(r){i.setState(function(s){var o=s.date;return{date:Bn(tn(o,bt(r)),J(r))}},function(){return i.handleMonthYearChange(i.state.date)})},i.header=function(r){r===void 0&&(r=i.state.date);var s=_r(r,i.props.locale,i.props.calendarStartDay),o=[];return i.props.showWeekNumbers&&o.push(P.createElement("div",{key:"W",className:"react-datepicker__day-name"},i.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=Tn(s,a),c=i.formatWeekday(l,i.props.locale),u=i.props.weekDayClassName?i.props.weekDayClassName(l):void 0;return P.createElement("div",{key:a,"aria-label":Te(l,"EEEE",i.props.locale),className:rt("react-datepicker__day-name",u)},c)}))},i.formatWeekday=function(r,s){return i.props.formatWeekDay?f8(r,i.props.formatWeekDay,s):i.props.useWeekdaysShort?m8(r,s):p8(r,s)},i.decreaseYear=function(){i.setState(function(r){var s,o=r.date;return{date:Qo(o,i.props.showYearPicker?(s=i.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return i.handleYearChange(i.state.date)})},i.clearSelectingDate=function(){i.setState({selectingDate:void 0})},i.renderPreviousButton=function(){var r,s,o;if(!i.props.renderCustomHeader){var a=(r=i.props.monthsShown)!==null&&r!==void 0?r:e.defaultProps.monthsShown,l=i.props.showPreviousMonths?a-1:0,c=(s=i.props.monthSelectedIn)!==null&&s!==void 0?s:l,u=ms(i.state.date,c),d;switch(!0){case i.props.showMonthYearPicker:d=NS(i.state.date,i.props);break;case i.props.showYearPicker:d=w8(i.state.date,i.props);break;case i.props.showQuarterYearPicker:d=v8(i.state.date,i.props);break;default:d=AS(u,i.props);break}if(!(!((o=i.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!i.props.showDisabledMonthNavigation&&d||i.props.showTimeSelectOnly)){var h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],f=["react-datepicker__navigation","react-datepicker__navigation--previous"],p=i.decreaseMonth;(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker)&&(p=i.decreaseYear),d&&i.props.showDisabledMonthNavigation&&(f.push("react-datepicker__navigation--previous--disabled"),p=void 0);var m=i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker,v=i.props,g=v.previousMonthButtonLabel,y=g===void 0?e.defaultProps.previousMonthButtonLabel:g,_=v.previousYearButtonLabel,b=_===void 0?e.defaultProps.previousYearButtonLabel:_,w=i.props,S=w.previousMonthAriaLabel,C=S===void 0?typeof y=="string"?y:"Previous Month":S,x=w.previousYearAriaLabel,E=x===void 0?typeof b=="string"?b:"Previous Year":x;return P.createElement("button",{type:"button",className:f.join(" "),onClick:p,onKeyDown:i.props.handleOnKeyDown,"aria-label":m?E:C},P.createElement("span",{className:h.join(" ")},m?b:y))}}},i.increaseYear=function(){i.setState(function(r){var s,o=r.date;return{date:wi(o,i.props.showYearPicker?(s=i.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return i.handleYearChange(i.state.date)})},i.renderNextButton=function(){var r;if(!i.props.renderCustomHeader){var s;switch(!0){case i.props.showMonthYearPicker:s=LS(i.state.date,i.props);break;case i.props.showYearPicker:s=b8(i.state.date,i.props);break;case i.props.showQuarterYearPicker:s=_8(i.state.date,i.props);break;default:s=OS(i.state.date,i.props);break}if(!(!((r=i.props.forceShowMonthNavigation)!==null&&r!==void 0?r:e.defaultProps.forceShowMonthNavigation)&&!i.props.showDisabledMonthNavigation&&s||i.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];i.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),i.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=i.increaseMonth;(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker)&&(l=i.increaseYear),s&&i.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker,u=i.props,d=u.nextMonthButtonLabel,h=d===void 0?e.defaultProps.nextMonthButtonLabel:d,f=u.nextYearButtonLabel,p=f===void 0?e.defaultProps.nextYearButtonLabel:f,m=i.props,v=m.nextMonthAriaLabel,g=v===void 0?typeof h=="string"?h:"Next Month":v,y=m.nextYearAriaLabel,_=y===void 0?typeof p=="string"?p:"Next Year":y;return P.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:i.props.handleOnKeyDown,"aria-label":c?_:g},P.createElement("span",{className:a.join(" ")},c?p:h))}}},i.renderCurrentMonth=function(r){r===void 0&&(r=i.state.date);var s=["react-datepicker__current-month"];return i.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),i.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),i.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),P.createElement("h2",{className:s.join(" ")},Te(r,i.props.dateFormat,i.props.locale))},i.renderYearDropdown=function(r){if(r===void 0&&(r=!1),!(!i.props.showYearDropdown||r))return P.createElement(z8,ie({},e.defaultProps,i.props,{date:i.state.date,onChange:i.changeYear,year:J(i.state.date)}))},i.renderMonthDropdown=function(r){if(r===void 0&&(r=!1),!(!i.props.showMonthDropdown||r))return P.createElement(O8,ie({},e.defaultProps,i.props,{month:bt(i.state.date),onChange:i.changeMonth}))},i.renderMonthYearDropdown=function(r){if(r===void 0&&(r=!1),!(!i.props.showMonthYearDropdown||r))return P.createElement(F8,ie({},e.defaultProps,i.props,{date:i.state.date,onChange:i.changeMonthYear}))},i.handleTodayButtonClick=function(r){i.props.onSelect(DS(),r),i.props.setPreSelection&&i.props.setPreSelection(DS())},i.renderTodayButton=function(){if(!(!i.props.todayButton||i.props.showTimeSelectOnly))return P.createElement("div",{className:"react-datepicker__today-button",onClick:i.handleTodayButtonClick},i.props.todayButton)},i.renderDefaultHeader=function(r){var s=r.monthDate,o=r.i;return P.createElement("div",{className:"react-datepicker__header ".concat(i.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},i.renderCurrentMonth(s),P.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(i.props.dropdownMode),onFocus:i.handleDropdownFocus},i.renderMonthDropdown(o!==0),i.renderMonthYearDropdown(o!==0),i.renderYearDropdown(o!==0)),P.createElement("div",{className:"react-datepicker__day-names"},i.header(s)))},i.renderCustomHeader=function(r){var s,o,a=r.monthDate,l=r.i;if(i.props.showTimeSelect&&!i.state.monthContainer||i.props.showTimeSelectOnly)return null;var c=AS(i.state.date,i.props),u=OS(i.state.date,i.props),d=NS(i.state.date,i.props),h=LS(i.state.date,i.props),f=!i.props.showMonthYearPicker&&!i.props.showQuarterYearPicker&&!i.props.showYearPicker;return P.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:i.props.onDropdownFocus},(o=(s=i.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,ie(ie({},i.state),{customHeaderCount:l,monthDate:a,changeMonth:i.changeMonth,changeYear:i.changeYear,decreaseMonth:i.decreaseMonth,increaseMonth:i.increaseMonth,decreaseYear:i.decreaseYear,increaseYear:i.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:u,prevYearButtonDisabled:d,nextYearButtonDisabled:h})),f&&P.createElement("div",{className:"react-datepicker__day-names"},i.header(a)))},i.renderYearHeader=function(r){var s=r.monthDate,o=i.props,a=o.showYearPicker,l=o.yearItemNumber,c=l===void 0?e.defaultProps.yearItemNumber:l,u=rr(s,c),d=u.startPeriod,h=u.endPeriod;return P.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(d," - ").concat(h):J(s))},i.renderHeader=function(r){var s=r.monthDate,o=r.i,a=o===void 0?0:o,l={monthDate:s,i:a};switch(!0){case i.props.renderCustomHeader!==void 0:return i.renderCustomHeader(l);case(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker):return i.renderYearHeader(l);default:return i.renderDefaultHeader(l)}},i.renderMonths=function(){var r,s;if(!(i.props.showTimeSelectOnly||i.props.showYearPicker)){for(var o=[],a=(r=i.props.monthsShown)!==null&&r!==void 0?r:e.defaultProps.monthsShown,l=i.props.showPreviousMonths?a-1:0,c=i.props.showMonthYearPicker||i.props.showQuarterYearPicker?wi(i.state.date,l):ms(i.state.date,l),u=(s=i.props.monthSelectedIn)!==null&&s!==void 0?s:l,d=0;d<a;++d){var h=d-u+l,f=i.props.showMonthYearPicker||i.props.showQuarterYearPicker?wi(c,h):Mn(c,h),p="month-".concat(d),m=d<a-1,v=d>0;o.push(P.createElement("div",{key:p,ref:function(g){i.monthContainer=g??void 0},className:"react-datepicker__month-container"},i.renderHeader({monthDate:f,i:d}),P.createElement(R8,ie({},e.defaultProps,i.props,{ariaLabelPrefix:i.props.monthAriaLabelPrefix,day:f,onDayClick:i.handleDayClick,handleOnKeyDown:i.props.handleOnDayKeyDown,handleOnMonthKeyDown:i.props.handleOnKeyDown,onDayMouseEnter:i.handleDayMouseEnter,onMouseLeave:i.handleMonthMouseLeave,orderInDisplay:d,selectingDate:i.state.selectingDate,monthShowsDuplicateDaysEnd:m,monthShowsDuplicateDaysStart:v}))))}return o}},i.renderYears=function(){if(!i.props.showTimeSelectOnly&&i.props.showYearPicker)return P.createElement("div",{className:"react-datepicker__year--container"},i.renderHeader({monthDate:i.state.date}),P.createElement(B8,ie({},e.defaultProps,i.props,{selectingDate:i.state.selectingDate,date:i.state.date,onDayClick:i.handleDayClick,clearSelectingDate:i.clearSelectingDate,onYearMouseEnter:i.handleYearMouseEnter,onYearMouseLeave:i.handleYearMouseLeave})))},i.renderTimeSection=function(){if(i.props.showTimeSelect&&(i.state.monthContainer||i.props.showTimeSelectOnly))return P.createElement(V8,ie({},e.defaultProps,i.props,{onChange:i.props.onTimeChange,format:i.props.timeFormat,intervals:i.props.timeIntervals,monthRef:i.state.monthContainer}))},i.renderInputTimeSection=function(){var r=i.props.selected?new Date(i.props.selected):void 0,s=r&&Of(r)&&!!i.props.selected,o=s?"".concat(VS(r.getHours()),":").concat(VS(r.getMinutes())):"";if(i.props.showTimeInput)return P.createElement(T8,ie({},e.defaultProps,i.props,{date:r,timeString:o,onChange:i.props.onTimeChange}))},i.renderAriaLiveRegion=function(){var r,s=rr(i.state.date,(r=i.props.yearItemNumber)!==null&&r!==void 0?r:e.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,l;return i.props.showYearPicker?l="".concat(o," - ").concat(a):i.props.showMonthYearPicker||i.props.showQuarterYearPicker?l=J(i.state.date):l="".concat(L_(bt(i.state.date),i.props.locale)," ").concat(J(i.state.date)),P.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},i.state.isRenderAriaLiveMessage&&l)},i.renderChildren=function(){if(i.props.children)return P.createElement("div",{className:"react-datepicker__children-container"},i.props.children)},i.containerRef=k.createRef(),i.state={date:i.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},i}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Fc}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var i=this;if(this.props.preSelection&&(!ne(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var r=!_t(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return r&&i.handleCustomMonthChange(i.state.date)})}else this.props.openToDate&&!ne(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||s8;return P.createElement(Af,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},P.createElement(n,{className:rt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(k.Component),$8=function(t){var e=t.icon,n=t.className,i=n===void 0?"":n,r=t.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return P.createElement("i",{className:"".concat(s," ").concat(e," ").concat(i),"aria-hidden":"true",onClick:r});if(P.isValidElement(e)){var o=e;return P.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(i),onClick:function(a){typeof o.props.onClick=="function"&&o.props.onClick(a),typeof r=="function"&&r(a)}})}return P.createElement("svg",{className:"".concat(s," ").concat(i),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:r},P.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},$I=function(t){tt(e,t);function e(n){var i=t.call(this,n)||this;return i.portalRoot=null,i.el=document.createElement("div"),i}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return rN.createPortal(this.props.children,this.el)},e}(k.Component),K8="[tabindex], a, button, input, select, textarea",q8=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},KI=function(t){tt(e,t);function e(n){var i=t.call(this,n)||this;return i.getTabChildren=function(){var r;return Array.prototype.slice.call((r=i.tabLoopRef.current)===null||r===void 0?void 0:r.querySelectorAll(K8),1,-1).filter(q8)},i.handleFocusStart=function(){var r=i.getTabChildren();r&&r.length>1&&r[r.length-1].focus()},i.handleFocusEnd=function(){var r=i.getTabChildren();r&&r.length>1&&r[0].focus()},i.tabLoopRef=k.createRef(),i}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?P.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},P.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,P.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(k.Component);function G8(t){var e=function(n){var i,r=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=k.useRef(null),o=r8(ie({open:!r,whileElementsMounted:L6,placement:n.popperPlacement,middleware:Hn([U6({padding:15}),z6(10),H6({element:s})],(i=n.popperModifiers)!==null&&i!==void 0?i:[],!0)},n.popperProps)),a=ie(ie({},n),{hidePopper:r,popperProps:ie(ie({},o),{arrowRef:s})});return P.createElement(t,ie({},a))};return e}var Q8=function(t){tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,i=n.className,r=n.wrapperClassName,s=n.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,a=n.popperComponent,l=n.targetComponent,c=n.enableTabLoop,u=n.popperOnKeyDown,d=n.portalId,h=n.portalHost,f=n.popperProps,p=n.showArrow,m=void 0;if(!o){var v=rt("react-datepicker-popper",i);m=P.createElement(KI,{enableTabLoop:c},P.createElement("div",{ref:f.refs.setFloating,style:f.floatingStyles,className:v,"data-placement":f.placement,onKeyDown:u},a,p&&P.createElement(X6,{ref:f.arrowRef,context:f.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(m=k.createElement(this.props.popperContainer,{},m)),d&&!o&&(m=P.createElement($I,{portalId:d,portalHost:h},m));var g=rt("react-datepicker-wrapper",r);return P.createElement(P.Fragment,null,P.createElement("div",{ref:f.refs.setReference,className:g},l),m)},e}(k.Component),X8=G8(Q8),HS="react-datepicker-ignore-onclickoutside";function J8(t,e){return t&&e?bt(t)!==bt(e)||J(t)!==J(e):t!==e}var Qp="Date input not valid.",Z8=function(t){tt(e,t);function e(n){var i=t.call(this,n)||this;return i.calendar=null,i.input=null,i.getPreSelection=function(){return i.props.openToDate?i.props.openToDate:i.props.selectsEnd&&i.props.startDate?i.props.startDate:i.props.selectsStart&&i.props.endDate?i.props.endDate:ce()},i.modifyHolidays=function(){var r;return(r=i.props.holidays)===null||r===void 0?void 0:r.reduce(function(s,o){var a=new Date(o.date);return Of(a)?Hn(Hn([],s,!0),[ie(ie({},o),{date:a})],!1):s},[])},i.calcInitialState=function(){var r,s=i.getPreSelection(),o=UI(i.props),a=HI(i.props),l=o&&Ns(s,cd(o))?o:a&&Dr(s,PS(a))?a:s;return{open:i.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(r=i.props.selectsRange?i.props.startDate:i.props.selected)!==null&&r!==void 0?r:l,highlightDates:FS(i.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},i.resetHiddenStatus=function(){i.setState(ie(ie({},i.state),{wasHidden:!1}))},i.setHiddenStatus=function(){i.setState(ie(ie({},i.state),{wasHidden:!0}))},i.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&i.setHiddenStatus()},i.clearPreventFocusTimeout=function(){i.preventFocusTimeout&&clearTimeout(i.preventFocusTimeout)},i.safeFocus=function(){setTimeout(function(){var r,s;(s=(r=i.input)===null||r===void 0?void 0:r.focus)===null||s===void 0||s.call(r,{preventScroll:!0})},0)},i.safeBlur=function(){setTimeout(function(){var r,s;(s=(r=i.input)===null||r===void 0?void 0:r.blur)===null||s===void 0||s.call(r)},0)},i.setFocus=function(){i.safeFocus()},i.setBlur=function(){i.safeBlur(),i.cancelFocusInput()},i.setOpen=function(r,s){s===void 0&&(s=!1),i.setState({open:r,preSelection:r&&i.state.open?i.state.preSelection:i.calcInitialState().preSelection,lastPreSelectChange:Xp},function(){r||i.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&i.setBlur(),i.setState({inputValue:null})})})},i.inputOk=function(){return bi(i.state.preSelection)},i.isCalendarOpen=function(){return i.props.open===void 0?i.state.open&&!i.props.disabled&&!i.props.readOnly:i.props.open},i.handleFocus=function(r){var s,o,a=i.state.wasHidden,l=a?i.state.open:!0;a&&i.resetHiddenStatus(),i.state.preventFocus||((o=(s=i.props).onFocus)===null||o===void 0||o.call(s,r),l&&!i.props.preventOpenOnFocus&&!i.props.readOnly&&i.setOpen(!0)),i.setState({focused:!0})},i.sendFocusBackToInput=function(){i.preventFocusTimeout&&i.clearPreventFocusTimeout(),i.setState({preventFocus:!0},function(){i.preventFocusTimeout=setTimeout(function(){i.setFocus(),i.setState({preventFocus:!1})})})},i.cancelFocusInput=function(){clearTimeout(i.inputFocusTimeout),i.inputFocusTimeout=void 0},i.deferFocusInput=function(){i.cancelFocusInput(),i.inputFocusTimeout=setTimeout(function(){return i.setFocus()},1)},i.handleDropdownFocus=function(){i.cancelFocusInput()},i.handleBlur=function(r){var s,o;(!i.state.open||i.props.withPortal||i.props.showTimeInput)&&((o=(s=i.props).onBlur)===null||o===void 0||o.call(s,r)),i.state.open&&i.props.open===!1&&i.setOpen(!1),i.setState({focused:!1})},i.handleCalendarClickOutside=function(r){var s,o;i.props.inline||i.setOpen(!1),(o=(s=i.props).onClickOutside)===null||o===void 0||o.call(s,r),i.props.withPortal&&r.preventDefault()},i.handleChange=function(){for(var r,s,o,a,l,c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=c[0];if(!(i.props.onChangeRaw&&(i.props.onChangeRaw.apply(i,c),!d||typeof d.isDefaultPrevented!="function"||d.isDefaultPrevented()))){i.setState({inputValue:(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:null,lastPreSelectChange:eK});var h=i.props,f=h.selectsRange,p=h.startDate,m=h.endDate,v=(r=i.props.dateFormat)!==null&&r!==void 0?r:e.defaultProps.dateFormat,g=(s=i.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,y=(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:"";if(f){var _=y.split("-",2).map(function(R){return R.trim()}),b=_[0],w=_[1],S=Kp(b??"",v,i.props.locale,g),C=Kp(w??"",v,i.props.locale,g),x=(p==null?void 0:p.getTime())!==(S==null?void 0:S.getTime()),E=(m==null?void 0:m.getTime())!==(C==null?void 0:C.getTime());if(!x&&!E||S&&sn(S,i.props)||C&&sn(C,i.props))return;(a=(o=i.props).onChange)===null||a===void 0||a.call(o,[S,C],d)}else{var T=Kp(y,v,i.props.locale,g,(l=i.props.selected)!==null&&l!==void 0?l:void 0);(T||!y)&&i.setSelected(T,d,!0)}}},i.handleSelect=function(r,s,o){if(i.props.shouldCloseOnSelect&&!i.props.showTimeSelect&&i.sendFocusBackToInput(),i.props.onChangeRaw&&i.props.onChangeRaw(s),i.setSelected(r,s,!1,o),i.props.showDateSelect&&i.setState({isRenderAriaLiveMessage:!0}),!i.props.shouldCloseOnSelect||i.props.showTimeSelect)i.setPreSelection(r);else if(!i.props.inline){i.props.selectsRange||i.setOpen(!1);var a=i.props,l=a.startDate,c=a.endDate;l&&!c&&(i.props.swapRange||!WS(r,l))&&i.setOpen(!1)}},i.setSelected=function(r,s,o,a){var l,c,u=r;if(i.props.showYearPicker){if(u!==null&&ud(J(u),i.props))return}else if(i.props.showMonthYearPicker){if(u!==null&&zI(u,i.props))return}else if(u!==null&&sn(u,i.props))return;var d=i.props,h=d.onChange,f=d.selectsRange,p=d.startDate,m=d.endDate,v=d.selectsMultiple,g=d.selectedDates,y=d.minTime,_=d.swapRange;if(!as(i.props.selected,u)||i.props.allowSameDay||f||v)if(u!==null&&(i.props.selected&&(!o||!i.props.showTimeSelect&&!i.props.showTimeSelectOnly&&!i.props.showTimeInput)&&(u=qp(u,{hour:xi(i.props.selected),minute:Si(i.props.selected),second:yr(i.props.selected)})),!o&&(i.props.showTimeSelect||i.props.showTimeSelectOnly)&&y&&(u=qp(u,{hour:y.getHours(),minute:y.getMinutes(),second:y.getSeconds()})),i.props.inline||i.setState({preSelection:u}),i.props.focusSelectedMonth||i.setState({monthSelectedIn:a})),f){var b=!p&&!m,w=p&&!m,S=p&&m;b?h==null||h([u,null],s):w&&(u===null?h==null||h([null,null],s):WS(u,p)?_?h==null||h([u,p],s):h==null||h([u,null],s):h==null||h([p,u],s)),S&&(h==null||h([u,null],s))}else if(v){if(u!==null)if(!(g!=null&&g.length))h==null||h([u],s);else{var C=g.some(function(E){return ne(E,u)});if(C){var x=g.filter(function(E){return!ne(E,u)});h==null||h(x,s)}else h==null||h(Hn(Hn([],g,!0),[u],!1),s)}}else h==null||h(u,s);o||((c=(l=i.props).onSelect)===null||c===void 0||c.call(l,u,s),i.setState({inputValue:null}))},i.setPreSelection=function(r){var s=bi(i.props.minDate),o=bi(i.props.maxDate),a=!0;if(r){var l=cd(r);if(s&&o)a=Za(r,i.props.minDate,i.props.maxDate);else if(s){var c=cd(i.props.minDate);a=Dr(r,c)||as(l,c)}else if(o){var u=PS(i.props.maxDate);a=Ns(r,u)||as(l,u)}}a&&i.setState({preSelection:r})},i.toggleCalendar=function(){i.setOpen(!i.state.open)},i.handleTimeChange=function(r){var s,o;if(!(i.props.selectsRange||i.props.selectsMultiple)){var a=i.props.selected?i.props.selected:i.getPreSelection(),l=i.props.selected?r:qp(a,{hour:xi(r),minute:Si(r)});i.setState({preSelection:l}),(o=(s=i.props).onChange)===null||o===void 0||o.call(s,l),i.props.shouldCloseOnSelect&&!i.props.showTimeInput&&(i.sendFocusBackToInput(),i.setOpen(!1)),i.props.showTimeInput&&i.setOpen(!0),(i.props.showTimeSelectOnly||i.props.showTimeSelect)&&i.setState({isRenderAriaLiveMessage:!0}),i.setState({inputValue:null})}},i.onInputClick=function(){var r,s;!i.props.disabled&&!i.props.readOnly&&i.setOpen(!0),(s=(r=i.props).onInputClick)===null||s===void 0||s.call(r)},i.onInputKeyDown=function(r){var s,o,a,l,c,u;(o=(s=i.props).onKeyDown)===null||o===void 0||o.call(s,r);var d=r.key;if(!i.state.open&&!i.props.inline&&!i.props.preventOpenOnFocus){(d===L.ArrowDown||d===L.ArrowUp||d===L.Enter)&&((a=i.onInputClick)===null||a===void 0||a.call(i));return}if(i.state.open){if(d===L.ArrowDown||d===L.ArrowUp){r.preventDefault();var h=i.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":i.props.showWeekPicker&&i.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':i.props.showFullMonthYearPicker||i.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',f=((l=i.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&i.calendar.containerRef.current.querySelector(h);f instanceof HTMLElement&&f.focus({preventScroll:!0});return}var p=ce(i.state.preSelection);d===L.Enter?(r.preventDefault(),r.target.blur(),i.inputOk()&&i.state.lastPreSelectChange===Xp?(i.handleSelect(p,r),!i.props.shouldCloseOnSelect&&i.setPreSelection(p)):i.setOpen(!1)):d===L.Escape?(r.preventDefault(),r.target.blur(),i.sendFocusBackToInput(),i.setOpen(!1)):d===L.Tab&&i.setOpen(!1),i.inputOk()||(u=(c=i.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:Qp})}},i.onPortalKeyDown=function(r){var s=r.key;s===L.Escape&&(r.preventDefault(),i.setState({preventFocus:!0},function(){i.setOpen(!1),setTimeout(function(){i.setFocus(),i.setState({preventFocus:!1})})}))},i.onDayKeyDown=function(r){var s,o,a,l,c,u,d=i.props,h=d.minDate,f=d.maxDate,p=d.disabledKeyboardNavigation,m=d.showWeekPicker,v=d.shouldCloseOnSelect,g=d.locale,y=d.calendarStartDay,_=d.adjustDateOnChange,b=d.inline;if((o=(s=i.props).onKeyDown)===null||o===void 0||o.call(s,r),!p){var w=r.key,S=r.shiftKey,C=ce(i.state.preSelection),x=function(U,B){var F=B;switch(U){case L.ArrowRight:F=m?hh(B,1):Tn(B,1);break;case L.ArrowLeft:F=m?ex(B,1):RP(B,1);break;case L.ArrowUp:F=ex(B,1);break;case L.ArrowDown:F=hh(B,1);break;case L.PageUp:F=S?Qo(B,1):ms(B,1);break;case L.PageDown:F=S?wi(B,1):Mn(B,1);break;case L.Home:F=_r(B,g,y);break;case L.End:F=d8(B);break}return F},E=function(U,B){for(var F=40,M=U,V=!1,W=0,G=x(U,B);!V;){if(W>=F){G=B;break}h&&G<h&&(M=L.ArrowRight,G=sn(h,i.props)?x(M,G):h),f&&G>f&&(M=L.ArrowLeft,G=sn(f,i.props)?x(M,G):f),sn(G,i.props)?((M===L.PageUp||M===L.Home)&&(M=L.ArrowRight),(M===L.PageDown||M===L.End)&&(M=L.ArrowLeft),G=x(M,G)):V=!0,W++}return G};if(w===L.Enter){r.preventDefault(),i.handleSelect(C,r),!v&&i.setPreSelection(C);return}else if(w===L.Escape){r.preventDefault(),i.setOpen(!1),i.inputOk()||(l=(a=i.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:Qp});return}var T=null;switch(w){case L.ArrowLeft:case L.ArrowRight:case L.ArrowUp:case L.ArrowDown:case L.PageUp:case L.PageDown:case L.Home:case L.End:T=E(w,C);break}if(!T){(u=(c=i.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:Qp});return}if(r.preventDefault(),i.setState({lastPreSelectChange:Xp}),_&&i.setSelected(T),i.setPreSelection(T),b){var R=bt(C),N=bt(T),H=J(C),q=J(T);R!==N||H!==q?i.setState({shouldFocusDayInline:!0}):i.setState({shouldFocusDayInline:!1})}}},i.onPopperKeyDown=function(r){var s=r.key;s===L.Escape&&(r.preventDefault(),i.sendFocusBackToInput())},i.onClearClick=function(r){r&&r.preventDefault&&r.preventDefault(),i.sendFocusBackToInput();var s=i.props,o=s.selectsRange,a=s.onChange;o?a==null||a([null,null],r):a==null||a(null,r),i.setState({inputValue:null})},i.clear=function(){i.onClearClick()},i.onScroll=function(r){typeof i.props.closeOnScroll=="boolean"&&i.props.closeOnScroll?(r.target===document||r.target===document.documentElement||r.target===document.body)&&i.setOpen(!1):typeof i.props.closeOnScroll=="function"&&i.props.closeOnScroll(r)&&i.setOpen(!1)},i.renderCalendar=function(){var r,s;return!i.props.inline&&!i.isCalendarOpen()?null:P.createElement(Y8,ie({showMonthYearDropdown:void 0,ref:function(o){i.calendar=o}},i.props,i.state,{setOpen:i.setOpen,dateFormat:(r=i.props.dateFormatCalendar)!==null&&r!==void 0?r:e.defaultProps.dateFormatCalendar,onSelect:i.handleSelect,onClickOutside:i.handleCalendarClickOutside,holidays:S8(i.modifyHolidays()),outsideClickIgnoreClass:HS,onDropdownFocus:i.handleDropdownFocus,onTimeChange:i.handleTimeChange,className:i.props.calendarClassName,container:i.props.calendarContainer,handleOnKeyDown:i.props.onKeyDown,handleOnDayKeyDown:i.onDayKeyDown,setPreSelection:i.setPreSelection,dropdownMode:(s=i.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),i.props.children)},i.renderAriaLiveRegion=function(){var r=i.props,s=r.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,a=r.locale,l=i.props.showTimeInput||i.props.showTimeSelect,c=l?"PPPPp":"PPPP",u;return i.props.selectsRange?u="Selected start date: ".concat(en(i.props.startDate,{dateFormat:c,locale:a}),". ").concat(i.props.endDate?"End date: "+en(i.props.endDate,{dateFormat:c,locale:a}):""):i.props.showTimeSelectOnly?u="Selected time: ".concat(en(i.props.selected,{dateFormat:o,locale:a})):i.props.showYearPicker?u="Selected year: ".concat(en(i.props.selected,{dateFormat:"yyyy",locale:a})):i.props.showMonthYearPicker?u="Selected month: ".concat(en(i.props.selected,{dateFormat:"MMMM yyyy",locale:a})):i.props.showQuarterYearPicker?u="Selected quarter: ".concat(en(i.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):u="Selected date: ".concat(en(i.props.selected,{dateFormat:c,locale:a})),P.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},i.renderDateInput=function(){var r,s,o,a=rt(i.props.className,(r={},r[HS]=i.state.open,r)),l=i.props.customInput||P.createElement("input",{type:"text"}),c=i.props.customInputRef||"ref",u=i.props,d=u.dateFormat,h=d===void 0?e.defaultProps.dateFormat:d,f=u.locale,p=typeof i.props.value=="string"?i.props.value:typeof i.state.inputValue=="string"?i.state.inputValue:i.props.selectsRange?a8(i.props.startDate,i.props.endDate,{dateFormat:h,locale:f}):i.props.selectsMultiple?l8((o=i.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:h,locale:f}):en(i.props.selected,{dateFormat:h,locale:f});return k.cloneElement(l,(s={},s[c]=function(m){i.input=m},s.value=p,s.onBlur=i.handleBlur,s.onChange=i.handleChange,s.onClick=i.onInputClick,s.onFocus=i.handleFocus,s.onKeyDown=i.onInputKeyDown,s.id=i.props.id,s.name=i.props.name,s.form=i.props.form,s.autoFocus=i.props.autoFocus,s.placeholder=i.props.placeholderText,s.disabled=i.props.disabled,s.autoComplete=i.props.autoComplete,s.className=rt(l.props.className,a),s.title=i.props.title,s.readOnly=i.props.readOnly,s.required=i.props.required,s.tabIndex=i.props.tabIndex,s["aria-describedby"]=i.props.ariaDescribedBy,s["aria-invalid"]=i.props.ariaInvalid,s["aria-labelledby"]=i.props.ariaLabelledBy,s["aria-required"]=i.props.ariaRequired,s))},i.renderClearButton=function(){var r=i.props,s=r.isClearable,o=r.disabled,a=r.selected,l=r.startDate,c=r.endDate,u=r.clearButtonTitle,d=r.clearButtonClassName,h=d===void 0?"":d,f=r.ariaLabelClose,p=f===void 0?"Close":f,m=r.selectedDates;return s&&(a!=null||l!=null||c!=null||m!=null&&m.length)?P.createElement("button",{type:"button",className:rt("react-datepicker__close-icon",h,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":p,onClick:i.onClearClick,title:u,tabIndex:-1}):null},i.state=i.calcInitialState(),i.preventFocusTimeout=void 0,i}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Fc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,i){var r,s,o,a;n.inline&&J8(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:FS(this.props.highlightDates)}),!i.focused&&!as(n.selected,this.props.selected)&&this.setState({inputValue:null}),i.open!==this.state.open&&(i.open===!1&&this.state.open===!0&&((s=(r=this.props).onCalendarOpen)===null||s===void 0||s.call(r)),i.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,i=n.showIcon,r=n.icon,s=n.calendarIconClassname,o=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),P.createElement("div",{className:"react-datepicker__input-container".concat(i?" react-datepicker__view-calendar-icon":"")},i&&P.createElement($8,ie({icon:r,className:rt(o,!o&&s,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var i=this.state.open?P.createElement(KI,{enableTabLoop:this.props.enableTabLoop},P.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(i=P.createElement($I,ie({portalId:this.props.portalId},this.props),i)),P.createElement("div",null,this.renderInputContainer(),i)}return P.createElement(X8,ie({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(k.Component),eK="input",Xp="navigate";const qI=k.createContext({currentUser:null,loading:!0});function GI(){return k.useContext(qI)}function tK({children:t}){const[e,n]=k.useState(null),[i,r]=k.useState(!0);k.useEffect(()=>BW(uh,a=>{n(a),r(!1)}),[]);const s={currentUser:e,loading:i};return D.jsx(qI.Provider,{value:s,children:!i&&t})}const nK=({todayWords:t,onSearch:e})=>{const{currentUser:n}=GI(),[i,r]=k.useState(new Date),[s,o]=k.useState([]);k.useEffect(()=>{i&&n&&(async()=>{try{const c=Tr(i,"yyyy-MM-dd"),u=Tr(new Date,"yyyy-MM-dd");if(c===u){o(()=>Array.from(t));return}const d=await NP(n.uid,c);o(d?()=>Object.keys(d.words):()=>[])}catch(c){console.error("Error fetching data:",c)}})()},[i,t,n]);const a=l=>{e(d_(l))};return D.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-4",children:[D.jsx("h2",{className:"text-2xl font-bold mb-4",children:"History"}),D.jsxs("div",{className:"mb-4",children:[D.jsx("label",{htmlFor:"date-picker",className:"block text-sm font-medium text-gray-700",children:"Select Date:"}),D.jsx(Z8,{selected:i,onChange:l=>r(l||new Date),dateFormat:"yyyy-MM-dd",className:"mt-1 p-2 border rounded-md w-full focus:ring-blue-500 focus:border-blue-500",id:"date-picker",placeholderText:"YYYY-MM-DD",showYearDropdown:!0,showMonthDropdown:!0,scrollableYearDropdown:!0,yearDropdownItemNumber:15,maxDate:new Date})]}),D.jsxs("div",{children:[D.jsx("h3",{className:"text-lg font-semibold text-blue-500",children:"Daily Search Words"}),D.jsxs("span",{className:"text-gray-600",children:["Total: ",s.length]}),D.jsx("ul",{className:"columns-2 md:columns-3 gap-4 list-disc list-inside text-gray-600",children:s.map((l,c)=>D.jsx("li",{children:D.jsx("span",{className:"text-gray-600 cursor-pointer hover:underline hover:text-blue-500",onClick:()=>a(l),children:l})},c))})]})]})};function iK(){const[t,e]=k.useState(!1),n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return k.useEffect(()=>{const i=()=>{window.scrollY>100?e(!0):e(!1)};return window.addEventListener("scroll",i),()=>{window.removeEventListener("scroll",i)}},[]),D.jsx("button",{type:"button",onClick:n,className:`fixed bottom-4 right-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition-opacity duration-300 z-50 ${t?"opacity-100":"opacity-0 pointer-events-none"}`,children:D.jsx(aN,{className:"h-6 w-6"})})}const V_=k.createContext({});function B_(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Nf=k.createContext(null),j_=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class rK extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=i instanceof HTMLElement&&i.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sK({children:t,isPresent:e,anchorX:n}){const i=k.useId(),r=k.useRef(null),s=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=k.useContext(j_);return k.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u,right:d}=s.current;if(e||!r.current||!a||!l)return;const h=n==="left"?`left: ${u}`:`right: ${d}`;r.current.dataset.motionPopId=i;const f=document.createElement("style");return o&&(f.nonce=o),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),D.jsx(rK,{isPresent:e,childRef:r,sizeRef:s,children:k.cloneElement(t,{ref:r})})}const oK=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=B_(aK),c=k.useId(),u=k.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;i&&i()},[l,i]),d=k.useMemo(()=>({id:c,initial:e,isPresent:n,custom:r,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),s?[Math.random(),u]:[n,u]);return k.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[n]),k.useEffect(()=>{!n&&!l.size&&i&&i()},[n]),o==="popLayout"&&(t=D.jsx(sK,{isPresent:n,anchorX:a,children:t})),D.jsx(Nf.Provider,{value:d,children:t})};function aK(){return new Map}function QI(t=!0){const e=k.useContext(Nf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=k.useId();k.useEffect(()=>{if(t)return r(s)},[t]);const o=k.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const Ru=t=>t.key||"";function YS(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const W_=typeof window<"u",XI=W_?k.useLayoutEffect:k.useEffect,lK=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=QI(o),u=k.useMemo(()=>YS(t),[t]),d=o&&!l?[]:u.map(Ru),h=k.useRef(!0),f=k.useRef(u),p=B_(()=>new Map),[m,v]=k.useState(u),[g,y]=k.useState(u);XI(()=>{h.current=!1,f.current=u;for(let w=0;w<g.length;w++){const S=Ru(g[w]);d.includes(S)?p.delete(S):p.get(S)!==!0&&p.set(S,!1)}},[g,d.length,d.join("-")]);const _=[];if(u!==m){let w=[...u];for(let S=0;S<g.length;S++){const C=g[S],x=Ru(C);d.includes(x)||(w.splice(S,0,C),_.push(C))}return s==="wait"&&_.length&&(w=_),y(YS(w)),v(u),null}const{forceRender:b}=k.useContext(V_);return D.jsx(D.Fragment,{children:g.map(w=>{const S=Ru(w),C=o&&!l?!1:u===g||d.includes(S),x=()=>{if(p.has(S))p.set(S,!0);else return;let E=!0;p.forEach(T=>{T||(E=!1)}),E&&(b==null||b(),y(f.current),o&&(c==null||c()),i&&i())};return D.jsx(oK,{isPresent:C,initial:!h.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:s,onExitComplete:C?void 0:x,anchorX:a,children:w},S)})})},Kt=t=>t;let JI=Kt;function z_(t){let e;return()=>(e===void 0&&(e=t()),e)}const ra=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Ci=t=>t*1e3,Ei=t=>t/1e3,cK={skipAnimations:!1,useManualTiming:!1},Au=["read","resolveKeyframes","update","preRender","render","postRender"],$S={value:null,addProjectionMetrics:null};function uK(t,e){let n=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){o.has(d)&&(u.schedule(d),t()),l++,d(a)}const u={schedule:(d,h=!1,f=!1)=>{const m=f&&r?n:i;return h&&o.add(d),m.has(d)||m.add(d),d},cancel:d=>{i.delete(d),o.delete(d)},process:d=>{if(a=d,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(c),e&&$S.value&&$S.value.frameloop[e].push(l),l=0,n.clear(),r=!1,s&&(s=!1,u.process(d))}};return u}const dK=40;function ZI(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Au.reduce((g,y)=>(g[y]=uK(s,e?y:void 0),g),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=o,f=()=>{const g=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(g-r.timestamp,dK),1),r.timestamp=g,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(f))},p=()=>{n=!0,i=!0,r.isProcessing||t(f)};return{schedule:Au.reduce((g,y)=>{const _=o[y];return g[y]=(b,w=!1,S=!1)=>(n||p(),_.schedule(b,w,S)),g},{}),cancel:g=>{for(let y=0;y<Au.length;y++)o[Au[y]].cancel(g)},state:r,steps:o}}const{schedule:_e,cancel:Mr,state:it,steps:Jp}=ZI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kt,!0),eM=k.createContext({strict:!1}),KS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sa={};for(const t in KS)sa[t]={isEnabled:e=>KS[t].some(n=>!!e[n])};function hK(t){for(const e in t)sa[e]={...sa[e],...t[e]}}const fK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fK.has(t)}let tM=t=>!Rh(t);function pK(t){t&&(tM=e=>e.startsWith("on")?!Rh(e):t(e))}try{pK(require("@emotion/is-prop-valid").default)}catch{}function mK(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(tM(r)||n===!0&&Rh(r)||!e&&!Rh(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function gK(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const Lf=k.createContext({});function Ff(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function cc(t){return typeof t=="string"||Array.isArray(t)}const U_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],H_=["initial",...U_];function Vf(t){return Ff(t.animate)||H_.some(e=>cc(t[e]))}function nM(t){return!!(Vf(t)||t.variants)}function yK(t,e){if(Vf(t)){const{initial:n,animate:i}=t;return{initial:n===!1||cc(n)?n:void 0,animate:cc(i)?i:void 0}}return t.inherit!==!1?e:{}}function vK(t){const{initial:e,animate:n}=yK(t,k.useContext(Lf));return k.useMemo(()=>({initial:e,animate:n}),[qS(e),qS(n)])}function qS(t){return Array.isArray(t)?t.join(" "):t}const _K=Symbol.for("motionComponentSymbol");function go(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wK(t,e,n){return k.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):go(n)&&(n.current=i))},[e])}const Y_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bK="framerAppearId",iM="data-"+Y_(bK),{schedule:$_,cancel:n7}=ZI(queueMicrotask,!1),rM=k.createContext({});function xK(t,e,n,i,r){var s,o;const{visualElement:a}=k.useContext(Lf),l=k.useContext(eM),c=k.useContext(Nf),u=k.useContext(j_).reducedMotion,d=k.useRef(null);i=i||l.renderer,!d.current&&i&&(d.current=i(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,f=k.useContext(rM);h&&!h.projection&&r&&(h.type==="html"||h.type==="svg")&&SK(d.current,n,r,f);const p=k.useRef(!1);k.useInsertionEffect(()=>{h&&p.current&&h.update(n,c)});const m=n[iM],v=k.useRef(!!m&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,m))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return XI(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),$_.render(h.render),v.current&&h.animationState&&h.animationState.animateChanges())}),k.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,m)}),v.current=!1))}),h}function SK(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:sM(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&go(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function sM(t){if(t)return t.options.allowProjection!==!1?t.projection:sM(t.parent)}function kK({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var s,o;t&&hK(t);function a(c,u){let d;const h={...k.useContext(j_),...c,layoutId:CK(c)},{isStatic:f}=h,p=vK(c),m=i(c,f);if(!f&&W_){EK();const v=TK(h);d=v.MeasureLayout,p.visualElement=xK(r,m,h,e,v.ProjectionNode)}return D.jsxs(Lf.Provider,{value:p,children:[d&&p.visualElement?D.jsx(d,{visualElement:p.visualElement,...h}):null,n(r,c,wK(m,p.visualElement,u),m,f,p.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${(o=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&o!==void 0?o:""})`}`;const l=k.forwardRef(a);return l[_K]=r,l}function CK({layoutId:t}){const e=k.useContext(V_).id;return e&&t!==void 0?e+"-"+t:t}function EK(t,e){k.useContext(eM).strict}function TK(t){const{drag:e,layout:n}=sa;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const oM=t=>e=>typeof e=="string"&&e.startsWith(t),K_=oM("--"),DK=oM("var(--"),q_=t=>DK(t)?PK.test(t.split("/*")[0].trim()):!1,PK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uc={};function IK(t){for(const e in t)uc[e]=t[e],K_(e)&&(uc[e].isCSSVariable=!0)}const ya=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qs=new Set(ya);function aM(t,{layout:e,layoutId:n}){return qs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!uc[t]||t==="opacity")}const ft=t=>!!(t&&t.getVelocity),lM=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ni=(t,e,n)=>n>e?e:n<t?t:n,va={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dc={...va,transform:t=>Ni(0,1,t)},Ou={...va,default:1},Bc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ui=Bc("deg"),Xn=Bc("%"),Y=Bc("px"),MK=Bc("vh"),RK=Bc("vw"),GS={...Xn,parse:t=>Xn.parse(t)/100,transform:t=>Xn.transform(t*100)},AK={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,backgroundPositionX:Y,backgroundPositionY:Y},OK={rotate:Ui,rotateX:Ui,rotateY:Ui,rotateZ:Ui,scale:Ou,scaleX:Ou,scaleY:Ou,scaleZ:Ou,skew:Ui,skewX:Ui,skewY:Ui,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:dc,originX:GS,originY:GS,originZ:Y},QS={...va,transform:Math.round},G_={...AK,...OK,zIndex:QS,size:Y,fillOpacity:dc,strokeOpacity:dc,numOctaves:QS},NK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LK=ya.length;function FK(t,e,n){let i="",r=!0;for(let s=0;s<LK;s++){const o=ya[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=lM(a,G_[o]);if(!l){r=!1;const u=NK[o]||o;i+=`${u}(${c}) `}n&&(e[o]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function Q_(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(qs.has(l)){o=!0;continue}else if(K_(l)){r[l]=c;continue}else{const u=lM(c,G_[l]);l.startsWith("origin")?(a=!0,s[l]=u):i[l]=u}}if(e.transform||(o||n?i.transform=FK(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;i.transformOrigin=`${l} ${c} ${u}`}}const X_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cM(t,e,n){for(const i in e)!ft(e[i])&&!aM(i,n)&&(t[i]=e[i])}function VK({transformTemplate:t},e){return k.useMemo(()=>{const n=X_();return Q_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function BK(t,e){const n=t.style||{},i={};return cM(i,n,t),Object.assign(i,VK(t,e)),i}function jK(t,e){const n={},i=BK(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const WK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function J_(t){return typeof t!="string"||t.includes("-")?!1:!!(WK.indexOf(t)>-1||/[A-Z]/u.test(t))}const zK={offset:"stroke-dashoffset",array:"stroke-dasharray"},UK={offset:"strokeDashoffset",array:"strokeDasharray"};function HK(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?zK:UK;t[s.offset]=Y.transform(-i);const o=Y.transform(e),a=Y.transform(n);t[s.array]=`${o} ${a}`}function XS(t,e,n){return typeof t=="string"?t:Y.transform(e+n*t)}function YK(t,e,n){const i=XS(e,t.x,t.width),r=XS(n,t.y,t.height);return`${i} ${r}`}function Z_(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(Q_(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f,dimensions:p}=t;h.transform&&(p&&(f.transform=h.transform),delete h.transform),p&&(r!==void 0||s!==void 0||f.transform)&&(f.transformOrigin=YK(p,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),i!==void 0&&(h.scale=i),o!==void 0&&HK(h,o,a,l,!1)}const uM=()=>({...X_(),attrs:{}}),e0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function $K(t,e,n,i){const r=k.useMemo(()=>{const s=uM();return Z_(s,e,e0(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};cM(s,t.style,t),r.style={...s,...r.style}}return r}function KK(t=!1){return(n,i,r,{latestValues:s},o)=>{const l=(J_(n)?$K:jK)(i,s,o,n),c=mK(i,typeof n=="string",t),u=n!==k.Fragment?{...c,...l,ref:r}:{},{children:d}=i,h=k.useMemo(()=>ft(d)?d.get():d,[d]);return k.createElement(n,{...u,children:h})}}function JS(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function t0(t,e,n,i){if(typeof e=="function"){const[r,s]=JS(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=JS(i);e=e(n!==void 0?n:t.custom,r,s)}return e}const $g=t=>Array.isArray(t),qK=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),GK=t=>$g(t)?t[t.length-1]||0:t;function dd(t){const e=ft(t)?t.get():t;return qK(e)?e.toValue():e}function QK({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,s){const o={latestValues:XK(i,r,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:i,current:a,...o}),o.onUpdate=a=>n(a)),o}const dM=t=>(e,n)=>{const i=k.useContext(Lf),r=k.useContext(Nf),s=()=>QK(t,e,i,r);return n?s():B_(s)};function XK(t,e,n,i){const r={},s=i(t,{});for(const h in s)r[h]=dd(s[h]);let{initial:o,animate:a}=t;const l=Vf(t),c=nM(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!Ff(d)){const h=Array.isArray(d)?d:[d];for(let f=0;f<h.length;f++){const p=t0(t,h[f]);if(p){const{transitionEnd:m,transition:v,...g}=p;for(const y in g){let _=g[y];if(Array.isArray(_)){const b=u?_.length-1:0;_=_[b]}_!==null&&(r[y]=_)}for(const y in m)r[y]=m[y]}}}return r}function n0(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(ft(r[o])||e.style&&ft(e.style[o])||aM(o,t)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const JK={useVisualState:dM({scrapeMotionValuesFromProps:n0,createRenderState:X_})};function hM(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function fM(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const pM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mM(t,e,n,i){fM(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(pM.has(r)?r:Y_(r),e.attrs[r])}function gM(t,e,n){const i=n0(t,e,n);for(const r in t)if(ft(t[r])||ft(e[r])){const s=ya.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}const ZS=["x","y","width","height","cx","cy","r"],ZK={useVisualState:dM({scrapeMotionValuesFromProps:gM,createRenderState:uM,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in r)if(qs.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<ZS.length;a++){const l=ZS[a];t[l]!==e[l]&&(o=!0)}o&&_e.read(()=>{hM(n,i),_e.render(()=>{Z_(i,r,e0(n.tagName),t.transformTemplate),mM(n,i)})})}})};function eq(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...J_(i)?ZK:JK,preloadedFeatures:t,useRender:KK(r),createVisualElement:e,Component:i};return kK(o)}}function hc(t,e,n){const i=t.getProps();return t0(i,e,n!==void 0?n:i.custom,t)}const tq=z_(()=>window.ScrollTimeline!==void 0);class nq{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(tq()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class iq extends nq{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function i0(t,e){return t?t[e]||t.default||t:void 0}const Kg=2e4;function yM(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Kg;)e+=n,i=t.next(e);return e>=Kg?1/0:e}function r0(t){return typeof t=="function"}function ek(t,e){t.timeline=e,t.onfinish=null}const s0=t=>Array.isArray(t)&&typeof t[0]=="number",rq={linearEasing:void 0};function sq(t,e){const n=z_(t);return()=>{var i;return(i=rq[e])!==null&&i!==void 0?i:n()}}const Ah=sq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vM=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(ra(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function _M(t){return!!(typeof t=="function"&&Ah()||!t||typeof t=="string"&&(t in qg||Ah())||s0(t)||Array.isArray(t)&&t.every(_M))}const el=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,qg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:el([0,.65,.55,1]),circOut:el([.55,0,1,.45]),backIn:el([.31,.01,.66,-.59]),backOut:el([.33,1.53,.69,.99])};function wM(t,e){if(t)return typeof t=="function"&&Ah()?vM(t,e):s0(t)?el(t):Array.isArray(t)?t.map(n=>wM(n,e)||qg.easeOut):qg[t]}const gn={x:!1,y:!1};function bM(){return gn.x||gn.y}function oq(t,e,n){var i;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const s=(i=n==null?void 0:n[t])!==null&&i!==void 0?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function xM(t,e){const n=oq(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function tk(t){return!(t.pointerType==="touch"||bM())}function aq(t,e,n={}){const[i,r,s]=xM(t,n),o=a=>{if(!tk(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=d=>{tk(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}function bl(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const SM=(t,e)=>e?t===e?!0:SM(t,e.parentElement):!1,o0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,lq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cq(t){return lq.has(t.tagName)||t.tabIndex!==-1}const tl=new WeakSet;function nk(t){return e=>{e.key==="Enter"&&t(e)}}function Zp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const uq=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=nk(()=>{if(tl.has(n))return;Zp(n,"down");const r=nk(()=>{Zp(n,"up")}),s=()=>Zp(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function ik(t){return o0(t)&&!bM()}function dq(t,e,n={}){const[i,r,s]=xM(t,n),o=a=>{const l=a.currentTarget;if(!l||!ik(a)||tl.has(l))return;tl.add(l),bl(a,"set");const c=e(l,a),u=(f,p)=>{l.removeEventListener("pointerup",d),l.removeEventListener("pointercancel",h),bl(f,"release"),!(!ik(f)||!tl.has(l))&&(tl.delete(l),typeof c=="function"&&c(f,{success:p}))},d=f=>{(f.isTrusted?hq(f,l instanceof Element?l.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?u(f,!1):u(f,!(l instanceof Element)||SM(l,f.target))},h=f=>{u(f,!1)};l.addEventListener("pointerup",d,r),l.addEventListener("pointercancel",h,r),l.addEventListener("lostpointercapture",h,r)};return i.forEach(a=>{a=n.useGlobalTarget?window:a;let l=!1;a instanceof HTMLElement&&(l=!0,!cq(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",o,r),l&&a.addEventListener("focus",c=>uq(c,r),r)}),s}function hq(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function fq(t){return t==="x"||t==="y"?gn[t]?null:(gn[t]=!0,()=>{gn[t]=!1}):gn.x||gn.y?null:(gn.x=gn.y=!0,()=>{gn.x=gn.y=!1})}const kM=new Set(["width","height","top","left","right","bottom",...ya]);let hd;function pq(){hd=void 0}const Jn={now:()=>(hd===void 0&&Jn.set(it.isProcessing||cK.useManualTiming?it.timestamp:performance.now()),hd),set:t=>{hd=t,queueMicrotask(pq)}};function a0(t,e){t.indexOf(e)===-1&&t.push(e)}function l0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class c0{constructor(){this.subscriptions=[]}add(e){return a0(this.subscriptions,e),()=>l0(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function CM(t,e){return e?t*(1e3/e):0}const rk=30,mq=t=>!isNaN(parseFloat(t));class gq{constructor(e,n={}){this.version="12.4.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Jn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Jn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=mq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new c0);const i=this.events[e].add(n);return e==="change"?()=>{i(),_e.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Jn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rk)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,rk);return CM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fc(t,e){return new gq(t,e)}function yq(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fc(n))}function vq(t,e){const n=hc(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=GK(s[o]);yq(t,o,a)}}function _q(t){return!!(ft(t)&&t.add)}function Gg(t,e){const n=t.getValue("willChange");if(_q(n))return n.add(e)}function EM(t){return t.props[iM]}const TM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wq=1e-7,bq=12;function xq(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=TM(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>wq&&++a<bq);return o}function jc(t,e,n,i){if(t===e&&n===i)return Kt;const r=s=>xq(s,0,1,t,n);return s=>s===0||s===1?s:TM(r(s),e,i)}const DM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,PM=t=>e=>1-t(1-e),IM=jc(.33,1.53,.69,.99),u0=PM(IM),MM=DM(u0),RM=t=>(t*=2)<1?.5*u0(t):.5*(2-Math.pow(2,-10*(t-1))),d0=t=>1-Math.sin(Math.acos(t)),AM=PM(d0),OM=DM(d0),NM=t=>/^0[^.\s]+$/u.test(t);function Sq(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||NM(t):!0}const xl=t=>Math.round(t*1e5)/1e5,h0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kq(t){return t==null}const Cq=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,f0=(t,e)=>n=>!!(typeof n=="string"&&Cq.test(n)&&n.startsWith(t)||e&&!kq(n)&&Object.prototype.hasOwnProperty.call(n,e)),LM=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(h0);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Eq=t=>Ni(0,255,t),em={...va,transform:t=>Math.round(Eq(t))},ls={test:f0("rgb","red"),parse:LM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+em.transform(t)+", "+em.transform(e)+", "+em.transform(n)+", "+xl(dc.transform(i))+")"};function Tq(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Qg={test:f0("#"),parse:Tq,transform:ls.transform},yo={test:f0("hsl","hue"),parse:LM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Xn.transform(xl(e))+", "+Xn.transform(xl(n))+", "+xl(dc.transform(i))+")"},ut={test:t=>ls.test(t)||Qg.test(t)||yo.test(t),parse:t=>ls.test(t)?ls.parse(t):yo.test(t)?yo.parse(t):Qg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ls.transform(t):yo.transform(t)},Dq=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Pq(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(h0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Dq))===null||n===void 0?void 0:n.length)||0)>0}const FM="number",VM="color",Iq="var",Mq="var(",sk="${}",Rq=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(Rq,l=>(ut.test(l)?(i.color.push(s),r.push(VM),n.push(ut.parse(l))):l.startsWith(Mq)?(i.var.push(s),r.push(Iq),n.push(l)):(i.number.push(s),r.push(FM),n.push(parseFloat(l))),++s,sk)).split(sk);return{values:n,split:a,indexes:i,types:r}}function BM(t){return pc(t).values}function jM(t){const{split:e,types:n}=pc(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===FM?s+=xl(r[o]):a===VM?s+=ut.transform(r[o]):s+=r[o]}return s}}const Aq=t=>typeof t=="number"?0:t;function Oq(t){const e=BM(t);return jM(t)(e.map(Aq))}const Rr={test:Pq,parse:BM,createTransformer:jM,getAnimatableNone:Oq},Nq=new Set(["brightness","contrast","saturate","opacity"]);function Lq(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(h0)||[];if(!i)return t;const r=n.replace(i,"");let s=Nq.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const Fq=/\b([a-z-]*)\(.*?\)/gu,Xg={...Rr,getAnimatableNone:t=>{const e=t.match(Fq);return e?e.map(Lq).join(" "):t}},Vq={...G_,color:ut,backgroundColor:ut,outlineColor:ut,fill:ut,stroke:ut,borderColor:ut,borderTopColor:ut,borderRightColor:ut,borderBottomColor:ut,borderLeftColor:ut,filter:Xg,WebkitFilter:Xg},p0=t=>Vq[t];function WM(t,e){let n=p0(t);return n!==Xg&&(n=Rr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Bq=new Set(["auto","none","0"]);function jq(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!Bq.has(s)&&pc(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=WM(n,r)}const ok=t=>t===va||t===Y,ak=(t,e)=>parseFloat(t.split(", ")[e]),lk=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return ak(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?ak(s[1],t):0}},Wq=new Set(["x","y","z"]),zq=ya.filter(t=>!Wq.has(t));function Uq(t){const e=[];return zq.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const oa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:lk(4,13),y:lk(5,14)};oa.translateX=oa.x;oa.translateY=oa.y;const _s=new Set;let Jg=!1,Zg=!1;function zM(){if(Zg){const t=Array.from(_s).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=Uq(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Zg=!1,Jg=!1,_s.forEach(t=>t.complete()),_s.clear()}function UM(){_s.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Zg=!0)})}function Hq(){UM(),zM()}class m0{constructor(e,n,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(_s.add(this),Jg||(Jg=!0,_e.read(UM),_e.resolveKeyframes(zM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),_s.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,_s.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const HM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Yq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $q(t){const e=Yq.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function YM(t,e,n=1){const[i,r]=$q(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return HM(o)?parseFloat(o):o}return q_(r)?YM(r,e,n+1):r}const $M=t=>e=>e.test(t),Kq={test:t=>t==="auto",parse:t=>t},KM=[va,Y,Xn,Ui,RK,MK,Kq],ck=t=>KM.find($M(t));class qM extends m0{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),q_(c))){const u=YM(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!kM.has(i)||e.length!==2)return;const[r,s]=e,o=ck(r),a=ck(s);if(o!==a)if(ok(o)&&ok(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)Sq(e[r])&&i.push(r);i.length&&jq(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oa[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=oa[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const uk=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Rr.test(t)||t==="0")&&!t.startsWith("url("));function qq(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Gq(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=uk(r,e),a=uk(s,e);return!o||!a?!1:qq(t)||(n==="spring"||r0(n))&&i}const Qq=t=>t!==null;function Bf(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(Qq),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const Xq=40;class GM{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Jn.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Xq?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Hq(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Jn.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Gq(e,i,r,s))if(o)this.options.duration=0;else{l&&l(Bf(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ie=(t,e,n)=>t+(e-t)*n;function tm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Jq({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=tm(l,a,t+1/3),s=tm(l,a,t),o=tm(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function Oh(t,e){return n=>n>0?e:t}const nm=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},Zq=[Qg,ls,yo],eG=t=>Zq.find(e=>e.test(t));function dk(t){const e=eG(t);if(!e)return!1;let n=e.parse(t);return e===yo&&(n=Jq(n)),n}const hk=(t,e)=>{const n=dk(t),i=dk(e);if(!n||!i)return Oh(t,e);const r={...n};return s=>(r.red=nm(n.red,i.red,s),r.green=nm(n.green,i.green,s),r.blue=nm(n.blue,i.blue,s),r.alpha=Ie(n.alpha,i.alpha,s),ls.transform(r))},tG=(t,e)=>n=>e(t(n)),Wc=(...t)=>t.reduce(tG),ey=new Set(["none","hidden"]);function nG(t,e){return ey.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function iG(t,e){return n=>Ie(t,e,n)}function g0(t){return typeof t=="number"?iG:typeof t=="string"?q_(t)?Oh:ut.test(t)?hk:oG:Array.isArray(t)?QM:typeof t=="object"?ut.test(t)?hk:rG:Oh}function QM(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>g0(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function rG(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=g0(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function sG(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;i[s]=l,r[o]++}return i}const oG=(t,e)=>{const n=Rr.createTransformer(e),i=pc(t),r=pc(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?ey.has(t)&&!r.values.length||ey.has(e)&&!i.values.length?nG(t,e):Wc(QM(sG(i,r),r.values),n):Oh(t,e)};function XM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ie(t,e,n):g0(t)(t,e)}const aG=5;function JM(t,e,n){const i=Math.max(e-aG,0);return CM(n-t(i),e-i)}const Ae={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},im=.001;function lG({duration:t=Ae.duration,bounce:e=Ae.bounce,velocity:n=Ae.velocity,mass:i=Ae.mass}){let r,s,o=1-e;o=Ni(Ae.minDamping,Ae.maxDamping,o),t=Ni(Ae.minDuration,Ae.maxDuration,Ei(t)),o<1?(r=c=>{const u=c*o,d=u*t,h=u-n,f=ty(c,o),p=Math.exp(-d);return im-h/f*p},s=c=>{const d=c*o*t,h=d*n+n,f=Math.pow(o,2)*Math.pow(c,2)*t,p=Math.exp(-d),m=ty(Math.pow(c,2),o);return(-r(c)+im>0?-1:1)*((h-f)*p)/m}):(r=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-im+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=uG(r,s,a);if(t=Ci(t),isNaN(l))return{stiffness:Ae.stiffness,damping:Ae.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const cG=12;function uG(t,e,n){let i=n;for(let r=1;r<cG;r++)i=i-t(i)/e(i);return i}function ty(t,e){return t*Math.sqrt(1-e*e)}const dG=["duration","bounce"],hG=["stiffness","damping","mass"];function fk(t,e){return e.some(n=>t[n]!==void 0)}function fG(t){let e={velocity:Ae.velocity,stiffness:Ae.stiffness,damping:Ae.damping,mass:Ae.mass,isResolvedFromDuration:!1,...t};if(!fk(t,hG)&&fk(t,dG))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Ni(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Ae.mass,stiffness:r,damping:s}}else{const n=lG(t);e={...e,...n,mass:Ae.mass},e.isResolvedFromDuration=!0}return e}function ZM(t=Ae.visualDuration,e=Ae.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=fG({...n,velocity:-Ei(n.velocity||0)}),p=h||0,m=c/(2*Math.sqrt(l*u)),v=o-s,g=Ei(Math.sqrt(l/u)),y=Math.abs(v)<5;i||(i=y?Ae.restSpeed.granular:Ae.restSpeed.default),r||(r=y?Ae.restDelta.granular:Ae.restDelta.default);let _;if(m<1){const w=ty(g,m);_=S=>{const C=Math.exp(-m*g*S);return o-C*((p+m*g*v)/w*Math.sin(w*S)+v*Math.cos(w*S))}}else if(m===1)_=w=>o-Math.exp(-g*w)*(v+(p+g*v)*w);else{const w=g*Math.sqrt(m*m-1);_=S=>{const C=Math.exp(-m*g*S),x=Math.min(w*S,300);return o-C*((p+m*g*v)*Math.sinh(x)+w*v*Math.cosh(x))/w}}const b={calculatedDuration:f&&d||null,next:w=>{const S=_(w);if(f)a.done=w>=d;else{let C=0;m<1&&(C=w===0?Ci(p):JM(_,w,S));const x=Math.abs(C)<=i,E=Math.abs(o-S)<=r;a.done=x&&E}return a.value=a.done?o:S,a},toString:()=>{const w=Math.min(yM(b),Kg),S=vM(C=>b.next(w*C).value,w,30);return w+"ms "+S}};return b}function pk({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=x=>a!==void 0&&x<a||l!==void 0&&x>l,p=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let m=n*e;const v=d+m,g=o===void 0?v:o(v);g!==v&&(m=g-d);const y=x=>-m*Math.exp(-x/i),_=x=>g+y(x),b=x=>{const E=y(x),T=_(x);h.done=Math.abs(E)<=c,h.value=h.done?g:T};let w,S;const C=x=>{f(h.value)&&(w=x,S=ZM({keyframes:[h.value,p(h.value)],velocity:JM(_,x,h.value),damping:r,stiffness:s,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:x=>{let E=!1;return!S&&w===void 0&&(E=!0,b(x),C(x)),w!==void 0&&x>=w?S.next(x-w):(!E&&b(x),h)}}}const pG=jc(.42,0,1,1),mG=jc(0,0,.58,1),eR=jc(.42,0,.58,1),gG=t=>Array.isArray(t)&&typeof t[0]!="number",yG={linear:Kt,easeIn:pG,easeInOut:eR,easeOut:mG,circIn:d0,circInOut:OM,circOut:AM,backIn:u0,backInOut:MM,backOut:IM,anticipate:RM},mk=t=>{if(s0(t)){JI(t.length===4);const[e,n,i,r]=t;return jc(e,n,i,r)}else if(typeof t=="string")return yG[t];return t};function vG(t,e,n){const i=[],r=n||XM,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Kt:e;a=Wc(l,a)}i.push(a)}return i}function _G(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(JI(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=vG(e,i,r),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=ra(t[d],t[d+1],u);return a[d](h)};return n?u=>c(Ni(t[0],t[s-1],u)):c}function wG(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=ra(0,e,i);t.push(Ie(n,1,r))}}function bG(t){const e=[0];return wG(e,t.length-1),e}function xG(t,e){return t.map(n=>n*e)}function SG(t,e){return t.map(()=>e||eR).splice(0,t.length-1)}function Nh({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=gG(i)?i.map(mk):mk(i),s={done:!1,value:e[0]},o=xG(n&&n.length===e.length?n:bG(e),t),a=_G(o,e,{ease:Array.isArray(r)?r:SG(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const kG=t=>{const e=({timestamp:n})=>t(n);return{start:()=>_e.update(e,!0),stop:()=>Mr(e),now:()=>it.isProcessing?it.timestamp:Jn.now()}},CG={decay:pk,inertia:pk,tween:Nh,keyframes:Nh,spring:ZM},EG=t=>t/100;class y0 extends GM{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||m0,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=r0(n)?n:CG[n]||Nh;let l,c;a!==Nh&&typeof e[0]!="number"&&(l=Wc(EG,XM(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=yM(u));const{calculatedDuration:d}=u,h=d+r,f=h*(i+1)-r;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:f}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:x}=this.options;return{done:!0,value:x[x.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=i;if(this.startTime===null)return s.next(0);const{delay:h,repeat:f,repeatType:p,repeatDelay:m,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let _=this.currentTime,b=s;if(f){const x=Math.min(this.currentTime,u)/d;let E=Math.floor(x),T=x%1;!T&&x>=1&&(T=1),T===1&&E--,E=Math.min(E,f+1),!!(E%2)&&(p==="reverse"?(T=1-T,m&&(T-=m/d)):p==="mirror"&&(b=o)),_=Ni(0,1,T)*d}const w=y?{done:!1,value:l[0]}:b.next(_);a&&(w.value=a(w.value));let{done:S}=w;!y&&c!==null&&(S=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return C&&r!==void 0&&(w.value=Bf(l,this.options,r)),v&&v(w.value),C&&this.finish(),w}get duration(){const{resolved:e}=this;return e?Ei(e.calculatedDuration):0}get time(){return Ei(this.currentTime)}set time(e){e=Ci(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ei(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=kG,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const TG=new Set(["opacity","clipPath","filter","transform"]);function DG(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=wM(a,r);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:i,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const PG=z_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Lh=10,IG=2e4;function MG(t){return r0(t.type)||t.type==="spring"||!_M(t.ease)}function RG(t,e){const n=new y0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<IG;)i=n.sample(s),r.push(i.value),s+=Lh;return{times:void 0,keyframes:r,duration:s-Lh,ease:"linear"}}const tR={anticipate:RM,backInOut:MM,circInOut:OM};function AG(t){return t in tR}class gk extends GM{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new qM(s,(o,a)=>this.onKeyframesResolved(o,a),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Ah()&&AG(s)&&(s=tR[s]),MG(this.options)){const{onComplete:d,onUpdate:h,motionValue:f,element:p,...m}=this.options,v=RG(e,m);e=v.keyframes,e.length===1&&(e[1]=e[0]),i=v.duration,r=v.times,s=v.ease,o="keyframes"}const u=DG(a.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(ek(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;a.set(Bf(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:i,times:r,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ei(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ei(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Ci(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Kt;const{animation:i}=n;ek(i,e)}return Kt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:h,...f}=this.options,p=new y0({...f,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),m=Ci(this.time);c.setWithVelocity(p.sample(m-Lh).value,p.sample(m).value,Lh)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return PG()&&i&&TG.has(i)&&!l&&!c&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const OG={type:"spring",stiffness:500,damping:25,restSpeed:10},NG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),LG={type:"keyframes",duration:.8},FG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},VG=(t,{keyframes:e})=>e.length>2?LG:qs.has(t)?t.startsWith("scale")?NG(e[1]):OG:FG;function BG({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const v0=(t,e,n,i={},r,s)=>o=>{const a=i0(i,t)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Ci(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};BG(a)||(u={...u,...VG(t,u)}),u.duration&&(u.duration=Ci(u.duration)),u.repeatDelay&&(u.repeatDelay=Ci(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const h=Bf(u.keyframes,a);if(h!==void 0)return _e.update(()=>{u.onUpdate(h),u.onComplete()}),new iq([])}return!s&&gk.supports(u)?new gk(u):new y0(u)};function jG({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function nR(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const c=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const d in l){const h=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),f=l[d];if(f===void 0||u&&jG(u,d))continue;const p={delay:n,...i0(o||{},d)};let m=!1;if(window.MotionHandoffAnimation){const g=EM(t);if(g){const y=window.MotionHandoffAnimation(g,d,_e);y!==null&&(p.startTime=y,m=!0)}}Gg(t,d),h.start(v0(d,h,f,t.shouldReduceMotion&&kM.has(d)?{type:!1}:p,t,m));const v=h.animation;v&&c.push(v)}return a&&Promise.all(c).then(()=>{_e.update(()=>{a&&vq(t,a)})}),c}function ny(t,e,n={}){var i;const r=hc(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(nR(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return WG(t,e,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function WG(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(zG).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(ny(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function zG(t,e){return t.sortNodePosition(e)}function UG(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>ny(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=ny(t,e,n);else{const r=typeof e=="function"?hc(t,e,n.custom):e;i=Promise.all(nR(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function iR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const HG=H_.length;function rR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?rR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<HG;n++){const i=H_[n],r=t.props[i];(cc(r)||r===!1)&&(e[i]=r)}return e}const YG=[...U_].reverse(),$G=U_.length;function KG(t){return e=>Promise.all(e.map(({animation:n,options:i})=>UG(t,n,i)))}function qG(t){let e=KG(t),n=yk(),i=!0;const r=l=>(c,u)=>{var d;const h=hc(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:f,transitionEnd:p,...m}=h;c={...c,...m,...p}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=rR(t.parent)||{},d=[],h=new Set;let f={},p=1/0;for(let v=0;v<$G;v++){const g=YG[v],y=n[g],_=c[g]!==void 0?c[g]:u[g],b=cc(_),w=g===l?y.isActive:null;w===!1&&(p=v);let S=_===u[g]&&_!==c[g]&&b;if(S&&i&&t.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...f},!y.isActive&&w===null||!_&&!y.prevProp||Ff(_)||typeof _=="boolean")continue;const C=GG(y.prevProp,_);let x=C||g===l&&y.isActive&&!S&&b||v>p&&b,E=!1;const T=Array.isArray(_)?_:[_];let R=T.reduce(r(g),{});w===!1&&(R={});const{prevResolvedValues:N={}}=y,H={...N,...R},q=F=>{x=!0,h.has(F)&&(E=!0,h.delete(F)),y.needsAnimating[F]=!0;const M=t.getValue(F);M&&(M.liveStyle=!1)};for(const F in H){const M=R[F],V=N[F];if(f.hasOwnProperty(F))continue;let W=!1;$g(M)&&$g(V)?W=!iR(M,V):W=M!==V,W?M!=null?q(F):h.add(F):M!==void 0&&h.has(F)?q(F):y.protectedKeys[F]=!0}y.prevProp=_,y.prevResolvedValues=R,y.isActive&&(f={...f,...R}),i&&t.blockInitialAnimation&&(x=!1),x&&(!(S&&C)||E)&&d.push(...T.map(F=>({animation:F,options:{type:g}})))}if(h.size){const v={};if(typeof c.initial!="boolean"){const g=hc(t,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(v.transition=g.transition)}h.forEach(g=>{const y=t.getBaseTarget(g),_=t.getValue(g);_&&(_.liveStyle=!0),v[g]=y??null}),d.push({animation:v})}let m=!!d.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(m=!1),i=!1,m?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var f;return(f=h.animationState)===null||f===void 0?void 0:f.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=yk(),i=!0}}}function GG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!iR(e,t):!1}function Yr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yk(){return{animate:Yr(!0),whileInView:Yr(),whileHover:Yr(),whileTap:Yr(),whileDrag:Yr(),whileFocus:Yr(),exit:Yr()}}class jr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class QG extends jr{constructor(e){super(e),e.animationState||(e.animationState=qG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ff(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let XG=0;class JG extends jr{constructor(){super(...arguments),this.id=XG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ZG={animation:{Feature:QG},exit:{Feature:JG}};function mc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function zc(t){return{point:{x:t.pageX,y:t.pageY}}}const e9=t=>e=>o0(e)&&t(e,zc(e));function vo(t,e,n,i){return mc(t,e,e9(n),i)}function sR({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function t9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function n9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const oR=1e-4,i9=1-oR,r9=1+oR,aR=.01,s9=0-aR,o9=0+aR;function St(t){return t.max-t.min}function a9(t,e,n){return Math.abs(t-e)<=n}function vk(t,e,n,i=.5){t.origin=i,t.originPoint=Ie(e.min,e.max,t.origin),t.scale=St(n)/St(e),t.translate=Ie(n.min,n.max,t.origin)-t.originPoint,(t.scale>=i9&&t.scale<=r9||isNaN(t.scale))&&(t.scale=1),(t.translate>=s9&&t.translate<=o9||isNaN(t.translate))&&(t.translate=0)}function Sl(t,e,n,i){vk(t.x,e.x,n.x,i?i.originX:void 0),vk(t.y,e.y,n.y,i?i.originY:void 0)}function _k(t,e,n){t.min=n.min+e.min,t.max=t.min+St(e)}function l9(t,e,n){_k(t.x,e.x,n.x),_k(t.y,e.y,n.y)}function wk(t,e,n){t.min=e.min-n.min,t.max=t.min+St(e)}function kl(t,e,n){wk(t.x,e.x,n.x),wk(t.y,e.y,n.y)}const bk=()=>({translate:0,scale:1,origin:0,originPoint:0}),_o=()=>({x:bk(),y:bk()}),xk=()=>({min:0,max:0}),Fe=()=>({x:xk(),y:xk()});function Zt(t){return[t("x"),t("y")]}function rm(t){return t===void 0||t===1}function iy({scale:t,scaleX:e,scaleY:n}){return!rm(t)||!rm(e)||!rm(n)}function Zr(t){return iy(t)||lR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function lR(t){return Sk(t.x)||Sk(t.y)}function Sk(t){return t&&t!=="0%"}function Fh(t,e,n){const i=t-n,r=e*i;return n+r}function kk(t,e,n,i,r){return r!==void 0&&(t=Fh(t,r,i)),Fh(t,n,i)+e}function ry(t,e=0,n=1,i,r){t.min=kk(t.min,e,n,i,r),t.max=kk(t.max,e,n,i,r)}function cR(t,{x:e,y:n}){ry(t.x,e.translate,e.scale,e.originPoint),ry(t.y,n.translate,n.scale,n.originPoint)}const Ck=.999999999999,Ek=1.0000000000001;function c9(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&bo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,cR(t,o)),i&&Zr(s.latestValues)&&bo(t,s.latestValues))}e.x<Ek&&e.x>Ck&&(e.x=1),e.y<Ek&&e.y>Ck&&(e.y=1)}function wo(t,e){t.min=t.min+e,t.max=t.max+e}function Tk(t,e,n,i,r=.5){const s=Ie(t.min,t.max,r);ry(t,e,n,s,i)}function bo(t,e){Tk(t.x,e.x,e.scaleX,e.scale,e.originX),Tk(t.y,e.y,e.scaleY,e.scale,e.originY)}function uR(t,e){return sR(n9(t.getBoundingClientRect(),e))}function u9(t,e,n){const i=uR(t,n),{scroll:r}=e;return r&&(wo(i.x,r.offset.x),wo(i.y,r.offset.y)),i}const Dk=(t,e)=>Math.abs(t-e);function d9(t,e){const n=Dk(t.x,e.x),i=Dk(t.y,e.y);return Math.sqrt(n**2+i**2)}class dR{constructor(e,n,{transformPagePoint:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=om(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=d9(u.offset,{x:0,y:0})>=3;if(!d&&!h)return;const{point:f}=u,{timestamp:p}=it;this.history.push({...f,timestamp:p});const{onStart:m,onMove:v}=this.handlers;d||(m&&m(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,u)},this.handlePointerMove=(u,d)=>{if(this.index=Ik(u.currentTarget),u.target instanceof Element&&u.target.hasPointerCapture&&u.pointerId!==void 0)try{if(!u.target.hasPointerCapture(u.pointerId))return}catch{}this.lastMoveEvent=u,this.lastMoveEventInfo=sm(d,this.transformPagePoint),_e.update(this.updatePoint,!0)},this.handlePointerUp=(u,d)=>{bl(u,"release"),this.end();const{onEnd:h,onSessionEnd:f,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=om(u.type==="pointercancel"||u.type==="lostpointercapture"?this.lastMoveEventInfo:sm(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,m),f&&f(u,m)},!o0(e))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i;const s=zc(e),o=sm(s,this.transformPagePoint),{point:a}=o,{timestamp:l}=it;this.history=[{...a,timestamp:l}];const{onSessionStart:c}=n;c&&c(e,om(o,this.history)),bl(e,"set"),this.removeListeners=Wc(vo(e.currentTarget,"pointermove",this.handlePointerMove),vo(e.currentTarget,"pointerup",this.handlePointerUp),vo(e.currentTarget,"pointercancel",this.handlePointerUp),vo(e.currentTarget,"lostpointercapture",(u,d)=>{Ik(u.currentTarget)!==this.index?bl(u,"set"):this.handlePointerUp(u,d)}))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mr(this.updatePoint)}}function sm(t,e){return e?{point:e(t.point)}:t}function Pk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function om({point:t},e){return{point:t,delta:Pk(t,hR(e)),offset:Pk(t,h9(e)),velocity:f9(e,.1)}}function h9(t){return t[0]}function hR(t){return t[t.length-1]}function f9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=hR(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Ci(e)));)n--;if(!i)return{x:0,y:0};const s=Ei(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ik(t){return t.parentNode?Array.from(t.parentNode.children).indexOf(t):-1}function p9(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Ie(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Ie(n,t,i.max):Math.min(t,n)),t}function Mk(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function m9(t,{top:e,left:n,bottom:i,right:r}){return{x:Mk(t.x,n,r),y:Mk(t.y,e,i)}}function Rk(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function g9(t,e){return{x:Rk(t.x,e.x),y:Rk(t.y,e.y)}}function y9(t,e){let n=.5;const i=St(t),r=St(e);return r>i?n=ra(e.min,e.max-i,t.min):i>r&&(n=ra(t.min,t.max-r,e.min)),Ni(0,1,n)}function v9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const sy=.35;function _9(t=sy){return t===!1?t=0:t===!0&&(t=sy),{x:Ak(t,"left","right"),y:Ak(t,"top","bottom")}}function Ak(t,e,n){return{min:Ok(t,e),max:Ok(t,n)}}function Ok(t,e){return typeof t=="number"?t:t[e]||0}const w9=new WeakMap;class b9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zc(u).point)},s=(u,d)=>{const{drag:h,dragPropagation:f,onDragStart:p}=this.getProps();if(h&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fq(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zt(v=>{let g=this.getAxisMotionValue(v).get()||0;if(Xn.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const _=y.layout.layoutBox[v];_&&(g=St(_)*(parseFloat(g)/100))}}this.originPoint[v]=g}),p&&_e.postRender(()=>p(u,d)),Gg(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=d;if(f&&this.currentDirection===null){this.currentDirection=x9(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),m&&m(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Zt(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new dR(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&_e.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Nu(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=p9(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&go(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=m9(r.layoutBox,n):this.constraints=!1,this.elastic=_9(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Zt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=v9(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!go(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=u9(i,r.root,this.visualElement.getTransformPagePoint());let o=g9(r.layout.layoutBox,s);if(n){const a=n(t9(o));this.hasMutatedConstraints=!!a,a&&(o=sR(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Zt(u=>{if(!Nu(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=r?200:1e6,f=r?40:1e7,p={type:"inertia",velocity:i?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Gg(this.visualElement,e),i.start(v0(e,i,0,n,this.visualElement,!1))}stopAnimation(){Zt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Zt(n=>{const{drag:i}=this.getProps();if(!Nu(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-Ie(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!go(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Zt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=y9({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Zt(o=>{if(!Nu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ie(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;w9.set(this.visualElement,this);const e=this.visualElement.current,n=vo(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();go(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),_e.read(i);const o=mc(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Zt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=sy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Nu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function x9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class S9 extends jr{constructor(e){super(e),this.removeGroupControls=Kt,this.removeListeners=Kt,this.controls=new b9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Nk=t=>(e,n)=>{t&&_e.postRender(()=>t(e,n))};class k9 extends jr{constructor(){super(...arguments),this.removePointerDownListener=Kt}onPointerDown(e){this.session=new dR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:Nk(e),onStart:Nk(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&_e.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=vo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Y.test(t))t=parseFloat(t);else return t;const n=Lk(t,e.target.x),i=Lk(t,e.target.y);return`${n}% ${i}%`}},C9={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Rr.parse(t);if(r.length>5)return i;const s=Rr.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Ie(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class E9 extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;IK(T9),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),fd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||_e.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fR(t){const[e,n]=QI(),i=k.useContext(V_);return D.jsx(E9,{...t,layoutGroup:i,switchLayoutGroup:k.useContext(rM),isPresent:e,safeToRemove:n})}const T9={borderRadius:{...Wa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wa,borderTopRightRadius:Wa,borderBottomLeftRadius:Wa,borderBottomRightRadius:Wa,boxShadow:C9};function D9(t,e,n){const i=ft(t)?t:fc(t);return i.start(v0("",i,e,n)),i.animation}function P9(t){return t instanceof SVGElement&&t.tagName!=="svg"}const I9=(t,e)=>t.depth-e.depth;class M9{constructor(){this.children=[],this.isDirty=!1}add(e){a0(this.children,e),this.isDirty=!0}remove(e){l0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(I9),this.isDirty=!1,this.children.forEach(e)}}function R9(t,e){const n=Jn.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(Mr(i),t(s-e))};return _e.read(i,!0),()=>Mr(i)}const pR=["TopLeft","TopRight","BottomLeft","BottomRight"],A9=pR.length,Fk=t=>typeof t=="string"?parseFloat(t):t,Vk=t=>typeof t=="number"||Y.test(t);function O9(t,e,n,i,r,s){r?(t.opacity=Ie(0,n.opacity!==void 0?n.opacity:1,N9(i)),t.opacityExit=Ie(e.opacity!==void 0?e.opacity:1,0,L9(i))):s&&(t.opacity=Ie(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<A9;o++){const a=`border${pR[o]}Radius`;let l=Bk(e,a),c=Bk(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Vk(l)===Vk(c)?(t[a]=Math.max(Ie(Fk(l),Fk(c),i),0),(Xn.test(c)||Xn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ie(e.rotate||0,n.rotate||0,i))}function Bk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const N9=mR(0,.5,AM),L9=mR(.5,.95,Kt);function mR(t,e,n){return i=>i<t?0:i>e?1:n(ra(t,e,i))}function jk(t,e){t.min=e.min,t.max=e.max}function Jt(t,e){jk(t.x,e.x),jk(t.y,e.y)}function Wk(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zk(t,e,n,i,r){return t-=e,t=Fh(t,1/n,i),r!==void 0&&(t=Fh(t,1/r,i)),t}function F9(t,e=0,n=1,i=.5,r,s=t,o=t){if(Xn.test(e)&&(e=parseFloat(e),e=Ie(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ie(s.min,s.max,i);t===s&&(a-=e),t.min=zk(t.min,e,n,a,r),t.max=zk(t.max,e,n,a,r)}function Uk(t,e,[n,i,r],s,o){F9(t,e[n],e[i],e[r],e.scale,s,o)}const V9=["x","scaleX","originX"],B9=["y","scaleY","originY"];function Hk(t,e,n,i){Uk(t.x,e,V9,n?n.x:void 0,i?i.x:void 0),Uk(t.y,e,B9,n?n.y:void 0,i?i.y:void 0)}function Yk(t){return t.translate===0&&t.scale===1}function gR(t){return Yk(t.x)&&Yk(t.y)}function $k(t,e){return t.min===e.min&&t.max===e.max}function j9(t,e){return $k(t.x,e.x)&&$k(t.y,e.y)}function Kk(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function yR(t,e){return Kk(t.x,e.x)&&Kk(t.y,e.y)}function qk(t){return St(t.x)/St(t.y)}function Gk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class W9{constructor(){this.members=[]}add(e){a0(this.members,e),e.scheduleRender()}remove(e){if(l0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function z9(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:f,skewY:p}=n;c&&(i=`perspective(${c}px) ${i}`),u&&(i+=`rotate(${u}deg) `),d&&(i+=`rotateX(${d}deg) `),h&&(i+=`rotateY(${h}deg) `),f&&(i+=`skewX(${f}deg) `),p&&(i+=`skewY(${p}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const am=["","X","Y","Z"],U9={visibility:"hidden"},Qk=1e3;let H9=0;function lm(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function vR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=EM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",_e,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&vR(i)}function _R({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=H9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(K9),this.nodes.forEach(J9),this.nodes.forEach(Z9),this.nodes.forEach(q9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new M9)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new c0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=P9(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=R9(h,250),fd.hasAnimatedSinceResize&&(fd.hasAnimatedSinceResize=!1,this.nodes.forEach(Jk))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||rQ,{onLayoutAnimationStart:v,onLayoutAnimationComplete:g}=u.getProps(),y=!this.targetLayout||!yR(this.targetLayout,p),_=!h&&f;if(this.options.layoutRoot||this.resumeFrom||_||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const b={...i0(m,"layout"),onPlay:v,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||Jk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Mr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eQ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xk);return}this.isUpdating||this.nodes.forEach(Q9),this.isUpdating=!1,this.nodes.forEach(X9),this.nodes.forEach(Y9),this.nodes.forEach($9),this.clearAllSnapshots();const a=Jn.now();it.delta=Ni(0,1e3/60,a-it.timestamp),it.timestamp=a,it.isProcessing=!0,Jp.update.process(it),Jp.preRender.process(it),Jp.render.process(it),it.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(G9),this.sharedNodes.forEach(tQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!St(this.snapshot.measuredBox.x)&&!St(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!gR(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Zr(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),sQ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Fe();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(oQ))){const{scroll:u}=this.root;u&&(wo(l.x,u.offset.x),wo(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Fe();if(Jt(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Jt(l,o),wo(l.x,d.offset.x),wo(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Fe();Jt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&bo(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Zr(u.latestValues)&&bo(l,u.latestValues)}return Zr(this.latestValues)&&bo(l,this.latestValues),l}removeTransform(o){const a=Fe();Jt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Zr(c.latestValues))continue;iy(c.latestValues)&&c.updateSnapshot();const u=Fe(),d=c.measurePageBox();Jt(u,d),Hk(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Zr(this.latestValues)&&Hk(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==it.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=it.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),kl(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),l9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jt(this.target,this.layout.layoutBox),cR(this.target,this.targetDelta)):Jt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),kl(this.relativeTargetOrigin,this.target,f.target),Jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||iy(this.parent.latestValues)||lR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===it.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Jt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;c9(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Fe());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Wk(this.prevProjectionDelta.x,this.projectionDelta.x),Wk(this.prevProjectionDelta.y,this.projectionDelta.y)),Sl(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Gk(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_o(),this.projectionDelta=_o(),this.projectionDeltaWithTransform=_o()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=_o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Fe(),f=l?l.source:void 0,p=this.layout?this.layout.source:void 0,m=f!==p,v=this.getStack(),g=!v||v.members.length<=1,y=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(iQ));this.animationProgress=0;let _;this.mixTargetDelta=b=>{const w=b/1e3;Zk(d.x,o.x,w),Zk(d.y,o.y,w),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kl(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nQ(this.relativeTarget,this.relativeTargetOrigin,h,w),_&&j9(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Fe()),Jt(_,this.relativeTarget)),m&&(this.animationValues=u,O9(u,c,this.latestValues,w,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Mr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_e.update(()=>{fd.hasAnimatedSinceResize=!0,this.currentAnimation=D9(0,Qk,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Qk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&wR(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Fe();const d=St(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=St(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Jt(a,l),bo(a,u),Sl(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new W9),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&lm("z",o,c,this.animationValues);for(let u=0;u<am.length;u++)lm(`rotate${am[u]}`,o,c,this.animationValues),lm(`skew${am[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return U9;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=dd(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=dd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Zr(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=z9(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:f,y:p}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in uc){if(h[m]===void 0)continue;const{correct:v,applyTo:g,isCSSVariable:y}=uc[m],_=c.transform==="none"?h[m]:v(h[m],d);if(g){const b=g.length;for(let w=0;w<b;w++)c[g[w]]=_}else y?this.options.visualElement.renderState.vars[m]=_:c[m]=_}return this.options.layoutId&&(c.pointerEvents=d===this?dd(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Xk),this.root.sharedNodes.clear()}}}function Y9(t){t.updateLayout()}function $9(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Zt(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=St(h);h.min=i[d].min,h.max=h.min+f}):wR(s,n.layoutBox,i)&&Zt(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=St(i[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=_o();Sl(a,i,n.layoutBox);const l=_o();o?Sl(l,t.applyTransform(r,!0),n.measuredBox):Sl(l,i,n.layoutBox);const c=!gR(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const p=Fe();kl(p,n.layoutBox,h.layoutBox);const m=Fe();kl(m,i,f.layoutBox),yR(p,m)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function K9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function q9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function G9(t){t.clearSnapshot()}function Xk(t){t.clearMeasurements()}function Q9(t){t.isLayoutDirty=!1}function X9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Jk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function J9(t){t.resolveTargetDelta()}function Z9(t){t.calcProjection()}function eQ(t){t.resetSkewAndRotation()}function tQ(t){t.removeLeadSnapshot()}function Zk(t,e,n){t.translate=Ie(e.translate,0,n),t.scale=Ie(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function eC(t,e,n,i){t.min=Ie(e.min,n.min,i),t.max=Ie(e.max,n.max,i)}function nQ(t,e,n,i){eC(t.x,e.x,n.x,i),eC(t.y,e.y,n.y,i)}function iQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const rQ={duration:.45,ease:[.4,0,.1,1]},tC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),nC=tC("applewebkit/")&&!tC("chrome/")?Math.round:Kt;function iC(t){t.min=nC(t.min),t.max=nC(t.max)}function sQ(t){iC(t.x),iC(t.y)}function wR(t,e,n){return t==="position"||t==="preserve-aspect"&&!a9(qk(e),qk(n),.2)}function oQ(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const aQ=_R({attachResizeListener:(t,e)=>mc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cm={current:void 0},bR=_R({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!cm.current){const t=new aQ({});t.mount(window),t.setOptions({layoutScroll:!0}),cm.current=t}return cm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lQ={pan:{Feature:k9},drag:{Feature:S9,ProjectionNode:bR,MeasureLayout:fR}};function rC(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&_e.postRender(()=>s(e,zc(e)))}class cQ extends jr{mount(){const{current:e}=this.node;e&&(this.unmount=aq(e,(n,i)=>(rC(this.node,i,"Start"),r=>rC(this.node,r,"End"))))}unmount(){}}class uQ extends jr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wc(mc(this.node.current,"focus",()=>this.onFocus()),mc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sC(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&_e.postRender(()=>s(e,zc(e)))}class dQ extends jr{mount(){const{current:e}=this.node;e&&(this.unmount=dq(e,(n,i)=>(sC(this.node,i,"Start"),(r,{success:s})=>sC(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const oy=new WeakMap,um=new WeakMap,hQ=t=>{const e=oy.get(t.target);e&&e(t)},fQ=t=>{t.forEach(hQ)};function pQ({root:t,...e}){const n=t||document;um.has(n)||um.set(n,{});const i=um.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(fQ,{root:t,...e})),i[r]}function mQ(t,e,n){const i=pQ(e);return oy.set(t,n),i.observe(t),()=>{oy.delete(t),i.unobserve(t)}}const gQ={some:0,all:1};class yQ extends jr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:gQ[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return mQ(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(vQ(e,n))&&this.startObserver()}unmount(){}}function vQ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _Q={inView:{Feature:yQ},tap:{Feature:dQ},focus:{Feature:uQ},hover:{Feature:cQ}},wQ={layout:{ProjectionNode:bR,MeasureLayout:fR}},ay={current:null},xR={current:!1};function bQ(){if(xR.current=!0,!!W_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ay.current=t.matches;t.addListener(e),e()}else ay.current=!1}const xQ=[...KM,ut,Rr],SQ=t=>xQ.find($M(t)),kQ=new WeakMap;function CQ(t,e,n){for(const i in e){const r=e[i],s=n[i];if(ft(r))t.addValue(i,r);else if(ft(s))t.addValue(i,fc(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,fc(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const oC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class EQ{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=m0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Jn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,_e.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Vf(n),this.isVariantNode=nM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];l[f]!==void 0&&ft(p)&&p.set(l[f],!1)}}mount(e){this.current=e,kQ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),xR.current||bQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ay.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Mr(this.notifyUpdate),Mr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=qs.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&_e.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sa){const n=sa[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<oC.length;i++){const r=oC[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=CQ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=fc(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(HM(r)||NM(r))?r=parseFloat(r):!SQ(r)&&Rr.test(n)&&(r=WM(e,n)),this.setBaseTarget(e,ft(r)?r.get():r)),ft(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=t0(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ft(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new c0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class SR extends EQ{constructor(){super(...arguments),this.KeyframeResolver=qM}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ft(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function TQ(t){return window.getComputedStyle(t)}class DQ extends SR{constructor(){super(...arguments),this.type="html",this.renderInstance=fM}readValueFromInstance(e,n){if(qs.has(n)){const i=p0(n);return i&&i.default||0}else{const i=TQ(e),r=(K_(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uR(e,n)}build(e,n,i){Q_(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return n0(e,n,i)}}class PQ extends SR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fe,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&hM(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(qs.has(n)){const i=p0(n);return i&&i.default||0}return n=pM.has(n)?n:Y_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return gM(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&_e.postRender(this.updateDimensions)}build(e,n,i){Z_(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){mM(e,n,i,r)}mount(e){this.isSVGTag=e0(e.tagName),super.mount(e)}}const IQ=(t,e)=>J_(t)?new PQ(e):new DQ(e,{allowProjection:t!==k.Fragment}),MQ=eq({...ZG,..._Q,...lQ,...wQ},IQ),aC=gK(MQ);function RQ({isOpen:t,onClose:e,children:n}){const i=k.useRef(null);return k.useEffect(()=>{const r=s=>{i.current&&!i.current.contains(s.target)&&e()};return t&&document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[t,e]),D.jsx(lK,{children:t&&D.jsx(aC.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:D.jsxs(aC.div,{ref:i,className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md relative",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},children:[D.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:"×"}),n]})})})}var ly={exports:{}};/*!
 * validate.js 0.13.1
 *
 * (c) 2013-2019 Nicklas Ansman, 2013 Wrapp
 * Validate.js may be freely distributed under the MIT license.
 * For all details and documentation:
 * http://validatejs.org/
 */(function(t,e){(function(n,i,r){var s=function(a,l,c){c=o.extend({},o.options,c);var u=o.runValidations(a,l,c);if(u.some(function(d){return o.isPromise(d.error)}))throw new Error("Use validate.async if you want support for promises");return s.processValidationResults(u,c)},o=s;o.extend=function(a){return[].slice.call(arguments,1).forEach(function(l){for(var c in l)a[c]=l[c]}),a},o.extend(s,{version:{major:0,minor:13,patch:1,metadata:null,toString:function(){var a=o.format("%{major}.%{minor}.%{patch}",o.version);return o.isEmpty(o.version.metadata)||(a+="+"+o.version.metadata),a}},Promise:typeof Promise<"u"?Promise:null,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(a,l,c){var u=[],d,h,f,p,m,v,g;(o.isDomElement(a)||o.isJqueryElement(a))&&(a=o.collectFormValues(a));for(d in l){f=o.getDeepObjectValue(a,d),p=o.result(l[d],f,a,d,c,l);for(h in p){if(m=o.validators[h],!m)throw g=o.format("Unknown validator %{name}",{name:h}),new Error(g);v=p[h],v=o.result(v,f,a,d,c,l),v&&u.push({attribute:d,value:f,validator:h,globalOptions:c,attributes:a,options:v,error:m.call(m,f,v,d,a,c)})}}return u},processValidationResults:function(a,l){a=o.pruneEmptyErrors(a,l),a=o.expandMultipleErrors(a,l),a=o.convertErrorMessages(a,l);var c=l.format||"grouped";if(typeof o.formatters[c]=="function")a=o.formatters[c](a);else throw new Error(o.format("Unknown format %{format}",l));return o.isEmpty(a)?void 0:a},async:function(a,l,c){c=o.extend({},o.async.options,c);var u=c.wrapErrors||function(h){return h};c.cleanAttributes!==!1&&(a=o.cleanAttributes(a,l));var d=o.runValidations(a,l,c);return new o.Promise(function(h,f){o.waitForResults(d).then(function(){var p=o.processValidationResults(d,c);p?f(new u(p,c,a,l)):h(a)},function(p){f(p)})})},single:function(a,l,c){return c=o.extend({},o.single.options,c,{format:"flat",fullMessages:!1}),o({single:a},{single:l},c)},waitForResults:function(a){return a.reduce(function(l,c){return o.isPromise(c.error)?l.then(function(){return c.error.then(function(u){c.error=u||null})}):l},new o.Promise(function(l){l()}))},result:function(a){var l=[].slice.call(arguments,1);return typeof a=="function"&&(a=a.apply(null,l)),a},isNumber:function(a){return typeof a=="number"&&!isNaN(a)},isFunction:function(a){return typeof a=="function"},isInteger:function(a){return o.isNumber(a)&&a%1===0},isBoolean:function(a){return typeof a=="boolean"},isObject:function(a){return a===Object(a)},isDate:function(a){return a instanceof Date},isDefined:function(a){return a!=null},isPromise:function(a){return!!a&&o.isFunction(a.then)},isJqueryElement:function(a){return a&&o.isString(a.jquery)},isDomElement:function(a){return!a||!a.querySelectorAll||!a.querySelector?!1:o.isObject(document)&&a===document?!0:typeof HTMLElement=="object"?a instanceof HTMLElement:a&&typeof a=="object"&&a!==null&&a.nodeType===1&&typeof a.nodeName=="string"},isEmpty:function(a){var l;if(!o.isDefined(a))return!0;if(o.isFunction(a))return!1;if(o.isString(a))return o.EMPTY_STRING_REGEXP.test(a);if(o.isArray(a))return a.length===0;if(o.isDate(a))return!1;if(o.isObject(a)){for(l in a)return!1;return!0}return!1},format:o.extend(function(a,l){return o.isString(a)?a.replace(o.format.FORMAT_REGEXP,function(c,u,d){return u==="%"?"%{"+d+"}":String(l[d])}):a},{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(a){return o.isNumber(a)?a*100%1===0?""+a:parseFloat(Math.round(a*100)/100).toFixed(2):o.isArray(a)?a.map(function(l){return o.prettify(l)}).join(", "):o.isObject(a)?o.isDefined(a.toString)?a.toString():JSON.stringify(a):(a=""+a,a.replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,function(l,c,u){return""+c+" "+u.toLowerCase()}).toLowerCase())},stringifyValue:function(a,l){var c=l&&l.prettify||o.prettify;return c(a)},isString:function(a){return typeof a=="string"},isArray:function(a){return{}.toString.call(a)==="[object Array]"},isHash:function(a){return o.isObject(a)&&!o.isArray(a)&&!o.isFunction(a)},contains:function(a,l){return o.isDefined(a)?o.isArray(a)?a.indexOf(l)!==-1:l in a:!1},unique:function(a){return o.isArray(a)?a.filter(function(l,c,u){return u.indexOf(l)==c}):a},forEachKeyInKeypath:function(a,l,c){if(o.isString(l)){var u="",d,h=!1;for(d=0;d<l.length;++d)switch(l[d]){case".":h?(h=!1,u+="."):(a=c(a,u,!1),u="");break;case"\\":h?(h=!1,u+="\\"):h=!0;break;default:h=!1,u+=l[d];break}return c(a,u,!0)}},getDeepObjectValue:function(a,l){if(o.isObject(a))return o.forEachKeyInKeypath(a,l,function(c,u){if(o.isObject(c))return c[u]})},collectFormValues:function(a,l){var c={},u,d,h,f,p,m;if(o.isJqueryElement(a)&&(a=a[0]),!a)return c;for(l=l||{},f=a.querySelectorAll("input[name], textarea[name]"),u=0;u<f.length;++u)if(h=f.item(u),!o.isDefined(h.getAttribute("data-ignored"))){var v=h.name.replace(/\./g,"\\\\.");m=o.sanitizeFormValue(h.value,l),h.type==="number"?m=m?+m:null:h.type==="checkbox"?h.attributes.value?h.checked||(m=c[v]||null):m=h.checked:h.type==="radio"&&(h.checked||(m=c[v]||null)),c[v]=m}for(f=a.querySelectorAll("select[name]"),u=0;u<f.length;++u)if(h=f.item(u),!o.isDefined(h.getAttribute("data-ignored"))){if(h.multiple){m=[];for(d in h.options)p=h.options[d],p&&p.selected&&m.push(o.sanitizeFormValue(p.value,l))}else{var g=typeof h.options[h.selectedIndex]<"u"?h.options[h.selectedIndex].value:"";m=o.sanitizeFormValue(g,l)}c[h.name]=m}return c},sanitizeFormValue:function(a,l){return l.trim&&o.isString(a)&&(a=a.trim()),l.nullify!==!1&&a===""?null:a},capitalize:function(a){return o.isString(a)?a[0].toUpperCase()+a.slice(1):a},pruneEmptyErrors:function(a){return a.filter(function(l){return!o.isEmpty(l.error)})},expandMultipleErrors:function(a){var l=[];return a.forEach(function(c){o.isArray(c.error)?c.error.forEach(function(u){l.push(o.extend({},c,{error:u}))}):l.push(c)}),l},convertErrorMessages:function(a,l){l=l||{};var c=[],u=l.prettify||o.prettify;return a.forEach(function(d){var h=o.result(d.error,d.value,d.attribute,d.options,d.attributes,d.globalOptions);if(!o.isString(h)){c.push(d);return}h[0]==="^"?h=h.slice(1):l.fullMessages!==!1&&(h=o.capitalize(u(d.attribute))+" "+h),h=h.replace(/\\\^/g,"^"),h=o.format(h,{value:o.stringifyValue(d.value,l)}),c.push(o.extend({},d,{error:h}))}),c},groupErrorsByAttribute:function(a){var l={};return a.forEach(function(c){var u=l[c.attribute];u?u.push(c):l[c.attribute]=[c]}),l},flattenErrorsToArray:function(a){return a.map(function(l){return l.error}).filter(function(l,c,u){return u.indexOf(l)===c})},cleanAttributes:function(a,l){function c(h,f,p){return o.isObject(h[f])?h[f]:h[f]=p?!0:{}}function u(h){var f={},p;for(p in h)h[p]&&o.forEachKeyInKeypath(f,p,c);return f}function d(h,f){if(!o.isObject(h))return h;var p=o.extend({},h),m,v;for(v in h)m=f[v],o.isObject(m)?p[v]=d(p[v],m):m||delete p[v];return p}return!o.isObject(l)||!o.isObject(a)?{}:(l=u(l),d(a,l))},exposeModule:function(a,l,c,u,d){c?(u&&u.exports&&(c=u.exports=a),c.validate=a):(l.validate=a,a.isFunction(d)&&d.amd&&d([],function(){return a}))},warn:function(a){typeof console<"u"&&console.warn&&console.warn("[validate.js] "+a)},error:function(a){typeof console<"u"&&console.error&&console.error("[validate.js] "+a)}}),s.validators={presence:function(a,l){if(l=o.extend({},this.options,l),l.allowEmpty!==!1?!o.isDefined(a):o.isEmpty(a))return l.message||this.message||"can't be blank"},length:function(a,l,c){if(o.isDefined(a)){l=o.extend({},this.options,l);var u=l.is,d=l.maximum,h=l.minimum,f=l.tokenizer||function(g){return g},p,m=[];a=f(a);var v=a.length;if(!o.isNumber(v))return l.message||this.notValid||"has an incorrect length";if(o.isNumber(u)&&v!==u&&(p=l.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",m.push(o.format(p,{count:u}))),o.isNumber(h)&&v<h&&(p=l.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",m.push(o.format(p,{count:h}))),o.isNumber(d)&&v>d&&(p=l.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",m.push(o.format(p,{count:d}))),m.length>0)return l.message||m}},numericality:function(a,l,c,u,d){if(o.isDefined(a)){l=o.extend({},this.options,l);var h=[],f,p,m={greaterThan:function(b,w){return b>w},greaterThanOrEqualTo:function(b,w){return b>=w},equalTo:function(b,w){return b===w},lessThan:function(b,w){return b<w},lessThanOrEqualTo:function(b,w){return b<=w},divisibleBy:function(b,w){return b%w===0}},v=l.prettify||d&&d.prettify||o.prettify;if(o.isString(a)&&l.strict){var g="^-?(0|[1-9]\\d*)";if(l.onlyInteger||(g+="(\\.\\d+)?"),g+="$",!new RegExp(g).test(a))return l.message||l.notValid||this.notValid||this.message||"must be a valid number"}if(l.noStrings!==!0&&o.isString(a)&&!o.isEmpty(a)&&(a=+a),!o.isNumber(a))return l.message||l.notValid||this.notValid||this.message||"is not a number";if(l.onlyInteger&&!o.isInteger(a))return l.message||l.notInteger||this.notInteger||this.message||"must be an integer";for(f in m)if(p=l[f],o.isNumber(p)&&!m[f](a,p)){var y="not"+o.capitalize(f),_=l[y]||this[y]||this.message||"must be %{type} %{count}";h.push(o.format(_,{count:p,type:v(f)}))}if(l.odd&&a%2!==1&&h.push(l.notOdd||this.notOdd||this.message||"must be odd"),l.even&&a%2!==0&&h.push(l.notEven||this.notEven||this.message||"must be even"),h.length)return l.message||h}},datetime:o.extend(function(a,l){if(!o.isFunction(this.parse)||!o.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");if(o.isDefined(a)){l=o.extend({},this.options,l);var c,u=[],d=l.earliest?this.parse(l.earliest,l):NaN,h=l.latest?this.parse(l.latest,l):NaN;if(a=this.parse(a,l),isNaN(a)||l.dateOnly&&a%864e5!==0)return c=l.notValid||l.message||this.notValid||"must be a valid date",o.format(c,{value:arguments[0]});if(!isNaN(d)&&a<d&&(c=l.tooEarly||l.message||this.tooEarly||"must be no earlier than %{date}",c=o.format(c,{value:this.format(a,l),date:this.format(d,l)}),u.push(c)),!isNaN(h)&&a>h&&(c=l.tooLate||l.message||this.tooLate||"must be no later than %{date}",c=o.format(c,{date:this.format(h,l),value:this.format(a,l)}),u.push(c)),u.length)return o.unique(u)}},{parse:null,format:null}),date:function(a,l){return l=o.extend({},l,{dateOnly:!0}),o.validators.datetime.call(o.validators.datetime,a,l)},format:function(a,l){(o.isString(l)||l instanceof RegExp)&&(l={pattern:l}),l=o.extend({},this.options,l);var c=l.message||this.message||"is invalid",u=l.pattern,d;if(o.isDefined(a)&&(!o.isString(a)||(o.isString(u)&&(u=new RegExp(l.pattern,l.flags)),d=u.exec(a),!d||d[0].length!=a.length)))return c},inclusion:function(a,l){if(o.isDefined(a)&&(o.isArray(l)&&(l={within:l}),l=o.extend({},this.options,l),!o.contains(l.within,a))){var c=l.message||this.message||"^%{value} is not included in the list";return o.format(c,{value:a})}},exclusion:function(a,l){if(o.isDefined(a)&&(o.isArray(l)&&(l={within:l}),l=o.extend({},this.options,l),!!o.contains(l.within,a))){var c=l.message||this.message||"^%{value} is restricted";return o.isString(l.within[a])&&(a=l.within[a]),o.format(c,{value:a})}},email:o.extend(function(a,l){l=o.extend({},this.options,l);var c=l.message||this.message||"is not a valid email";if(o.isDefined(a)&&(!o.isString(a)||!this.PATTERN.exec(a)))return c},{PATTERN:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i}),equality:function(a,l,c,u,d){if(o.isDefined(a)){o.isString(l)&&(l={attribute:l}),l=o.extend({},this.options,l);var h=l.message||this.message||"is not equal to %{attribute}";if(o.isEmpty(l.attribute)||!o.isString(l.attribute))throw new Error("The attribute must be a non empty string");var f=o.getDeepObjectValue(u,l.attribute),p=l.comparator||function(v,g){return v===g},m=l.prettify||d&&d.prettify||o.prettify;if(!p(a,f,l,c,u))return o.format(h,{attribute:m(l.attribute)})}},url:function(a,l){if(o.isDefined(a)){l=o.extend({},this.options,l);var c=l.message||this.message||"is not a valid url",u=l.schemes||this.schemes||["http","https"],d=l.allowLocal||this.allowLocal||!1,h=l.allowDataUrl||this.allowDataUrl||!1;if(!o.isString(a))return c;var f="^(?:(?:"+u.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",p="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";if(d?p+="?":f+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",f+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+p+")(?::\\d{2,5})?(?:[/?#]\\S*)?$",h){var m="\\w+\\/[-+.\\w]+(?:;[\\w=]+)*",v="[A-Za-z0-9-_.!~\\*'();\\/?:@&=+$,%]*",g="data:(?:"+m+")?(?:;base64)?,"+v;f="(?:"+f+")|(?:^"+g+"$)"}var y=new RegExp(f,"i");if(!y.exec(a))return c}},type:o.extend(function(a,l,c,u,d){if(o.isString(l)&&(l={type:l}),!!o.isDefined(a)){var h=o.extend({},this.options,l),f=h.type;if(!o.isDefined(f))throw new Error("No type was specified");var p;if(o.isFunction(f)?p=f:p=this.types[f],!o.isFunction(p))throw new Error("validate.validators.type.types."+f+" must be a function.");if(!p(a,h,c,u,d)){var m=l.message||this.messages[f]||this.message||h.message||(o.isFunction(f)?"must be of the correct type":"must be of type %{type}");return o.isFunction(m)&&(m=m(a,l,c,u,d)),o.format(m,{attribute:o.prettify(c),type:f})}}},{types:{object:function(a){return o.isObject(a)&&!o.isArray(a)},array:o.isArray,integer:o.isInteger,number:o.isNumber,string:o.isString,date:o.isDate,boolean:o.isBoolean},messages:{}})},s.formatters={detailed:function(a){return a},flat:o.flattenErrorsToArray,grouped:function(a){var l;a=o.groupErrorsByAttribute(a);for(l in a)a[l]=o.flattenErrorsToArray(a[l]);return a},constraint:function(a){var l;a=o.groupErrorsByAttribute(a);for(l in a)a[l]=a[l].map(function(c){return c.validator}).sort();return a}},s.exposeModule(s,this,n,i,r)}).call(RR,e,t,null)})(ly,ly.exports);var AQ=ly.exports;const OQ=dy(AQ),NQ={"auth/invalid-email":"Invalid email address.","auth/user-disabled":"This user account has been disabled.","auth/user-not-found":"User not found.","auth/wrong-password":"Incorrect password.","auth/email-already-in-use":"Email address is already in use.","auth/weak-password":"Password should be at least 6 characters.","auth/operation-not-allowed":"Email/password accounts are not enabled.","auth/missing-email":"Email is required","auth/invalid-credential":"Incorrect email or password."};function LQ(t){return console.log(t),NQ[t]||"An unexpected error occurred."}const FQ={email:{presence:{allowEmpty:!1,message:"is required"},email:{message:"is not valid"}},password:{presence:{allowEmpty:!1,message:"is required"},length:{minimum:6,message:"must be at least 6 characters"}}};function VQ({onClose:t}){const[e,n]=k.useState({email:"",password:""}),[i,r]=k.useState(!1),[s,o]=k.useState(null),[a,l]=k.useState(null),c=d=>{n({...e,[d.target.name]:d.target.value})},u=async d=>{d.preventDefault(),l(null);const h=OQ(e,FQ);if(o(h||null),!h)try{i?await NW(uh,e.email,e.password):await LW(uh,e.email,e.password),t()}catch(f){l(LQ(f.code))}};return D.jsxs("div",{children:[D.jsx("h2",{className:"text-2xl font-bold mb-4",children:i?"Sign Up":"Sign In"}),a&&D.jsx("p",{className:"text-red-500 mb-4",children:a}),D.jsxs("form",{onSubmit:u,className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),D.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:c,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${s!=null&&s.email?"border-red-500":"border-gray-300"}`}),(s==null?void 0:s.email)&&D.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.email[0]})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),D.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:c,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${s!=null&&s.password?"border-red-500":"border-gray-300"}`}),(s==null?void 0:s.password)&&D.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.password[0]})]}),D.jsx("button",{type:"submit",className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:i?"Sign Up":"Sign In"})]}),D.jsx("div",{className:"mt-4 text-center",children:i?D.jsxs("p",{children:["Already have an account?"," ",D.jsx("button",{onClick:()=>r(!1),className:"text-indigo-600 hover:text-indigo-800 focus:outline-none",children:"Sign In"})]}):D.jsxs("p",{children:["Don't have an account?"," ",D.jsx("button",{onClick:()=>r(!0),className:"text-indigo-600 hover:text-indigo-800 focus:outline-none",children:"Sign Up"})]})})]})}function BQ(){var C;const{currentUser:t}=GI(),[e,n]=k.useState(!1),[i,r]=k.useState({word:"Apple",phonetic:"/ˈæpəl/",EnglishDefinition:["","A common, round fruit produced by the tree Malus domestica, cultivated in temperate climates."],exampleSentences:["","I like apples.","Apples are good for health."]}),[s,o]=k.useState({}),a=(x,E)=>{o(T=>{const R=(T[x]||0)+E;return{...T,[x]:R}})},[l,c]=k.useState(new Set),u=x=>{c(E=>new Set([...E,x]))},[d,h]=k.useState({}),f=x=>{h(E=>{const T=(E[x]||0)+1;return{...E,[x]:T}})};let p=!1;k.useEffect(()=>{(async()=>{if(t)try{if(p)return;p=!0;const E=Tr(new Date,"yyyy-MM-dd"),T=await NP(t.uid,E);T&&c(()=>new Set(Object.keys(T.words))),E3(t.uid,50).then(R=>{R&&o(()=>R)}),tx(t.uid,15).then(R=>{R&&h(()=>R)})}catch(E){console.error("Error fetching data:",E)}else console.log("login currentUser",t)})()},[t]);const m=async x=>{if(b3(x)){x3(x);return}const E=await k3(x);if(E){if(r(E),f(x),l.has(x)||(a(Tr(new Date,"yyyy-MM-dd"),1),u(x)),t&&t.uid){await C3(t.uid,x);const T=await tx(t.uid,15);T&&h(()=>T)}}else console.log("Word not found"),w("Sorry, the word was not found.")},v=x=>{x.preventDefault()},[g,y]=k.useState(!1),_=()=>{y(!0)},b=()=>{y(!1)};function w(x){const E=document.getElementById("toast-container"),T=document.getElementById("toast-message");if(!E||!T){console.error("Toast container or message element not found!");return}T.classList.remove("fade-out"),T.style.opacity="1",T.classList.add("bg-blue-400"),T.textContent=x,E.style.display="block",T.offsetHeight,T.classList.add("fade-out"),setTimeout(()=>{T.classList.remove("fade-out"),T.classList.remove("bg-blue-400"),E.style.display="none"},3e3)}const S=async()=>{try{await jW(uh),w("Signed out successfully.")}catch(x){console.error("Error signing out:",x)}};return D.jsxs("div",{className:"min-h-screen bg-primary py-6 flex flex-col items-center justify-start",children:[D.jsx("header",{className:"bg-blue-500 text-white p-4 rounded-md shadow-md mb-8 w-[90%] mobile:w-[90%] md:w-[80%] max-w-4xl",children:D.jsx("nav",{className:"bg-blue-500 text-white p-4 w-full",children:D.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row items-center justify-between",children:[D.jsxs("div",{className:"flex items-center",children:[D.jsx(lN,{className:"h-6 w-6 mr-2"}),D.jsx("span",{className:"text-lg mobile:text-lg md:text-xl font-bold",children:"English Dictionary"})]}),D.jsxs("ul",{className:"flex space-x-3 mt-4 md:mt-0",children:[D.jsxs("li",{children:[(C=t==null?void 0:t.email)==null?void 0:C.split("@")[0]," "]}),D.jsx("li",{children:D.jsx("a",{href:"#statistics",className:"hover:text-gray-300",children:"Statistics"})}),D.jsx("li",{children:D.jsx("a",{href:"#history",className:"hover:text-gray-300",children:"History"})}),D.jsx("li",{children:D.jsx("button",{onClick:_,className:"hover:text-gray-300",type:"button",children:"About"})}),D.jsx("li",{children:t?D.jsx("button",{onClick:S,className:"hover:text-gray-300",children:"Logout"}):D.jsx("button",{onClick:()=>n(!0),className:"hover:text-gray-300",children:"Login / Sign Up"})})]})]})})}),D.jsx(RQ,{isOpen:e,onClose:()=>n(!1),children:D.jsx(VQ,{onClose:()=>n(!1)})}),D.jsx(iK,{}),D.jsx("div",{id:"toast-container",children:D.jsx("div",{id:"toast-message"})}),D.jsx("form",{onSubmit:v,className:"flex-grow flex items-center justify-center w-[90%] mobile:w-[90%] md:w-[80%] flex-1",children:D.jsx("div",{className:"max-w-4/5 w-full py-12",children:D.jsx(fN,{onSearch:m})})}),D.jsxs("div",{className:"w-[90%] mobile:w-[90%] md:w-[80%] max-w-4/5 flex flex-col mb-8 mt-4 overflow-auto",children:[D.jsx(T3,{word:i.word,phonetic:i.phonetic,EnglishDefinitions:i.EnglishDefinition.length>0?i.EnglishDefinition:[""],exampleSentences:i.exampleSentences.length>0?i.exampleSentences:[""],onSearch:m}),D.jsx("div",{id:"statistics",children:D.jsx(i6,{todayWords:l,wordSearchCounts:d,dailyWordCounts:s,onSearch:m})}),D.jsx("div",{id:"history",children:D.jsx(nK,{todayWords:l,onSearch:m})})]}),g&&D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:D.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-[90%] mobile:w-[90%] md:w-[80%] max-w-md",children:[D.jsx("h2",{className:"text-lg font-semibold text-blue-500 mb-4",children:"About"}),D.jsx("p",{children:"This is a fun English dictionary app for personal use."}),D.jsxs("p",{children:["More details email ",D.jsx("a",{href:"mailto:zzhmail01@gmail.com",className:"text-blue-500 hover:underline",children:"zzhmail01@gmail.com"})," "]}),D.jsx("button",{onClick:b,type:"button",className:"px-4 py-2 mt-8 bg-blue-500 text-white rounded-full hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 mx-auto block",children:"Close"})]})})]})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vh.apply(this,arguments)}var cs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(cs||(cs={}));const lC="popstate";function jQ(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return cy("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:CR(r)}return zQ(e,n,null,t)}function kR(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function WQ(){return Math.random().toString(36).substr(2,8)}function cC(t,e){return{usr:t.state,key:t.key,idx:e}}function cy(t,e,n,i){return n===void 0&&(n=null),Vh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ER(e):e,{state:n,key:e&&e.key||i||WQ()})}function CR(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ER(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function zQ(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=cs.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Vh({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=cs.Pop;let v=u(),g=v==null?null:v-c;c=v,l&&l({action:a,location:m.location,delta:g})}function h(v,g){a=cs.Push;let y=cy(m.location,v,g);n&&n(y,v),c=u()+1;let _=cC(y,c),b=m.createHref(y);try{o.pushState(_,"",b)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;r.location.assign(b)}s&&l&&l({action:a,location:m.location,delta:1})}function f(v,g){a=cs.Replace;let y=cy(m.location,v,g);n&&n(y,v),c=u();let _=cC(y,c),b=m.createHref(y);o.replaceState(_,"",b),s&&l&&l({action:a,location:m.location,delta:0})}function p(v){let g=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof v=="string"?v:CR(v);return y=y.replace(/ $/,"%20"),kR(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let m={get action(){return a},get location(){return t(r,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(lC,d),l=v,()=>{r.removeEventListener(lC,d),l=null}},createHref(v){return e(r,v)},createURL:p,encodeLocation(v){let g=p(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:f,go(v){return o.go(v)}};return m}var uC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uC||(uC={}));function UQ(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const TR=["post","put","patch","delete"];new Set(TR);const HQ=["get",...TR];new Set(HQ);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uy(){return uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},uy.apply(this,arguments)}const YQ=k.createContext(null),DR=k.createContext(null);function $Q(){return k.useContext(DR)!=null}function KQ(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function qQ(t){let{basename:e="/",children:n=null,location:i,navigationType:r=cs.Pop,navigator:s,static:o=!1,future:a}=t;$Q()&&kR(!1);let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:s,static:o,future:uy({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=ER(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=i,m=k.useMemo(()=>{let v=UQ(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:p},navigationType:r}},[l,u,d,h,f,p,r]);return m==null?null:k.createElement(YQ.Provider,{value:c},k.createElement(DR.Provider,{children:n,value:m}))}new Promise(()=>{});/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const GQ="6";try{window.__reactRouterVersion=GQ}catch{}const QQ="startTransition",dC=CC[QQ];function XQ(t){let{basename:e,children:n,future:i,window:r}=t,s=k.useRef();s.current==null&&(s.current=jQ({window:r,v5Compat:!0}));let o=s.current,[a,l]=k.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},u=k.useCallback(d=>{c&&dC?dC(()=>l(d)):l(d)},[l,c]);return k.useLayoutEffect(()=>o.listen(u),[o,u]),k.useEffect(()=>KQ(i),[i]),k.createElement(qQ,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}var hC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hC||(hC={}));var fC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fC||(fC={}));function JQ(){return D.jsx(P.StrictMode,{children:D.jsx(XQ,{basename:"/EnglishPersonalDict",children:D.jsx(tK,{children:D.jsx(BQ,{})})})})}const pC=document.getElementById("root");pC&&DT(pC).render(D.jsx(JQ,{}));export{RR as c,dy as g};
